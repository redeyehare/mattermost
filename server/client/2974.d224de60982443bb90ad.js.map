{"version":3,"file":"2974.d224de60982443bb90ad.js","mappings":"0LAUA,MAAMA,EAAqB,CACvBC,yBCNG,SAAkCC,GACrC,IAAIC,EAAgBD,EACpB,IAAKA,EAAY,CACb,MAAME,EAAQC,OAAOC,WAErB,QAAQ,GACR,KAAKF,EAAQG,EAAAA,GAAUC,qBAAuBJ,GAASG,EAAAA,GAAUE,qBAC7DN,EAAgBO,EAAAA,GAAYC,mBAC5B,MAEJ,KAAKP,EAAQG,EAAAA,GAAUK,qBAAuBR,GAASG,EAAAA,GAAUC,oBAC7DL,EAAgBO,EAAAA,GAAYG,YAC5B,MAEJ,KAAKT,GAASG,EAAAA,GAAUK,oBACpBT,EAAgBO,EAAAA,GAAYI,YAC5B,MAEJ,QACIX,EAAgBO,EAAAA,GAAYK,aAGpC,CACA,MAAO,CACHC,KAAMC,EAAAA,GAAYC,uBAClBC,KAAMhB,EAEd,GDhBA,GAFkBiB,EAAAA,EAAAA,SAAQ,KAAMpB,EAEhC,EELe,SAA2BqB,GACtC,MAAMC,GAAoBC,EAAAA,EAAAA,QAAOlB,OAAOmB,WAAW,eAADC,OAAgBlB,EAAAA,GAAUE,qBAAuB,EAAC,SAC9FiB,GAAyBH,EAAAA,EAAAA,QAAOlB,OAAOmB,WAAW,eAADC,OAAgBlB,EAAAA,GAAUC,oBAAsB,EAAC,wBAAAiB,OAAuBlB,EAAAA,GAAUE,qBAAoB,SACvJkB,GAAmBJ,EAAAA,EAAAA,QAAOlB,OAAOmB,WAAW,eAADC,OAAgBlB,EAAAA,GAAUK,oBAAsB,EAAC,wBAAAa,OAAuBlB,EAAAA,GAAUC,oBAAmB,SAChJoB,GAAmBL,EAAAA,EAAAA,QAAOlB,OAAOmB,WAAW,eAADC,OAAgBlB,EAAAA,GAAUK,oBAAmB,SAExFiB,GAAmBC,EAAAA,EAAAA,cAAY,KAC7BR,EAAkBS,QAAQC,QAC1BX,EAAMpB,yBAAyBS,EAAAA,GAAYK,cACpCW,EAAuBK,QAAQC,QACtCX,EAAMpB,yBAAyBS,EAAAA,GAAYC,oBACpCgB,EAAiBI,QAAQC,QAChCX,EAAMpB,yBAAyBS,EAAAA,GAAYG,aACpCe,EAAiBG,QAAQC,SAChCX,EAAMpB,yBAAyBS,EAAAA,GAAYI,YAC/C,GACD,IA0BH,OAxBAmB,EAAAA,EAAAA,kBAAgB,KACZJ,GAAkB,GACnB,CAACA,KAEJK,EAAAA,EAAAA,YAAU,KACN,MAAMC,EAA+BC,IAC7BA,EAAEJ,SACFH,GACJ,EAQJ,OALAP,EAAkBS,QAAQM,iBAAiB,SAAUF,GACrDT,EAAuBK,QAAQM,iBAAiB,SAAUF,GAC1DR,EAAiBI,QAAQM,iBAAiB,SAAUF,GACpDP,EAAiBG,QAAQM,iBAAiB,SAAUF,GAE7C,KACHb,EAAkBS,QAAQO,oBAAoB,SAAUH,GACxDT,EAAuBK,QAAQO,oBAAoB,SAAUH,GAC7DR,EAAiBI,QAAQO,oBAAoB,SAAUH,GACvDP,EAAiBG,QAAQO,oBAAoB,SAAUH,EAA4B,CACtF,GACF,CAACN,IAEG,IACX,G","sources":["webpack://mattermost-webapp/./src/components/mobile_view_watcher/index.ts","webpack://mattermost-webapp/./src/actions/views/browser.ts","webpack://mattermost-webapp/./src/components/mobile_view_watcher/mobile_view_watcher.tsx"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {connect} from 'react-redux';\r\nimport type {ConnectedProps} from 'react-redux';\r\n\r\nimport {emitBrowserWindowResized} from 'actions/views/browser';\r\n\r\nimport MobileViewWatcher from './mobile_view_watcher';\r\n\r\nconst mapDispatchToProps = {\r\n    emitBrowserWindowResized,\r\n};\r\n\r\nconst connector = connect(null, mapDispatchToProps);\r\nexport type PropsFromRedux = ConnectedProps<typeof connector>;\r\nexport default connector(MobileViewWatcher);\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {Constants, ActionTypes, WindowSizes} from 'utils/constants';\r\n\r\nexport function emitBrowserWindowResized(windowSize?: string) {\r\n    let newWindowSize = windowSize;\r\n    if (!windowSize) {\r\n        const width = window.innerWidth;\r\n\r\n        switch (true) {\r\n        case width > Constants.TABLET_SCREEN_WIDTH && width <= Constants.DESKTOP_SCREEN_WIDTH: {\r\n            newWindowSize = WindowSizes.SMALL_DESKTOP_VIEW;\r\n            break;\r\n        }\r\n        case width > Constants.MOBILE_SCREEN_WIDTH && width <= Constants.TABLET_SCREEN_WIDTH: {\r\n            newWindowSize = WindowSizes.TABLET_VIEW;\r\n            break;\r\n        }\r\n        case width <= Constants.MOBILE_SCREEN_WIDTH: {\r\n            newWindowSize = WindowSizes.MOBILE_VIEW;\r\n            break;\r\n        }\r\n        default: {\r\n            newWindowSize = WindowSizes.DESKTOP_VIEW; // width > Constants.DESKTOP_SCREEN_WIDTH\r\n        }\r\n        }\r\n    }\r\n    return {\r\n        type: ActionTypes.BROWSER_WINDOW_RESIZED,\r\n        data: newWindowSize,\r\n    };\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {useCallback, useEffect, useLayoutEffect, useRef} from 'react';\r\n\r\nimport Constants, {WindowSizes} from 'utils/constants';\r\n\r\nimport type {PropsFromRedux} from './index';\r\n\r\ntype Props = PropsFromRedux;\r\n\r\nexport default function MobileViewWatcher(props: Props) {\r\n    const desktopMediaQuery = useRef(window.matchMedia(`(min-width: ${Constants.DESKTOP_SCREEN_WIDTH + 1}px)`));\r\n    const smallDesktopMediaQuery = useRef(window.matchMedia(`(min-width: ${Constants.TABLET_SCREEN_WIDTH + 1}px) and (max-width: ${Constants.DESKTOP_SCREEN_WIDTH}px)`));\r\n    const tabletMediaQuery = useRef(window.matchMedia(`(min-width: ${Constants.MOBILE_SCREEN_WIDTH + 1}px) and (max-width: ${Constants.TABLET_SCREEN_WIDTH}px)`));\r\n    const mobileMediaQuery = useRef(window.matchMedia(`(max-width: ${Constants.MOBILE_SCREEN_WIDTH}px)`));\r\n\r\n    const updateWindowSize = useCallback(() => {\r\n        if (desktopMediaQuery.current.matches) {\r\n            props.emitBrowserWindowResized(WindowSizes.DESKTOP_VIEW);\r\n        } else if (smallDesktopMediaQuery.current.matches) {\r\n            props.emitBrowserWindowResized(WindowSizes.SMALL_DESKTOP_VIEW);\r\n        } else if (tabletMediaQuery.current.matches) {\r\n            props.emitBrowserWindowResized(WindowSizes.TABLET_VIEW);\r\n        } else if (mobileMediaQuery.current.matches) {\r\n            props.emitBrowserWindowResized(WindowSizes.MOBILE_VIEW);\r\n        }\r\n    }, []);\r\n\r\n    useLayoutEffect(() => {\r\n        updateWindowSize();\r\n    }, [updateWindowSize]);\r\n\r\n    useEffect(() => {\r\n        const handleMediaQueryChangeEvent = (e: MediaQueryListEvent) => {\r\n            if (e.matches) {\r\n                updateWindowSize();\r\n            }\r\n        };\r\n\r\n        desktopMediaQuery.current.addEventListener('change', handleMediaQueryChangeEvent);\r\n        smallDesktopMediaQuery.current.addEventListener('change', handleMediaQueryChangeEvent);\r\n        tabletMediaQuery.current.addEventListener('change', handleMediaQueryChangeEvent);\r\n        mobileMediaQuery.current.addEventListener('change', handleMediaQueryChangeEvent);\r\n\r\n        return () => {\r\n            desktopMediaQuery.current.removeEventListener('change', handleMediaQueryChangeEvent);\r\n            smallDesktopMediaQuery.current.removeEventListener('change', handleMediaQueryChangeEvent);\r\n            tabletMediaQuery.current.removeEventListener('change', handleMediaQueryChangeEvent);\r\n            mobileMediaQuery.current.removeEventListener('change', handleMediaQueryChangeEvent);\r\n        };\r\n    }, [updateWindowSize]);\r\n\r\n    return null;\r\n}\r\n"],"names":["mapDispatchToProps","emitBrowserWindowResized","windowSize","newWindowSize","width","window","innerWidth","Constants","TABLET_SCREEN_WIDTH","DESKTOP_SCREEN_WIDTH","WindowSizes","SMALL_DESKTOP_VIEW","MOBILE_SCREEN_WIDTH","TABLET_VIEW","MOBILE_VIEW","DESKTOP_VIEW","type","ActionTypes","BROWSER_WINDOW_RESIZED","data","connect","props","desktopMediaQuery","useRef","matchMedia","concat","smallDesktopMediaQuery","tabletMediaQuery","mobileMediaQuery","updateWindowSize","useCallback","current","matches","useLayoutEffect","useEffect","handleMediaQueryChangeEvent","e","addEventListener","removeEventListener"],"sourceRoot":""}