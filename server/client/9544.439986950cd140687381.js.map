{"version":3,"file":"9544.439986950cd140687381.js","mappings":"mWAcA,MAAMA,EAA6BC,IAGtB,IAHuB,IAChCC,EAAM,GAAE,QACRC,GACIF,EACJ,OACIG,IAAAA,cAACC,EAAAA,EAAY,CACTC,KAAMJ,EACNK,SAAS,cAETH,IAAAA,cAACI,EAAAA,iBAAqBL,GACX,EAErBH,EAAAS,UAAA,CAhBEP,IAAGQ,IAAAA,OAAAC,YAkBP,U,eCnBe,SAASC,IACpB,MAAMC,GAAWC,EAAAA,EAAAA,aAAYC,EAAAA,IAC7B,OACIX,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,8BACHC,eAAe,uHACfC,OAAQ,CACJL,aAIhB,CCFA,MAAMM,EAAgClB,IAA8C,IAA7C,KAACmB,EAAI,QAAEjB,EAAO,QAAEkB,EAAO,QAAEC,GAAerB,EACvEsB,EAAe,KACnB,GAAIH,EACA,OAAQA,GACR,KAAKI,EAAAA,GAAeC,cAChBF,EACInB,IAAAA,cAAA,WACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,8BACHC,eAAe,4KAEnBb,IAAAA,cAAA,UACIA,IAAAA,cAAA,UACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,4BACHC,eAAe,oBAGvBb,IAAAA,cAAA,UACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,4BACHC,eAAe,+BAGvBb,IAAAA,cAAA,UACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,4BACHC,eAAe,sFAMnC,MACJ,KAAKO,EAAAA,GAAeE,oBAChBH,EACInB,IAAAA,cAAA,SACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,yBACHC,eAAe,6FAI3B,MACJ,KAAKO,EAAAA,GAAeG,eAChBJ,EACInB,IAAAA,cAAA,SACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,oBACHC,eAAe,8DAI3B,MACJ,KAAKO,EAAAA,GAAeI,eAChBL,EACInB,IAAAA,cAAA,SACIA,IAAAA,cAACQ,EAAa,OAGtB,MACJ,KAAKY,EAAAA,GAAeK,eAChBN,EACInB,IAAAA,cAAA,SACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,+BACHC,eAAe,mHAI3B,MACJ,KAAKO,EAAAA,GAAeM,kBAChBP,EACInB,IAAAA,cAAA,SACKkB,EACGlB,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,wCACHC,eAAe,kFAGnBb,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,kCACHC,eAAe,6HAM/B,MACJ,KAAKO,EAAAA,GAAeO,mBAChBR,EACInB,IAAAA,cAAA,WACIA,IAAAA,cAAA,SACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,2BACHC,eAAe,4FACfC,OAAQ,CACJG,cAIZjB,IAAAA,cAAA,SACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,kCACHC,eAAe,mEACfC,OAAQ,CACJc,KACI5B,IAAAA,cAACJ,EAAS,CACNE,IAAK,yDACLC,SAAS8B,EAAAA,EAAAA,eAAc,CACnBjB,GAAI,uCACJC,eAAgB,sBAOxCb,IAAAA,cAAA,SACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,qCACHC,eAAe,wGACfC,OAAQ,CACJc,KACI5B,IAAAA,cAACJ,EAAS,CACNE,IAAK,yDACLC,SAAS8B,EAAAA,EAAAA,eAAc,CACnBjB,GAAI,0CACJC,eAAgB,mBAOxCb,IAAAA,cAAA,SACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,kCACHC,eAAe,mEACfC,OAAQ,CACJc,KACI5B,IAAAA,cAACJ,EAAS,CACNE,IAAK,yDACLC,SAAS8B,EAAAA,EAAAA,eAAc,CACnBjB,GAAI,uCACJC,eAAgB,iBAOxCb,IAAAA,cAAA,SACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,iCACHC,eAAe,+JACfC,OAAQ,CACJc,KACI5B,IAAAA,cAACJ,EAAS,CACNE,IAAK,+CACLC,SAAS8B,EAAAA,EAAAA,eAAc,CACnBjB,GAAI,sCACJC,eAAgB,iCAShD,MACJ,KAAKO,EAAAA,GAAeU,oBAChBX,EACInB,IAAAA,cAAA,SACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,4BACHC,eAAe,0DACfC,OAAQ,CACJG,cAKhB,MACJ,KAAKG,EAAAA,GAAeW,2BACpB,KAAKX,EAAAA,GAAeY,oBAChBb,EACInB,IAAAA,cAAA,SACKD,GAGT,MACJ,KAAKqB,EAAAA,GAAea,eACpB,QACId,EACInB,IAAAA,cAAA,SACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,0BACHC,eAAe,2DAM/BM,EADOpB,EAEHC,IAAAA,cAAA,SACKD,GAKLC,IAAAA,cAAA,SACIA,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,wBACHC,eAAe,4BAM/B,OAAOM,CAAY,EACrBJ,EAAAV,UAAA,CApOEW,KAAIV,IAAAA,UAAA,CAAAA,IAAAA,OAAAA,IAAAA,MAAA,UACJP,QAAOO,IAAAA,OACPW,QAAOX,IAAAA,OACPY,QAAOZ,IAAAA,MAmOX,UCrOM4B,EAA8BrC,IAA0B,IAAzB,KAACmB,EAAI,MAAEmB,GAAatC,EACjDuC,EAAa,KACjB,GAAIpB,EACA,OAAQA,GACR,KAAKI,EAAAA,GAAeC,cAChBe,EACIpC,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,4BACHC,eAAe,2BAGvB,MACJ,KAAKO,EAAAA,GAAeE,oBAChBc,EACIpC,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,wBACHC,eAAe,sBAGvB,MACJ,KAAKO,EAAAA,GAAeG,eAChBa,EACIpC,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,mBACHC,eAAe,mBAGvB,MACJ,KAAKO,EAAAA,GAAeI,eAChBY,EACIpC,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,6BACHC,eAAe,qBAGvB,MACJ,KAAKO,EAAAA,GAAeU,oBAChBM,EACIpC,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,kCACHC,eAAe,wBAGvB,MACJ,KAAKO,EAAAA,GAAeO,mBAChBS,EACIpC,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,iCACHC,eAAe,+BAGvB,MACJ,KAAKO,EAAAA,GAAeW,2BACpB,KAAKX,EAAAA,GAAeY,oBAChBI,EACIpC,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,kCACHC,eAAe,0BAGvB,MACJ,KAAKO,EAAAA,GAAeK,eAChBW,EACIpC,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,6BACHC,eAAe,mBAGvB,MACJ,KAAKO,EAAAA,GAAeM,kBAChBU,EACIpC,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,gCACHC,eAAe,sBAGvB,MACJ,KAAKO,EAAAA,GAAea,eACpB,QACIG,EACIpC,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,wBACHC,eAAe,wBAK3BuB,EADOD,EACMnC,IAAAA,cAAAA,IAAAA,SAAA,KAAGmC,GAGZnC,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,sBACHC,eAAe,UAK3B,OAAOuB,CAAU,EACnBF,EAAA7B,UAAA,CAtGEW,KAAIV,IAAAA,UAAA,CAAAA,IAAAA,OAAAA,IAAAA,MAAA,UACJ6B,MAAK7B,IAAAA,OAAAC,YAuGT,UCvFe,MAAM8B,UAAkBrC,IAAAA,cAC5BsC,iBAAAA,GACHC,SAASC,KAAKC,aAAa,QAAS,eACxC,CAEOC,oBAAAA,GACHH,SAASC,KAAKG,gBAAgB,QAClC,CAEOC,MAAAA,GACH,MAAM,QAAC1B,GAAW2B,KAAKC,MACjBC,EAA0B,IAAIC,gBAAgBH,KAAKC,MAAM3C,SAAS8C,QAClEC,EAAYH,EAAOI,IAAI,KAE7B,IAAIC,GAAc,EAClB,GAAIF,EAAW,CACXH,EAAOM,OAAO,KAEd,MACMC,EAAS,+BADHT,KAAKC,MAAMS,2BAC+B,6BAEhDC,EAASC,EAAAA,aAAoB,UACnCD,EAAOE,OAAO,UAAYX,EAAOY,YACjCP,EAAcI,EAAOA,OAAOF,EAAQJ,EAAW,SACnD,CAEA,MAAMlC,EAAO+B,EAAOI,IAAI,QAClBhB,EAASiB,GAAeL,EAAOI,IAAI,UAAa,GAChDpD,EAAWqD,GAAeL,EAAOI,IAAI,YAAe,GACpDlC,EAAWmC,GAAeL,EAAOI,IAAI,YAAe,GACpDS,EAAYR,GAAeL,EAAOI,IAAI,aAAgB,GAE5D,IAAIU,EAEAA,EADA7C,IAASI,EAAAA,GAAeE,qBAAuBsC,GASxC5C,IAASI,EAAAA,GAAeI,gBAAkBoC,EAP7C5D,IAAAA,cAAC8D,EAAAA,KAAI,CAACC,GAAIH,GACN5D,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,qBACHC,eAAe,wBAapBG,IAASI,EAAAA,GAAeK,eAE3BzB,IAAAA,cAAC8D,EAAAA,KAAI,CAACC,GAAG,KACL/D,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,yBACHC,eAAe,qBACfC,OAAQ,CACJkD,SAAUnB,KAAKC,MAAMkB,aAK9BhD,IAASI,EAAAA,GAAeM,mBAAqBR,EAEhDlB,IAAAA,cAAC8D,EAAAA,KAAI,CAACC,GAAG,KACL/D,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,mCACHC,eAAe,UAIpBG,IAASI,EAAAA,GAAeM,kBAE3B1B,IAAAA,cAAC8D,EAAAA,KAAI,CAACC,GAAIH,GACN5D,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,6BACHC,eAAe,+BACfC,OAAQ,CACJmD,mBAAoBC,EAAAA,GAAUC,4BAKvCnD,IAASI,EAAAA,GAAeU,qBAAuBd,IAASI,EAAAA,GAAeO,mBAE1E3B,IAAAA,cAAC8D,EAAAA,KAAI,CAACC,GAAG,KACL/D,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,2BACHC,eAAe,wBAIpBG,IAASI,EAAAA,GAAeY,qBAAuBhB,IAASI,EAAAA,GAAeW,2BACjE,KAGT/B,IAAAA,cAAC8D,EAAAA,KAAI,CAACC,GAAG,KACL/D,IAAAA,cAACI,EAAAA,iBAAgB,CACbQ,GAAG,yBACHC,eAAe,qBACfC,OAAQ,CACJkD,SAAUnB,KAAKC,MAAMkB,aAOzC,MAAMI,EACFpE,IAAAA,cAAA,OAAKqE,UAAU,mBACXrE,IAAAA,cAAA,OAAKqE,UAAU,oBACXrE,IAAAA,cAAA,OAAKqE,UAAU,eACXrE,IAAAA,cAACsE,EAAAA,EAAW,OAEhBtE,IAAAA,cAAA,MAAI,cAAY,qBACZA,IAAAA,cAACkC,EAAU,CACPlB,KAAMA,EACNmB,MAAOA,KAGfnC,IAAAA,cAACe,EAAY,CACTC,KAAMA,EACNjB,QAASA,EACTkB,QAASA,EACTC,QAASA,IAEZ2C,IAKb,OACI7D,IAAAA,cAAAA,IAAAA,SAAA,KACKoE,EAGb,E,YAzIiB/B,E,EAAS,Y,EAAA,CAN1BlC,SAAQG,IAAAA,MAAA,CAJR2C,OAAM3C,IAAAA,OAAAC,aAAAA,WAKNgD,2BAA0BjD,IAAAA,OAC1B0D,SAAQ1D,IAAAA,OACRY,QAAOZ,IAAAA,O,8XCCX,SAAeiE,EAAAA,EAAAA,UAXf,SAAyBC,GACrB,MAAMC,GAASC,EAAAA,EAAAA,IAAUF,GACnBG,GAAOC,EAAAA,EAAAA,IAAeJ,GAE5B,MAAO,CACHR,SAAUS,EAAOI,SACjBtB,2BAA4BkB,EAAOK,2BACnC5D,QAAS6D,QAAQJ,IAAQzD,EAAAA,EAAAA,GAAQyD,EAAKK,QAE9C,GAEA,CAAwC3C,E,8GCbxC,MAAMiC,EAAczE,IAAkC,IAAjC,oBAACoF,GAA2BpF,EAC7C,MAAM,cAACqF,IAAiBC,EAAAA,EAAAA,WACxB,OACInF,IAAAA,cAAA,KACIqE,UAAWe,IAAW,gBAAiBH,GACvC9C,MAAO+C,EAAc,CAACtE,GAAI,wBAAyBC,eAAgB,kBACrE,EAERyD,EAAAjE,UAAA,CAXE4E,oBAAmB3E,IAAAA,QAavB,QAAeN,IAAAA,KAAWsE,E","sources":["webpack://mattermost-webapp/./src/components/error_page/error_link.tsx","webpack://mattermost-webapp/./src/components/error_page/messages/cloud_archived.tsx","webpack://mattermost-webapp/./src/components/error_page/error_message.tsx","webpack://mattermost-webapp/./src/components/error_page/error_title.tsx","webpack://mattermost-webapp/./src/components/error_page/error_page.tsx","webpack://mattermost-webapp/./src/components/error_page/index.tsx","webpack://mattermost-webapp/./src/components/widgets/icons/fa_warning_icon.tsx"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport type {MessageDescriptor} from 'react-intl';\r\nimport {FormattedMessage} from 'react-intl';\r\n\r\nimport ExternalLink from 'components/external_link';\r\n\r\ntype Props = {\r\n    url: string;\r\n    message: MessageDescriptor;\r\n}\r\n\r\nconst ErrorLink: React.FC<Props> = ({\r\n    url = '',\r\n    message,\r\n}: Props) => {\r\n    return (\r\n        <ExternalLink\r\n            href={url}\r\n            location='error_link'\r\n        >\r\n            <FormattedMessage {...message}/>\r\n        </ExternalLink>\r\n    );\r\n};\r\n\r\nexport default ErrorLink;\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {FormattedMessage} from 'react-intl';\r\nimport {useSelector} from 'react-redux';\r\n\r\nimport {getSubscriptionProductName} from 'mattermost-redux/selectors/entities/cloud';\r\n\r\nexport default function CloudArchived() {\r\n    const planName = useSelector(getSubscriptionProductName);\r\n    return (\r\n        <FormattedMessage\r\n            id='cloud_archived.error.access'\r\n            defaultMessage='Permalink belongs to a message that has been archived because of {planName} limits. Upgrade to access message again.'\r\n            values={{\r\n                planName,\r\n            }}\r\n        />\r\n    );\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {FormattedMessage, defineMessage} from 'react-intl';\r\n\r\nimport {ErrorPageTypes} from 'utils/constants';\r\n\r\nimport ErrorLink from './error_link';\r\nimport CloudArchived from './messages/cloud_archived';\r\n\r\ntype Props = {\r\n    type?: string | null;\r\n    message?: string;\r\n    service?: string;\r\n    isGuest?: boolean;\r\n}\r\n\r\nconst ErrorMessage: React.FC<Props> = ({type, message, service, isGuest}: Props) => {\r\n    let errorMessage = null;\r\n    if (type) {\r\n        switch (type) {\r\n        case ErrorPageTypes.LOCAL_STORAGE:\r\n            errorMessage = (\r\n                <div>\r\n                    <FormattedMessage\r\n                        id='error.local_storage.message'\r\n                        defaultMessage='Mattermost was unable to load because a setting in your browser prevents the use of its local storage features. To allow Mattermost to load, try the following actions:'\r\n                    />\r\n                    <ul>\r\n                        <li>\r\n                            <FormattedMessage\r\n                                id='error.local_storage.help1'\r\n                                defaultMessage='Enable cookies'\r\n                            />\r\n                        </li>\r\n                        <li>\r\n                            <FormattedMessage\r\n                                id='error.local_storage.help2'\r\n                                defaultMessage='Turn off private browsing'\r\n                            />\r\n                        </li>\r\n                        <li>\r\n                            <FormattedMessage\r\n                                id='error.local_storage.help3'\r\n                                defaultMessage='Use a supported browser (IE 11, Chrome 61+, Firefox 60+, Safari 12+, Edge 42+)'\r\n                            />\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            );\r\n            break;\r\n        case ErrorPageTypes.PERMALINK_NOT_FOUND:\r\n            errorMessage = (\r\n                <p>\r\n                    <FormattedMessage\r\n                        id='permalink.error.access'\r\n                        defaultMessage='Permalink belongs to a deleted message or to a channel to which you do not have access.'\r\n                    />\r\n                </p>\r\n            );\r\n            break;\r\n        case ErrorPageTypes.POST_NOT_FOUND:\r\n            errorMessage = (\r\n                <p>\r\n                    <FormattedMessage\r\n                        id='post.error.access'\r\n                        defaultMessage=\"The post you're requesting is private or does not exist.\"\r\n                    />\r\n                </p>\r\n            );\r\n            break;\r\n        case ErrorPageTypes.CLOUD_ARCHIVED:\r\n            errorMessage = (\r\n                <p>\r\n                    <CloudArchived/>\r\n                </p>\r\n            );\r\n            break;\r\n        case ErrorPageTypes.TEAM_NOT_FOUND:\r\n            errorMessage = (\r\n                <p>\r\n                    <FormattedMessage\r\n                        id='error.team_not_found.message'\r\n                        defaultMessage=\"The team you're requesting is private or does not exist. Please contact your Administrator for an invitation.\"\r\n                    />\r\n                </p>\r\n            );\r\n            break;\r\n        case ErrorPageTypes.CHANNEL_NOT_FOUND:\r\n            errorMessage = (\r\n                <p>\r\n                    {isGuest ? (\r\n                        <FormattedMessage\r\n                            id='error.channel_not_found.message_guest'\r\n                            defaultMessage='Your guest account has no channels assigned. Please contact an administrator.'\r\n                        />\r\n                    ) : (\r\n                        <FormattedMessage\r\n                            id='error.channel_not_found.message'\r\n                            defaultMessage=\"The channel you're requesting is private or does not exist. Please contact an Administrator to be added to the channel.\"\r\n                        />\r\n\r\n                    )}\r\n                </p>\r\n            );\r\n            break;\r\n        case ErrorPageTypes.OAUTH_MISSING_CODE:\r\n            errorMessage = (\r\n                <div>\r\n                    <p>\r\n                        <FormattedMessage\r\n                            id='error.oauth_missing_code'\r\n                            defaultMessage='The service provider {service} did not provide an authorization code in the redirect URL.'\r\n                            values={{\r\n                                service,\r\n                            }}\r\n                        />\r\n                    </p>\r\n                    <p>\r\n                        <FormattedMessage\r\n                            id='error.oauth_missing_code.google'\r\n                            defaultMessage='For {link} make sure your administrator enabled the Google+ API.'\r\n                            values={{\r\n                                link: (\r\n                                    <ErrorLink\r\n                                        url={'https://docs.mattermost.com/deployment/sso-google.html'}\r\n                                        message={defineMessage({\r\n                                            id: 'error.oauth_missing_code.google.link',\r\n                                            defaultMessage: 'Google Apps',\r\n                                        })}\r\n                                    />\r\n                                ),\r\n                            }}\r\n                        />\r\n                    </p>\r\n                    <p>\r\n                        <FormattedMessage\r\n                            id='error.oauth_missing_code.office365'\r\n                            defaultMessage='For {link} make sure the administrator of your Microsoft organization has enabled the Mattermost app.'\r\n                            values={{\r\n                                link: (\r\n                                    <ErrorLink\r\n                                        url={'https://docs.mattermost.com/deployment/sso-office.html'}\r\n                                        message={defineMessage({\r\n                                            id: 'error.oauth_missing_code.office365.link',\r\n                                            defaultMessage: 'Entra ID',\r\n                                        })}\r\n                                    />\r\n                                ),\r\n                            }}\r\n                        />\r\n                    </p>\r\n                    <p>\r\n                        <FormattedMessage\r\n                            id='error.oauth_missing_code.gitlab'\r\n                            defaultMessage='For {link} please make sure you followed the setup instructions.'\r\n                            values={{\r\n                                link: (\r\n                                    <ErrorLink\r\n                                        url={'https://docs.mattermost.com/deployment/sso-gitlab.html'}\r\n                                        message={defineMessage({\r\n                                            id: 'error.oauth_missing_code.gitlab.link',\r\n                                            defaultMessage: 'GitLab',\r\n                                        })}\r\n                                    />\r\n                                ),\r\n                            }}\r\n                        />\r\n                    </p>\r\n                    <p>\r\n                        <FormattedMessage\r\n                            id='error.oauth_missing_code.forum'\r\n                            defaultMessage=\"If you reviewed the above and are still having trouble with configuration, you may post in our {link} where we'll be happy to help with issues during setup.\"\r\n                            values={{\r\n                                link: (\r\n                                    <ErrorLink\r\n                                        url={'https://forum.mattermost.com/c/trouble-shoot'}\r\n                                        message={defineMessage({\r\n                                            id: 'error.oauth_missing_code.forum.link',\r\n                                            defaultMessage: 'Troubleshooting forum',\r\n                                        })}\r\n                                    />\r\n                                ),\r\n                            }}\r\n                        />\r\n                    </p>\r\n                </div>\r\n            );\r\n            break;\r\n        case ErrorPageTypes.OAUTH_ACCESS_DENIED:\r\n            errorMessage = (\r\n                <p>\r\n                    <FormattedMessage\r\n                        id='error.oauth_access_denied'\r\n                        defaultMessage='You must authorize Mattermost to log in with {service}.'\r\n                        values={{\r\n                            service,\r\n                        }}\r\n                    />\r\n                </p>\r\n            );\r\n            break;\r\n        case ErrorPageTypes.OAUTH_INVALID_REDIRECT_URL:\r\n        case ErrorPageTypes.OAUTH_INVALID_PARAM:\r\n            errorMessage = (\r\n                <p>\r\n                    {message}\r\n                </p>\r\n            );\r\n            break;\r\n        case ErrorPageTypes.PAGE_NOT_FOUND:\r\n        default:\r\n            errorMessage = (\r\n                <p>\r\n                    <FormattedMessage\r\n                        id='error.not_found.message'\r\n                        defaultMessage='The page you were trying to reach does not exist'\r\n                    />\r\n                </p>\r\n            );\r\n        }\r\n    } else if (message) {\r\n        errorMessage = (\r\n            <p>\r\n                {message}\r\n            </p>\r\n        );\r\n    } else {\r\n        errorMessage = (\r\n            <p>\r\n                <FormattedMessage\r\n                    id='error.generic.message'\r\n                    defaultMessage='An error has occurred.'\r\n                />\r\n            </p>\r\n        );\r\n    }\r\n\r\n    return errorMessage;\r\n};\r\n\r\nexport default ErrorMessage;\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {FormattedMessage} from 'react-intl';\r\n\r\nimport {ErrorPageTypes} from 'utils/constants';\r\n\r\ntype Props = {\r\n    type?: string | null;\r\n    title: string;\r\n}\r\n\r\nconst ErrorTitle: React.FC<Props> = ({type, title}: Props) => {\r\n    let errorTitle = null;\r\n    if (type) {\r\n        switch (type) {\r\n        case ErrorPageTypes.LOCAL_STORAGE:\r\n            errorTitle = (\r\n                <FormattedMessage\r\n                    id='error.local_storage.title'\r\n                    defaultMessage='Cannot Load Mattermost'\r\n                />\r\n            );\r\n            break;\r\n        case ErrorPageTypes.PERMALINK_NOT_FOUND:\r\n            errorTitle = (\r\n                <FormattedMessage\r\n                    id='permalink.error.title'\r\n                    defaultMessage='Message Not Found'\r\n                />\r\n            );\r\n            break;\r\n        case ErrorPageTypes.POST_NOT_FOUND:\r\n            errorTitle = (\r\n                <FormattedMessage\r\n                    id='post.error.title'\r\n                    defaultMessage='Post Not Found'\r\n                />\r\n            );\r\n            break;\r\n        case ErrorPageTypes.CLOUD_ARCHIVED:\r\n            errorTitle = (\r\n                <FormattedMessage\r\n                    id='cloud_archived.error.title'\r\n                    defaultMessage='Message Archived'\r\n                />\r\n            );\r\n            break;\r\n        case ErrorPageTypes.OAUTH_ACCESS_DENIED:\r\n            errorTitle = (\r\n                <FormattedMessage\r\n                    id='error.oauth_access_denied.title'\r\n                    defaultMessage='Authorization Error'\r\n                />\r\n            );\r\n            break;\r\n        case ErrorPageTypes.OAUTH_MISSING_CODE:\r\n            errorTitle = (\r\n                <FormattedMessage\r\n                    id='error.oauth_missing_code.title'\r\n                    defaultMessage='Mattermost Needs Your Help'\r\n                />\r\n            );\r\n            break;\r\n        case ErrorPageTypes.OAUTH_INVALID_REDIRECT_URL:\r\n        case ErrorPageTypes.OAUTH_INVALID_PARAM:\r\n            errorTitle = (\r\n                <FormattedMessage\r\n                    id='error.oauth_invalid_param.title'\r\n                    defaultMessage='OAuth Parameter Error'\r\n                />\r\n            );\r\n            break;\r\n        case ErrorPageTypes.TEAM_NOT_FOUND:\r\n            errorTitle = (\r\n                <FormattedMessage\r\n                    id='error.team_not_found.title'\r\n                    defaultMessage='Team Not Found'\r\n                />\r\n            );\r\n            break;\r\n        case ErrorPageTypes.CHANNEL_NOT_FOUND:\r\n            errorTitle = (\r\n                <FormattedMessage\r\n                    id='error.channel_not_found.title'\r\n                    defaultMessage='Channel Not Found'\r\n                />\r\n            );\r\n            break;\r\n        case ErrorPageTypes.PAGE_NOT_FOUND:\r\n        default:\r\n            errorTitle = (\r\n                <FormattedMessage\r\n                    id='error.not_found.title'\r\n                    defaultMessage='Page Not Found'\r\n                />\r\n            );\r\n        }\r\n    } else if (title) {\r\n        errorTitle = <>{title}</>;\r\n    } else {\r\n        errorTitle = (\r\n            <FormattedMessage\r\n                id='error.generic.title'\r\n                defaultMessage='Error'\r\n            />\r\n        );\r\n    }\r\n\r\n    return errorTitle;\r\n};\r\n\r\nexport default ErrorTitle;\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport crypto from 'crypto';\r\nimport React from 'react';\r\nimport {FormattedMessage} from 'react-intl';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport WarningIcon from 'components/widgets/icons/fa_warning_icon';\r\n\r\nimport {ErrorPageTypes, Constants} from 'utils/constants';\r\n\r\nimport ErrorMessage from './error_message';\r\nimport ErrorTitle from './error_title';\r\n\r\ntype Location = {\r\n    search: string;\r\n}\r\n\r\ntype Props = {\r\n    location: Location;\r\n    asymmetricSigningPublicKey?: string;\r\n    siteName?: string;\r\n    isGuest?: boolean;\r\n}\r\n\r\nexport default class ErrorPage extends React.PureComponent<Props> {\r\n    public componentDidMount() {\r\n        document.body.setAttribute('class', 'sticky error');\r\n    }\r\n\r\n    public componentWillUnmount() {\r\n        document.body.removeAttribute('class');\r\n    }\r\n\r\n    public render() {\r\n        const {isGuest} = this.props;\r\n        const params: URLSearchParams = new URLSearchParams(this.props.location.search);\r\n        const signature = params.get('s');\r\n\r\n        let trustParams = false;\r\n        if (signature) {\r\n            params.delete('s');\r\n\r\n            const key = this.props.asymmetricSigningPublicKey;\r\n            const keyPEM = '-----BEGIN PUBLIC KEY-----\\n' + key + '\\n-----END PUBLIC KEY-----';\r\n\r\n            const verify = crypto.createVerify('sha256');\r\n            verify.update('/error?' + params.toString());\r\n            trustParams = verify.verify(keyPEM, signature, 'base64');\r\n        }\r\n\r\n        const type = params.get('type');\r\n        const title = (trustParams && params.get('title')) || '';\r\n        const message = (trustParams && params.get('message')) || '';\r\n        const service = (trustParams && params.get('service')) || '';\r\n        const returnTo = (trustParams && params.get('returnTo')) || '';\r\n\r\n        let backButton;\r\n        if (type === ErrorPageTypes.PERMALINK_NOT_FOUND && returnTo) {\r\n            backButton = (\r\n                <Link to={returnTo}>\r\n                    <FormattedMessage\r\n                        id='error.generic.link'\r\n                        defaultMessage='Back to Mattermost'\r\n                    />\r\n                </Link>\r\n            );\r\n        } else if (type === ErrorPageTypes.CLOUD_ARCHIVED && returnTo) {\r\n            backButton = (\r\n                <Link to={returnTo}>\r\n                    <FormattedMessage\r\n                        id='error.generic.link'\r\n                        defaultMessage='Back to Mattermost'\r\n                    />\r\n                </Link>\r\n            );\r\n        } else if (type === ErrorPageTypes.TEAM_NOT_FOUND) {\r\n            backButton = (\r\n                <Link to='/'>\r\n                    <FormattedMessage\r\n                        id='error.generic.siteLink'\r\n                        defaultMessage='Back to {siteName}'\r\n                        values={{\r\n                            siteName: this.props.siteName,\r\n                        }}\r\n                    />\r\n                </Link>\r\n            );\r\n        } else if (type === ErrorPageTypes.CHANNEL_NOT_FOUND && isGuest) {\r\n            backButton = (\r\n                <Link to='/'>\r\n                    <FormattedMessage\r\n                        id='error.channelNotFound.guest_link'\r\n                        defaultMessage='Back'\r\n                    />\r\n                </Link>\r\n            );\r\n        } else if (type === ErrorPageTypes.CHANNEL_NOT_FOUND) {\r\n            backButton = (\r\n                <Link to={returnTo}>\r\n                    <FormattedMessage\r\n                        id='error.channelNotFound.link'\r\n                        defaultMessage='Back to {defaultChannelName}'\r\n                        values={{\r\n                            defaultChannelName: Constants.DEFAULT_CHANNEL_UI_NAME,\r\n                        }}\r\n                    />\r\n                </Link>\r\n            );\r\n        } else if (type === ErrorPageTypes.OAUTH_ACCESS_DENIED || type === ErrorPageTypes.OAUTH_MISSING_CODE) {\r\n            backButton = (\r\n                <Link to='/'>\r\n                    <FormattedMessage\r\n                        id='error.generic.link_login'\r\n                        defaultMessage='Back to Login Page'\r\n                    />\r\n                </Link>\r\n            );\r\n        } else if (type === ErrorPageTypes.OAUTH_INVALID_PARAM || type === ErrorPageTypes.OAUTH_INVALID_REDIRECT_URL) {\r\n            backButton = null;\r\n        } else {\r\n            backButton = (\r\n                <Link to='/'>\r\n                    <FormattedMessage\r\n                        id='error.generic.siteLink'\r\n                        defaultMessage='Back to {siteName}'\r\n                        values={{\r\n                            siteName: this.props.siteName,\r\n                        }}\r\n                    />\r\n                </Link>\r\n            );\r\n        }\r\n\r\n        const errorPage = (\r\n            <div className='container-fluid'>\r\n                <div className='error__container'>\r\n                    <div className='error__icon'>\r\n                        <WarningIcon/>\r\n                    </div>\r\n                    <h2 data-testid='errorMessageTitle'>\r\n                        <ErrorTitle\r\n                            type={type}\r\n                            title={title}\r\n                        />\r\n                    </h2>\r\n                    <ErrorMessage\r\n                        type={type}\r\n                        message={message}\r\n                        service={service}\r\n                        isGuest={isGuest}\r\n                    />\r\n                    {backButton}\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        return (\r\n            <>\r\n                {errorPage}\r\n            </>\r\n        );\r\n    }\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/common';\r\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\r\nimport {isGuest} from 'mattermost-redux/utils/user_utils';\r\n\r\nimport type {GlobalState} from 'types/store';\r\n\r\nimport ErrorPage from './error_page';\r\n\r\nfunction mapStateToProps(state: GlobalState) {\r\n    const config = getConfig(state);\r\n    const user = getCurrentUser(state);\r\n\r\n    return {\r\n        siteName: config.SiteName,\r\n        asymmetricSigningPublicKey: config.AsymmetricSigningPublicKey,\r\n        isGuest: Boolean(user && isGuest(user.roles)),\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(ErrorPage);\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport {useIntl} from 'react-intl';\r\n\r\ntype Props = {\r\n    additionalClassName?: string;\r\n}\r\n\r\nconst WarningIcon = ({additionalClassName}: Props) => {\r\n    const {formatMessage} = useIntl();\r\n    return (\r\n        <i\r\n            className={classNames('fa fa-warning', additionalClassName)}\r\n            title={formatMessage({id: 'generic_icons.warning', defaultMessage: 'Warning Icon'})}\r\n        />\r\n    );\r\n};\r\n\r\nexport default React.memo(WarningIcon);\r\n"],"names":["ErrorLink","_ref","url","message","React","ExternalLink","href","location","FormattedMessage","propTypes","_pt","isRequired","CloudArchived","planName","useSelector","getSubscriptionProductName","id","defaultMessage","values","ErrorMessage","type","service","isGuest","errorMessage","ErrorPageTypes","LOCAL_STORAGE","PERMALINK_NOT_FOUND","POST_NOT_FOUND","CLOUD_ARCHIVED","TEAM_NOT_FOUND","CHANNEL_NOT_FOUND","OAUTH_MISSING_CODE","link","defineMessage","OAUTH_ACCESS_DENIED","OAUTH_INVALID_REDIRECT_URL","OAUTH_INVALID_PARAM","PAGE_NOT_FOUND","ErrorTitle","title","errorTitle","ErrorPage","componentDidMount","document","body","setAttribute","componentWillUnmount","removeAttribute","render","this","props","params","URLSearchParams","search","signature","get","trustParams","delete","keyPEM","asymmetricSigningPublicKey","verify","crypto","update","toString","returnTo","backButton","Link","to","siteName","defaultChannelName","Constants","DEFAULT_CHANNEL_UI_NAME","errorPage","className","WarningIcon","connect","state","config","getConfig","user","getCurrentUser","SiteName","AsymmetricSigningPublicKey","Boolean","roles","additionalClassName","formatMessage","useIntl","classNames"],"sourceRoot":""}