{"version":3,"file":"3461.da40ba9ab7dc76186afe.js","mappings":"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","sources":["webpack://mattermost-webapp/./src/components/common/back_button.tsx","webpack://mattermost-webapp/./src/components/common/hocs/cloud/with_use_get_usage_deltas.tsx","webpack://mattermost-webapp/./src/components/common/hooks/useGetUsageDeltas.ts","webpack://mattermost-webapp/./src/components/common/site_name_and_description.tsx","webpack://mattermost-webapp/./src/components/common/infinite_scroll.tsx","webpack://mattermost-webapp/./src/components/widgets/icons/team_info_icon.tsx","webpack://mattermost-webapp/./src/components/select_team/components/select_team_item.tsx","webpack://mattermost-webapp/./src/components/select_team/select_team.tsx","webpack://mattermost-webapp/./src/components/select_team/index.ts","webpack://mattermost-webapp/./src/components/widgets/icons/fa_logout_icon.tsx"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport {FormattedMessage, useIntl} from 'react-intl';\r\nimport {Link} from 'react-router-dom';\r\n\r\ntype Props = {\r\n\r\n    /**\r\n     * URL to return to\r\n     */\r\n    url?: string;\r\n\r\n    className?: string;\r\n\r\n    /**\r\n     * onClick handler when user clicks back button\r\n     */\r\n    onClick?: React.EventHandler<React.MouseEvent>;\r\n}\r\n\r\nconst BackButton = ({url = '/', className, onClick}: Props): JSX.Element => {\r\n    const {formatMessage} = useIntl();\r\n\r\n    return (\r\n        <div className={classNames('signup-header', className)}>\r\n            <Link\r\n                data-testid='back_button'\r\n                onClick={onClick}\r\n                to={url}\r\n            >\r\n                <span\r\n                    id='back_button_icon'\r\n                    className='fa fa-1x fa-angle-left'\r\n                    title={formatMessage({id: 'generic_icons.back', defaultMessage: 'Back Icon'})}\r\n                />\r\n                <FormattedMessage\r\n                    id='web.header.back'\r\n                    defaultMessage='Back'\r\n                />\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BackButton;\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport type {ComponentType} from 'react';\r\n\r\nimport useGetUsageDeltas from 'components/common/hooks/useGetUsageDeltas';\r\n\r\nfunction withUseGetUsageDelta<T>(WrappedComponent: ComponentType<T>) {\r\n    return (props: T) => {\r\n        const usageDeltas = useGetUsageDeltas();\r\n\r\n        return (\r\n            <WrappedComponent\r\n                usageDeltas={usageDeltas}\r\n                {...props}\r\n            />\r\n        );\r\n    };\r\n}\r\n\r\nexport default withUseGetUsageDelta;\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {useMemo} from 'react';\r\n\r\nimport type {CloudUsage} from '@mattermost/types/cloud';\r\n\r\nimport useGetLimits from './useGetLimits';\r\nimport useGetUsage from './useGetUsage';\r\n\r\n// Returns an object of type CloudUsage with the values being the delta between the limit, and the actual usage of this installation.\r\n// A value < 0 means that they are NOT over the limit. A value > 0 means they've exceeded that limit\r\n// 2 teams used, minus 1 team limit = value > 0, limit exceeded\r\n// 10MB files used, minus 1000MB limit = value < 0, limit not exceeded.\r\n// etc.\r\n// withBackupValue will set the limit arbitrarily high in the event that the limit isn't set\r\nexport const withBackupValue = (maybeLimit: number | undefined, limitsLoaded: boolean) => (limitsLoaded ? (maybeLimit ?? Number.MAX_VALUE) : Number.MAX_VALUE);\r\n\r\nexport default function useGetUsageDeltas(): CloudUsage {\r\n    const usage = useGetUsage();\r\n    const [limits, limitsLoaded] = useGetLimits();\r\n\r\n    const usageDelta = useMemo(() => {\r\n        return (\r\n            {\r\n                files: {\r\n                    totalStorage: usage.files.totalStorage - withBackupValue(limits.files?.total_storage, limitsLoaded),\r\n                    totalStorageLoaded: usage.files.totalStorageLoaded,\r\n                },\r\n                messages: {\r\n                    history: usage.messages.history - withBackupValue(limits.messages?.history, limitsLoaded),\r\n                    historyLoaded: usage.messages.historyLoaded,\r\n                },\r\n                teams: {\r\n                    active: usage.teams.active - withBackupValue(limits.teams?.active, limitsLoaded),\r\n\r\n                    // cloudArchived doesn't count against usage, but we pass the value along for convenience\r\n                    cloudArchived: usage.teams.cloudArchived,\r\n                    teamsLoaded: usage.teams.teamsLoaded,\r\n                },\r\n            }\r\n        );\r\n    }, [usage, limits, limitsLoaded]);\r\n\r\n    return usageDelta;\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {FormattedMessage} from 'react-intl';\r\n\r\ntype Props = {\r\n    customDescriptionText?: string;\r\n    siteName: string | undefined;\r\n};\r\nconst SiteNameAndDescription = ({customDescriptionText, siteName = 'Mattermost'}: Props) => {\r\n    const description = customDescriptionText || (\r\n        <FormattedMessage\r\n            id='web.root.signup_info'\r\n            defaultMessage='All team communication in one place, searchable and accessible anywhere'\r\n        />\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <h1 id='site_name'>{siteName}</h1>\r\n            <h3\r\n                id='site_description'\r\n                className='color--light'\r\n            >\r\n                {description}\r\n            </h3>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default React.memo(SiteNameAndDescription);\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport debounce from 'lodash/debounce';\r\nimport React from 'react';\r\nimport type {CSSProperties} from 'react';\r\n\r\nimport LoadingScreen from 'components/loading_screen';\r\n\r\nconst SCROLL_BUFFER = 100;\r\nconst DEBOUNCE_WAIT_TIME = 200;\r\n\r\ntype Props = {\r\n    children: React.ReactNode;\r\n\r\n    /**\r\n     * Function that is called to load more items\r\n     */\r\n    callBack: () => void;\r\n\r\n    /**\r\n     * Message to display when all the data has been scrolled through\r\n     */\r\n    endOfDataMessage?: string;\r\n\r\n    /**\r\n     * A wrapper class to define styling of the infinite scroll\r\n     */\r\n    styleClass?: string;\r\n\r\n    /**\r\n     * A number that determines how far the scroll is near the bottom before\r\n     * loading more items. The bigger this value the more items will be loaded\r\n     * much earlier as you scroll to the bottom.\r\n     */\r\n    bufferValue: number;\r\n\r\n    /**\r\n     * The total number of items to be scrolled through\r\n     */\r\n    totalItems: number;\r\n\r\n    /**\r\n     * The number of items to load in a single fetch\r\n     */\r\n    itemsPerPage: number;\r\n\r\n    /**\r\n     * The current page that has been scrolled to\r\n     */\r\n    pageNumber: number;\r\n\r\n    /**\r\n     * Optional style object that's passed on to the underlying loader\r\n     * component\r\n     */\r\n\r\n    loaderStyle?: CSSProperties;\r\n};\r\n\r\ntype State = {\r\n    isFetching: boolean;\r\n    isEndofData: boolean;\r\n};\r\n\r\nexport default class InfiniteScroll extends React.PureComponent<Props, State> {\r\n    node: React.RefObject<HTMLDivElement>;\r\n\r\n    static defaultProps = {\r\n        bufferValue: SCROLL_BUFFER,\r\n        endOfDataMessage: '',\r\n        styleClass: '',\r\n        loaderStyle: {},\r\n    };\r\n\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            isFetching: false,\r\n            isEndofData: false,\r\n        };\r\n        this.node = React.createRef();\r\n    }\r\n\r\n    componentDidMount(): void {\r\n        this.node.current?.addEventListener('scroll', this.debounceHandleScroll);\r\n    }\r\n\r\n    componentWillUnmount(): void {\r\n        this.node.current?.removeEventListener('scroll', this.debounceHandleScroll);\r\n    }\r\n\r\n    validateBuffer = (buffer: number): number => {\r\n        if (buffer < SCROLL_BUFFER) {\r\n            return SCROLL_BUFFER;\r\n        }\r\n        return Math.abs(buffer);\r\n    };\r\n\r\n    getAmountOfPages = (total: number, freq: number): number => {\r\n        return Math.ceil(total / freq);\r\n    };\r\n\r\n    handleScroll = (): void => {\r\n        const {isFetching, isEndofData} = this.state;\r\n        const {callBack, bufferValue, totalItems, itemsPerPage, pageNumber} = this.props;\r\n\r\n        const node = this.node.current;\r\n        const validBuffer = this.validateBuffer(bufferValue);\r\n\r\n        const toScroll = node!.scrollHeight - node!.clientHeight - validBuffer;\r\n        const nearBottom = node!.scrollTop > toScroll;\r\n\r\n        if (nearBottom && !isEndofData && !isFetching) {\r\n            this.setState({isFetching: true},\r\n                async () => {\r\n                    await callBack();\r\n\r\n                    this.setState({\r\n                        isFetching: false,\r\n                    });\r\n\r\n                    if (totalItems === 0) {\r\n                        this.setState({\r\n                            isEndofData: true,\r\n                        });\r\n                        return;\r\n                    }\r\n\r\n                    const amountOfPages = this.getAmountOfPages(totalItems, itemsPerPage);\r\n\r\n                    if (pageNumber === amountOfPages) {\r\n                        this.setState({\r\n                            isEndofData: true,\r\n                        });\r\n                    }\r\n                });\r\n        }\r\n    };\r\n\r\n    debounceHandleScroll = debounce(this.handleScroll, DEBOUNCE_WAIT_TIME);\r\n\r\n    render(): React.ReactNode {\r\n        const {children, endOfDataMessage, styleClass, loaderStyle} = this.props;\r\n        const {isEndofData, isFetching} = this.state;\r\n        const showLoader = !isEndofData && isFetching; // show loader if fetching and end of data is not reached.\r\n        return (\r\n            <>\r\n                <div\r\n                    className={`infinite-scroll ${styleClass}`}\r\n                    ref={this.node}\r\n                >\r\n                    {children}\r\n                    {showLoader && (\r\n                        <LoadingScreen\r\n                            style={loaderStyle}\r\n                            message=' '\r\n                        />\r\n                    )}\r\n                    {!showLoader && endOfDataMessage}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport type {CSSProperties} from 'react';\r\nimport {useIntl} from 'react-intl';\r\n\r\nexport default function TeamInfoIcon(props: React.HTMLAttributes<HTMLSpanElement>) {\r\n    const {formatMessage} = useIntl();\r\n    return (\r\n        <span {...props}>\r\n            <svg\r\n                width='100%'\r\n                height='100%'\r\n                viewBox='0 0 20 20'\r\n                style={style}\r\n                role='img'\r\n                aria-label={formatMessage({id: 'generic_icons.info', defaultMessage: 'Info Icon'})}\r\n            >\r\n                <g transform='matrix(1.17647,0,0,1.17647,-1.55431e-15,-1.00573e-14)'>\r\n                    <path d='M8.5,0C3.797,0 0,3.797 0,8.5C0,13.203 3.797,17 8.5,17C13.203,17 17,13.203 17,8.5C17,3.797 13.203,0 8.5,0ZM10,8.5C10,7.672 9.328,7 8.5,7C7.672,7 7,7.672 7,8.5L7,12.45C7,13.278 7.672,13.95 8.5,13.95C9.328,13.95 10,13.278 10,12.45L10,8.5ZM8.5,3C9.328,3 10,3.672 10,4.5C10,5.328 9.328,6 8.5,6C7.672,6 7,5.328 7,4.5C7,3.672 7.672,3 8.5,3Z'/>\r\n                </g>\r\n            </svg>\r\n        </span>\r\n    );\r\n}\r\n\r\nconst style: CSSProperties = {\r\n    fillRule: 'evenodd',\r\n    clipRule: 'evenodd',\r\n    strokeLinejoin: 'round',\r\n    strokeMiterlimit: 1.41421,\r\n};\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React, {useCallback} from 'react';\r\nimport {useIntl} from 'react-intl';\r\n\r\nimport type {Team} from '@mattermost/types/teams';\r\n\r\nimport TeamInfoIcon from 'components/widgets/icons/team_info_icon';\r\nimport WithTooltip from 'components/with_tooltip';\r\n\r\nimport * as Utils from 'utils/utils';\r\n\r\ninterface Props {\r\n    team: Team;\r\n    onTeamClick: (team: Team) => void;\r\n    loading: boolean;\r\n    canJoinPublicTeams: boolean;\r\n    canJoinPrivateTeams: boolean;\r\n}\r\n\r\nconst SelectTeamItem = ({\r\n    team,\r\n    onTeamClick,\r\n    loading,\r\n    canJoinPublicTeams,\r\n    canJoinPrivateTeams,\r\n}: Props) => {\r\n    const intl = useIntl();\r\n\r\n    const handleTeamClick = useCallback((e: React.MouseEvent) => {\r\n        e.preventDefault();\r\n        onTeamClick(team);\r\n    }, [onTeamClick, team]);\r\n\r\n    const renderDescriptionTooltip = (): React.ReactNode => {\r\n        if (!team.description) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <WithTooltip\r\n                title={team.description}\r\n            >\r\n                <TeamInfoIcon className='icon icon--info'/>\r\n            </WithTooltip>\r\n        );\r\n    };\r\n\r\n    let icon;\r\n    if (loading) {\r\n        icon = (\r\n            <span\r\n                className='fa fa-refresh fa-spin right signup-team__icon'\r\n                title={intl.formatMessage({id: 'generic_icons.loading', defaultMessage: 'Loading Icon'})}\r\n            />\r\n        );\r\n    } else {\r\n        icon = (\r\n            <span\r\n                className='fa fa-angle-right right signup-team__icon'\r\n                title={intl.formatMessage({id: 'select_team.join.icon', defaultMessage: 'Join Team Icon'})}\r\n            />\r\n        );\r\n    }\r\n\r\n    const canJoin = (team.allow_open_invite && canJoinPublicTeams) || (!team.allow_open_invite && canJoinPrivateTeams);\r\n\r\n    return (\r\n        <div className='signup-team-dir'>\r\n            {renderDescriptionTooltip()}\r\n            <a\r\n                href='#'\r\n                id={Utils.createSafeId(team.display_name)}\r\n                onClick={canJoin ? handleTeamClick : undefined}\r\n                className={canJoin ? '' : 'disabled'}\r\n            >\r\n                <span className='signup-team-dir__name'>{team.display_name}</span>\r\n                {!team.allow_open_invite &&\r\n                    <i\r\n                        className='fa fa-lock light'\r\n                        title={intl.formatMessage({id: 'select_team.private.icon', defaultMessage: 'Private team'})}\r\n                    />}\r\n                {canJoin && icon}\r\n            </a>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default React.memo(SelectTeamItem);\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport type {ReactNode, MouseEvent} from 'react';\r\nimport {FormattedMessage} from 'react-intl';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport type {CloudUsage} from '@mattermost/types/cloud';\r\nimport type {Team} from '@mattermost/types/teams';\r\n\r\nimport {Permissions} from 'mattermost-redux/constants';\r\nimport type {ActionResult} from 'mattermost-redux/types/actions';\r\n\r\nimport {emitUserLoggedOutEvent} from 'actions/global_actions';\r\n\r\nimport AnnouncementBar from 'components/announcement_bar';\r\nimport BackButton from 'components/common/back_button';\r\nimport InfiniteScroll from 'components/common/infinite_scroll';\r\nimport SiteNameAndDescription from 'components/common/site_name_and_description';\r\nimport ExternalLink from 'components/external_link';\r\nimport LoadingScreen from 'components/loading_screen';\r\nimport SystemPermissionGate from 'components/permissions_gates/system_permission_gate';\r\nimport LogoutIcon from 'components/widgets/icons/fa_logout_icon';\r\n\r\nimport logoImage from 'images/logo.png';\r\nimport Constants from 'utils/constants';\r\nimport * as UserAgent from 'utils/user_agent';\r\n\r\nimport SelectTeamItem from './components/select_team_item';\r\n\r\nimport './select_team.scss';\r\n\r\nexport const TEAMS_PER_PAGE = 30;\r\nconst TEAM_MEMBERSHIP_DENIAL_ERROR_ID = 'api.team.add_members.user_denied';\r\nconst MATTERMOST_ACADEMY_TEAM_TRAINING_LINK = 'https://mattermost.com/pl/mattermost-academy-team-training';\r\n\r\ntype Actions = {\r\n    getTeams: (page?: number, perPage?: number, includeTotalCount?: boolean) => Promise<ActionResult<unknown>>;\r\n    loadRolesIfNeeded: (roles: Iterable<string>) => void;\r\n    addUserToTeam: (teamId: string, userId: string) => Promise<ActionResult<unknown>>;\r\n}\r\n\r\ntype Props = {\r\n    currentUserId: string;\r\n    currentUserRoles: string;\r\n    currentUserIsGuest?: boolean;\r\n    customDescriptionText?: string;\r\n    isMemberOfTeam: boolean;\r\n    listableTeams: Team[];\r\n    siteName?: string;\r\n    canCreateTeams: boolean;\r\n    canManageSystem: boolean;\r\n    canJoinPublicTeams: boolean;\r\n    canJoinPrivateTeams: boolean;\r\n    history?: any;\r\n    actions: Actions;\r\n    totalTeamsCount: number;\r\n    isCloud: boolean;\r\n    isFreeTrial: boolean;\r\n    usageDeltas: CloudUsage;\r\n};\r\n\r\ntype State = {\r\n    loadingTeamId?: string;\r\n    error: any;\r\n    endofTeamsData: boolean;\r\n    currentPage: number;\r\n    currentListableTeams: Team[];\r\n}\r\n\r\nexport default class SelectTeam extends React.PureComponent<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loadingTeamId: '',\r\n            error: null,\r\n            endofTeamsData: false,\r\n            currentPage: 0,\r\n            currentListableTeams: [],\r\n        };\r\n    }\r\n\r\n    static getDerivedStateFromProps(props: Props, state: State) {\r\n        if (props.listableTeams.length !== state.currentListableTeams.length) {\r\n            return {\r\n                currentListableTeams: props.listableTeams.slice(0, TEAMS_PER_PAGE * (state.currentPage + 1)),\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchMoreTeams();\r\n        if (this.props.currentUserRoles !== undefined) {\r\n            this.props.actions.loadRolesIfNeeded(this.props.currentUserRoles.split(' '));\r\n        }\r\n    }\r\n\r\n    fetchMoreTeams = async () => {\r\n        const {currentPage} = this.state;\r\n        const {actions} = this.props;\r\n\r\n        const response = await actions.getTeams(currentPage, TEAMS_PER_PAGE, true);\r\n\r\n        // We don't want to increase the page number if no data came back previously\r\n        if (!response.error && !(response.error instanceof Error)) {\r\n            this.setState((prevState) => (\r\n                {\r\n                    currentPage: prevState.currentPage + 1,\r\n                }\r\n            ),\r\n            );\r\n        }\r\n    };\r\n\r\n    handleTeamClick = async (team: Team) => {\r\n        const {currentUserRoles} = this.props;\r\n        this.setState({loadingTeamId: team.id});\r\n\r\n        const {data, error} = await this.props.actions.addUserToTeam(team.id, this.props.currentUserId);\r\n        if (data && this.props.history !== undefined) {\r\n            this.props.history.push(`/${team.name}/channels/${Constants.DEFAULT_CHANNEL}`);\r\n        } else if (error) {\r\n            let errorMsg = error.message;\r\n\r\n            if (error.server_error_id === TEAM_MEMBERSHIP_DENIAL_ERROR_ID) {\r\n                if (currentUserRoles !== undefined && currentUserRoles.includes(Constants.PERMISSIONS_SYSTEM_ADMIN)) {\r\n                    errorMsg = (\r\n                        <FormattedMessage\r\n                            id='join_team_group_constrained_denied_adminText'\r\n                            defaultMessage={'You need to be a member of a linked group to join this team. You can add a group to this team <a>here</a>.'}\r\n                            values={{\r\n                                a: (chunks) => (\r\n                                    <Link to='/admin_console/user_management/groups'>\r\n                                        {chunks}\r\n                                    </Link>\r\n                                ),\r\n                            }}\r\n                        />\r\n                    );\r\n                } else {\r\n                    errorMsg = (\r\n                        <FormattedMessage\r\n                            id='join_team_group_constrained_denied'\r\n                            defaultMessage='You need to be a member of a linked group to join this team.'\r\n                        />\r\n                    );\r\n                }\r\n            }\r\n\r\n            this.setState({\r\n                error: errorMsg,\r\n                loadingTeamId: '',\r\n            });\r\n        }\r\n    };\r\n\r\n    handleLogoutClick = (e: MouseEvent): void => {\r\n        e.preventDefault();\r\n        emitUserLoggedOutEvent('/login');\r\n    };\r\n\r\n    clearError = (e: MouseEvent): void => {\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            error: null,\r\n        });\r\n    };\r\n\r\n    render(): ReactNode {\r\n        const {currentPage, currentListableTeams} = this.state;\r\n        const {\r\n            currentUserIsGuest,\r\n            canManageSystem,\r\n            customDescriptionText,\r\n            isMemberOfTeam,\r\n            siteName,\r\n            canCreateTeams,\r\n            canJoinPublicTeams,\r\n            canJoinPrivateTeams,\r\n            totalTeamsCount,\r\n            isCloud,\r\n            isFreeTrial,\r\n            usageDeltas: {\r\n                teams: {\r\n                    active: usageDeltaTeams,\r\n                },\r\n            },\r\n        } = this.props;\r\n\r\n        const teamsLimitReached = usageDeltaTeams >= 0;\r\n        const createTeamRestricted = isCloud && !isFreeTrial && teamsLimitReached;\r\n\r\n        let openContent;\r\n        if (this.state.loadingTeamId) {\r\n            openContent = <LoadingScreen/>;\r\n        } else if (this.state.error) {\r\n            openContent = (\r\n                <div className='signup__content'>\r\n                    <div className={'form-group has-error'}>\r\n                        <div className='control-label'>{this.state.error}</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else if (currentUserIsGuest) {\r\n            openContent = (\r\n                <div className='signup__content'>\r\n                    <div className={'form-group has-error'}>\r\n                        <div className='control-label'>\r\n                            <FormattedMessage\r\n                                id='signup_team.guest_without_channels'\r\n                                defaultMessage='Your guest account has no channels assigned. Please contact an administrator.'\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            let joinableTeamContents: any = [];\r\n            currentListableTeams.forEach((listableTeam) => {\r\n                const canJoinBasedOnType = (listableTeam.allow_open_invite && canJoinPublicTeams) || (!listableTeam.allow_open_invite && canJoinPrivateTeams);\r\n\r\n                // Skip group-constrained teams as they will fail to join and show error\r\n                if (canJoinBasedOnType && !listableTeam.group_constrained) {\r\n                    joinableTeamContents.push(\r\n                        <SelectTeamItem\r\n                            key={'team_' + listableTeam.name}\r\n                            team={listableTeam}\r\n                            onTeamClick={this.handleTeamClick}\r\n                            loading={this.state.loadingTeamId === listableTeam.id}\r\n                            canJoinPublicTeams={canJoinPublicTeams}\r\n                            canJoinPrivateTeams={canJoinPrivateTeams}\r\n                        />,\r\n                    );\r\n                }\r\n            });\r\n\r\n            if (joinableTeamContents.length === 0 && (canCreateTeams || canManageSystem)) {\r\n                joinableTeamContents = (\r\n                    <div className='signup-team-dir-err'>\r\n                        <div>\r\n                            {createTeamRestricted ? (\r\n                                <FormattedMessage\r\n                                    id='signup_team.no_open_teams'\r\n                                    defaultMessage='No teams are available to join. Please ask your administrator for an invite.'\r\n                                />\r\n                            ) : (\r\n                                <FormattedMessage\r\n                                    id='signup_team.no_open_teams_canCreate'\r\n                                    defaultMessage='No teams are available to join. Please create a new team or ask your administrator for an invite.'\r\n                                />\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else if (joinableTeamContents.length === 0) {\r\n                joinableTeamContents = (\r\n                    <div className='signup-team-dir-err'>\r\n                        <div>\r\n                            <SystemPermissionGate permissions={[Permissions.CREATE_TEAM]}>\r\n                                <FormattedMessage\r\n                                    id='signup_team.no_open_teams_canCreate'\r\n                                    defaultMessage='No teams are available to join. Please create a new team or ask your administrator for an invite.'\r\n                                />\r\n                            </SystemPermissionGate>\r\n                            <SystemPermissionGate\r\n                                permissions={[Permissions.CREATE_TEAM]}\r\n                                invert={true}\r\n                            >\r\n                                <FormattedMessage\r\n                                    id='signup_team.no_open_teams'\r\n                                    defaultMessage='No teams are available to join. Please ask your administrator for an invite.'\r\n                                />\r\n                            </SystemPermissionGate>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }\r\n\r\n            openContent = (\r\n                <div\r\n                    id='teamsYouCanJoinContent'\r\n                    className='signup__content'\r\n                >\r\n                    <div className='SelectTeam__sub-header'>\r\n                        <h4>\r\n                            <FormattedMessage\r\n                                id='signup_team.join_open'\r\n                                defaultMessage='Teams you can join: '\r\n                            />\r\n                        </h4>\r\n                        <ExternalLink\r\n                            location='learn_about_teams'\r\n                            href={MATTERMOST_ACADEMY_TEAM_TRAINING_LINK}\r\n                            className='LearnAboutTeamsLink'\r\n                        >\r\n                            <i\r\n                                className='icon icon-lightbulb-outline'\r\n                                aria-hidden={true}\r\n                            />\r\n                            <FormattedMessage\r\n                                id='learn_about_teams'\r\n                                defaultMessage='Learn about teams'\r\n                            />\r\n                        </ExternalLink>\r\n                    </div>\r\n                    <InfiniteScroll\r\n                        callBack={this.fetchMoreTeams}\r\n                        styleClass='signup-team-all'\r\n                        totalItems={totalTeamsCount}\r\n                        itemsPerPage={TEAMS_PER_PAGE}\r\n                        bufferValue={280}\r\n                        pageNumber={currentPage}\r\n                        loaderStyle={{padding: '0px', height: '40px'}}\r\n                    >\r\n                        {joinableTeamContents}\r\n                    </InfiniteScroll>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        const teamSignUp = !createTeamRestricted && (\r\n            <SystemPermissionGate permissions={[Permissions.CREATE_TEAM]}>\r\n                <div\r\n                    className='margin--extra'\r\n                    style={{marginTop: '0.5em'}}\r\n                >\r\n                    <Link\r\n                        id='createNewTeamLink'\r\n                        to='/create_team'\r\n                        className='signup-team-login'\r\n                    >\r\n                        <FormattedMessage\r\n                            id='login.createTeam'\r\n                            defaultMessage='Create a team'\r\n                        />\r\n                    </Link>\r\n                </div>\r\n            </SystemPermissionGate>\r\n        );\r\n\r\n        let adminConsoleLink;\r\n        if (!UserAgent.isMobileApp()) {\r\n            adminConsoleLink = (\r\n                <SystemPermissionGate permissions={[Permissions.MANAGE_SYSTEM]}>\r\n                    <div className='mt-8 hidden-xs'>\r\n                        <Link\r\n                            to='/admin_console'\r\n                            className='signup-team-login'\r\n                        >\r\n                            <FormattedMessage\r\n                                id='signup_team_system_console'\r\n                                defaultMessage='Go to System Console'\r\n                            />\r\n                        </Link>\r\n                    </div>\r\n                </SystemPermissionGate>\r\n            );\r\n        }\r\n\r\n        let headerButton;\r\n        if (this.state.error) {\r\n            headerButton = <BackButton onClick={this.clearError}/>;\r\n        } else if (isMemberOfTeam) {\r\n            headerButton = <BackButton/>;\r\n        } else {\r\n            headerButton = (\r\n                <div className='signup-header'>\r\n                    <a\r\n                        href='#'\r\n                        id='logout'\r\n                        onClick={this.handleLogoutClick}\r\n                    >\r\n                        <LogoutIcon/>\r\n                        <FormattedMessage\r\n                            id='web.header.logout'\r\n                            defaultMessage='Logout'\r\n                        />\r\n                    </a>\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <div>\r\n                <AnnouncementBar/>\r\n                {headerButton}\r\n                <div className='col-sm-12'>\r\n                    <div\r\n                        className={'select-team__container signup-team__container'}\r\n                    >\r\n                        <img\r\n                            alt={'signup team logo'}\r\n                            className='signup-team-logo'\r\n                            src={logoImage}\r\n                        />\r\n                        <SiteNameAndDescription\r\n                            customDescriptionText={customDescriptionText}\r\n                            siteName={siteName}\r\n                        />\r\n                        {openContent}\r\n                        {teamSignUp}\r\n                        {adminConsoleLink}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport type {Dispatch} from 'redux';\r\n\r\nimport {loadRolesIfNeeded} from 'mattermost-redux/actions/roles';\r\nimport {getTeams} from 'mattermost-redux/actions/teams';\r\nimport {Permissions} from 'mattermost-redux/constants';\r\nimport {getCloudSubscription as selectCloudSubscription} from 'mattermost-redux/selectors/entities/cloud';\r\nimport {getConfig, getLicense} from 'mattermost-redux/selectors/entities/general';\r\nimport {haveISystemPermission} from 'mattermost-redux/selectors/entities/roles';\r\nimport {getSortedListableTeams, getTeamMemberships} from 'mattermost-redux/selectors/entities/teams';\r\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\r\nimport {isGuest} from 'mattermost-redux/utils/user_utils';\r\n\r\nimport {addUserToTeam} from 'actions/team_actions';\r\n\r\nimport withUseGetUsageDelta from 'components/common/hocs/cloud/with_use_get_usage_deltas';\r\n\r\nimport {isCloudLicense} from 'utils/license_utils';\r\n\r\nimport type {GlobalState} from 'types/store';\r\n\r\nimport SelectTeam from './select_team';\r\n\r\nfunction mapStateToProps(state: GlobalState) {\r\n    const config = getConfig(state);\r\n    const currentUser = getCurrentUser(state);\r\n    const myTeamMemberships = Object.values(getTeamMemberships(state));\r\n    const license = getLicense(state);\r\n\r\n    const subscription = selectCloudSubscription(state);\r\n    const isCloud = isCloudLicense(license);\r\n    const isFreeTrial = subscription?.is_free_trial === 'true';\r\n\r\n    return {\r\n        currentUserId: currentUser.id,\r\n        currentUserRoles: currentUser.roles || '',\r\n        currentUserIsGuest: isGuest(currentUser.roles),\r\n        customDescriptionText: config.CustomDescriptionText,\r\n        isMemberOfTeam: myTeamMemberships && myTeamMemberships.length > 0,\r\n        listableTeams: getSortedListableTeams(state, currentUser.locale),\r\n        siteName: config.SiteName,\r\n        canCreateTeams: haveISystemPermission(state, {permission: Permissions.CREATE_TEAM}),\r\n        canManageSystem: haveISystemPermission(state, {permission: Permissions.MANAGE_SYSTEM}),\r\n        canJoinPublicTeams: haveISystemPermission(state, {permission: Permissions.JOIN_PUBLIC_TEAMS}),\r\n        canJoinPrivateTeams: haveISystemPermission(state, {permission: Permissions.JOIN_PRIVATE_TEAMS}),\r\n        totalTeamsCount: state.entities.teams.totalCount || 0,\r\n        isCloud,\r\n        isFreeTrial,\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch) {\r\n    return {\r\n        actions: bindActionCreators({\r\n            getTeams,\r\n            loadRolesIfNeeded,\r\n            addUserToTeam,\r\n        }, dispatch),\r\n    };\r\n}\r\n\r\nexport default withUseGetUsageDelta(connect(mapStateToProps, mapDispatchToProps)(SelectTeam));\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {useIntl} from 'react-intl';\r\n\r\nexport default function LogoutIcon() {\r\n    const {formatMessage} = useIntl();\r\n    return (\r\n        <i\r\n            className='fa fa-1x fa-angle-left'\r\n            title={formatMessage({id: 'generic_icons.logout', defaultMessage: 'Logout Icon'})}\r\n        />\r\n    );\r\n}\r\n"],"names":["BackButton","_ref","url","className","onClick","formatMessage","useIntl","React","classNames","Link","to","id","title","defaultMessage","FormattedMessage","propTypes","_pt","WrappedComponent","props","usageDeltas","useGetUsageDeltas","Object","assign","withBackupValue","maybeLimit","limitsLoaded","Number","MAX_VALUE","usage","useGetUsage","limits","useGetLimits","useMemo","_limits$files","_limits$messages","_limits$teams","files","totalStorage","total_storage","totalStorageLoaded","messages","history","historyLoaded","teams","active","cloudArchived","teamsLoaded","SiteNameAndDescription","customDescriptionText","siteName","description","InfiniteScroll","constructor","super","_defineProperty","buffer","Math","abs","total","freq","ceil","isFetching","isEndofData","this","state","callBack","bufferValue","totalItems","itemsPerPage","pageNumber","node","current","validBuffer","validateBuffer","toScroll","scrollHeight","clientHeight","scrollTop","setState","async","amountOfPages","getAmountOfPages","debounce","handleScroll","componentDidMount","_this$node$current","addEventListener","debounceHandleScroll","componentWillUnmount","_this$node$current2","removeEventListener","render","children","endOfDataMessage","styleClass","loaderStyle","showLoader","concat","ref","LoadingScreen","style","message","TeamInfoIcon","width","height","viewBox","role","transform","d","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","SelectTeamItem","team","onTeamClick","loading","canJoinPublicTeams","canJoinPrivateTeams","intl","handleTeamClick","useCallback","e","preventDefault","icon","canJoin","allow_open_invite","WithTooltip","href","Utils","display_name","undefined","isRequired","SelectTeam","currentPage","actions","response","getTeams","error","Error","prevState","currentUserRoles","loadingTeamId","data","addUserToTeam","currentUserId","push","name","Constants","DEFAULT_CHANNEL","errorMsg","server_error_id","includes","PERMISSIONS_SYSTEM_ADMIN","values","a","chunks","emitUserLoggedOutEvent","endofTeamsData","currentListableTeams","getDerivedStateFromProps","listableTeams","length","slice","fetchMoreTeams","loadRolesIfNeeded","split","currentUserIsGuest","canManageSystem","isMemberOfTeam","canCreateTeams","totalTeamsCount","isCloud","isFreeTrial","usageDeltaTeams","createTeamRestricted","openContent","joinableTeamContents","forEach","listableTeam","group_constrained","key","SystemPermissionGate","permissions","Permissions","CREATE_TEAM","invert","ExternalLink","location","padding","teamSignUp","marginTop","adminConsoleLink","headerButton","UserAgent","MANAGE_SYSTEM","clearError","handleLogoutClick","LogoutIcon","AnnouncementBar","alt","src","logoImage","withUseGetUsageDelta","connect","config","getConfig","currentUser","getCurrentUser","myTeamMemberships","getTeamMemberships","license","getLicense","subscription","selectCloudSubscription","isCloudLicense","is_free_trial","roles","isGuest","CustomDescriptionText","getSortedListableTeams","locale","SiteName","haveISystemPermission","permission","JOIN_PUBLIC_TEAMS","JOIN_PRIVATE_TEAMS","entities","totalCount","dispatch","bindActionCreators"],"sourceRoot":""}