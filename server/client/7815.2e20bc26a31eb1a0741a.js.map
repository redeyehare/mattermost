{"version":3,"file":"7815.2e20bc26a31eb1a0741a.js","mappings":"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","sources":["webpack://mattermost-webapp/./src/components/app.tsx","webpack://mattermost-webapp/./src/components/async_load.tsx","webpack://mattermost-webapp/./src/module_registry.ts","webpack://mattermost-webapp/./src/utils/browser_history.tsx","webpack://mattermost-webapp/./src/utils/desktop_api.ts","webpack://mattermost-webapp/./src/utils/server_version.tsx","webpack://mattermost-webapp/./src/utils/user_agent.tsx"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React, {lazy} from 'react';\r\nimport {Provider} from 'react-redux';\r\nimport {Router} from 'react-router-dom';\r\n\r\nimport store from 'stores/redux_store';\r\n\r\nimport {makeAsyncComponent} from 'components/async_load';\r\n\r\nimport {getHistory} from 'utils/browser_history';\r\nconst LazyRoot = lazy(() => import('components/root'));\r\n\r\nconst Root = makeAsyncComponent('Root', LazyRoot);\r\n\r\nconst App = () => {\r\n    return (\r\n        <Provider store={store}>\r\n            <Router history={getHistory()}>\r\n                <Root/>\r\n            </Router>\r\n        </Provider>\r\n    );\r\n};\r\n\r\nexport default React.memo(App);\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React, {lazy} from 'react';\r\n\r\nimport type {PluggableComponentType, PluggableProps} from 'plugins/pluggable/pluggable';\r\n\r\nimport type {PluginsState, ProductSubComponentNames} from 'types/store/plugins';\r\n\r\nexport function makeAsyncComponent<ComponentProps>(displayName: string, LazyComponent: React.ComponentType<ComponentProps>, fallback: React.ReactNode = null) {\r\n    const Component = (props: ComponentProps & React.JSX.IntrinsicAttributes) => (\r\n        <React.Suspense fallback={fallback}>\r\n            <LazyComponent {...props}/>\r\n        </React.Suspense>\r\n    );\r\n    Component.displayName = displayName;\r\n    return Component;\r\n}\r\n\r\nexport function makeAsyncPluggableComponent() {\r\n    const LazyComponent = lazy(() => import('plugins/pluggable')) as PluggableComponentType;\r\n\r\n    const Component = <T extends keyof PluginsState['components'], U extends ProductSubComponentNames>(props: PluggableProps<T, U>) => (\r\n        <React.Suspense fallback={null}>\r\n            <LazyComponent<T, U> {...props}/>\r\n        </React.Suspense>\r\n    );\r\n\r\n    Component.displayName = 'Pluggable';\r\n\r\n    return Component;\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nconst modules: Record<string, unknown> = {};\r\n\r\nexport const getModule = <T>(name: string) => {\r\n    return modules[name] as T;\r\n};\r\n\r\nexport const setModule = <T>(name: string, component: T) => {\r\n    if (modules[name]) {\r\n        return false;\r\n    }\r\n\r\n    modules[name] = component;\r\n    return true;\r\n};\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {createBrowserHistory} from 'history';\r\nimport type {History} from 'history';\r\n\r\nimport {getModule} from 'module_registry';\r\nimport DesktopApp from 'utils/desktop_api';\r\nimport {isServerVersionGreaterThanOrEqualTo} from 'utils/server_version';\r\nimport {isDesktopApp, getDesktopVersion} from 'utils/user_agent';\r\n\r\nconst b = createBrowserHistory({basename: window.basename});\r\nconst isDesktop = isDesktopApp() && isServerVersionGreaterThanOrEqualTo(getDesktopVersion(), '5.0.0');\r\nconst browserHistory = {\r\n    ...b,\r\n    push: (path: string | { pathname: string }, ...args: string[]) => {\r\n        if (isDesktop) {\r\n            DesktopApp.doBrowserHistoryPush(typeof path === 'object' ? path.pathname : path);\r\n        } else {\r\n            b.push(path, ...args);\r\n        }\r\n    },\r\n};\r\n\r\nif (isDesktop) {\r\n    DesktopApp.onBrowserHistoryPush((pathName) => b.push(pathName));\r\n}\r\n\r\n/**\r\n * Returns the current history object.\r\n *\r\n * If you're calling this from within a React component, consider using the useHistory hook from react-router-dom.\r\n */\r\nexport function getHistory() {\r\n    return getModule<History>('utils/browser_history') ?? browserHistory;\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport semver from 'semver';\r\n\r\nimport type {DesktopAPI, PopoutViewProps, Theme} from '@mattermost/desktop-api';\r\n\r\nimport {isDesktopApp} from 'utils/user_agent';\r\n\r\ndeclare global {\r\n    interface Window {\r\n        desktopAPI?: Partial<DesktopAPI>;\r\n    }\r\n}\r\n\r\nexport class DesktopAppAPI {\r\n    private name?: string;\r\n    private version?: string | null;\r\n    private prereleaseVersion?: string;\r\n    private dev?: boolean;\r\n    private isAbleToPopout?: boolean;\r\n\r\n    /**\r\n     * @deprecated\r\n     */\r\n    private postMessageListeners?: Map<string, Set<(message: unknown) => void>>;\r\n\r\n    constructor() {\r\n        // Check the user agent string first\r\n        if (!isDesktopApp()) {\r\n            return;\r\n        }\r\n\r\n        this.getDesktopAppInfo().then(({name, version}) => {\r\n            this.name = name;\r\n            this.version = semver.valid(semver.coerce(version));\r\n            this.prereleaseVersion = version?.split('-')?.[1];\r\n\r\n            // Legacy Desktop App version, used by some plugins\r\n            if (!window.desktop) {\r\n                window.desktop = {};\r\n            }\r\n            window.desktop.version = semver.valid(semver.coerce(version));\r\n        });\r\n        window.desktopAPI?.isDev?.().then((isDev) => {\r\n            this.dev = isDev;\r\n        });\r\n        window.desktopAPI?.canPopout?.().then((canPopout) => {\r\n            this.isAbleToPopout = canPopout;\r\n        });\r\n\r\n        // Legacy code - to be removed\r\n        this.postMessageListeners = new Map();\r\n        window.addEventListener('message', this.postMessageListener);\r\n        window.addEventListener('beforeunload', () => {\r\n            window.removeEventListener('message', this.postMessageListener);\r\n        });\r\n    }\r\n\r\n    setupDesktopPopout = async (path: string, desktopProps?: PopoutViewProps) => {\r\n        const popoutId = await this.openPopout(path, desktopProps ?? {});\r\n        if (!popoutId) {\r\n            throw new Error('Failed to open popout: Desktop App returned an invalid popout ID');\r\n        }\r\n        return {\r\n            sendToPopout: (channel: string, ...args: unknown[]) => {\r\n                this.sendToPopoutWindow(popoutId, channel, ...args);\r\n            },\r\n            onMessageFromPopout: (listener: (channel: string, ...args: unknown[]) => void) => {\r\n                return this.onMessageFromPopoutWindow((id, channel, ...args) => {\r\n                    if (id === popoutId) {\r\n                        listener(channel, ...args);\r\n                    }\r\n                });\r\n            },\r\n            onClosePopout: (listener: () => void) => {\r\n                return this.onPopoutWindowClosed((id) => {\r\n                    if (id === popoutId) {\r\n                        listener();\r\n                    }\r\n                });\r\n            },\r\n        };\r\n    };\r\n\r\n    /*******************************************************\r\n     * Getters/setters for Desktop App specific information\r\n     *******************************************************/\r\n\r\n    getAppName = () => {\r\n        return this.name;\r\n    };\r\n\r\n    getAppVersion = () => {\r\n        return this.version;\r\n    };\r\n\r\n    getPrereleaseVersion = () => {\r\n        return this.prereleaseVersion;\r\n    };\r\n\r\n    isDev = () => {\r\n        return this.dev;\r\n    };\r\n\r\n    canPopout = () => {\r\n        return this.isAbleToPopout;\r\n    };\r\n\r\n    private getDesktopAppInfo = () => {\r\n        if (window.desktopAPI?.getAppInfo) {\r\n            return window.desktopAPI.getAppInfo();\r\n        }\r\n\r\n        return this.invokeWithMessaging<void, {name: string; version: string}>(\r\n            'webapp-ready',\r\n            undefined,\r\n            'register-desktop',\r\n        );\r\n    };\r\n\r\n    /**********************\r\n     * Exposed API methods\r\n     **********************/\r\n\r\n    /**\r\n     * Invokes\r\n     */\r\n\r\n    getBrowserHistoryStatus = async () => {\r\n        if (window.desktopAPI?.requestBrowserHistoryStatus) {\r\n            return window.desktopAPI.requestBrowserHistoryStatus();\r\n        }\r\n\r\n        const {enableBack, enableForward} = await this.invokeWithMessaging<void, {enableBack: boolean; enableForward: boolean}>(\r\n            'history-button',\r\n            undefined,\r\n            'history-button-return',\r\n        );\r\n\r\n        return {\r\n            canGoBack: enableBack,\r\n            canGoForward: enableForward,\r\n        };\r\n    };\r\n\r\n    private openPopout = (path: string, props: PopoutViewProps) => {\r\n        return window.desktopAPI?.openPopout?.(path, props);\r\n    };\r\n\r\n    canUsePopoutOption = (optionName: string) => {\r\n        return Boolean(window.desktopAPI?.canUsePopoutOption?.(optionName));\r\n    };\r\n\r\n    getDarkMode = () => {\r\n        return window.desktopAPI?.getDarkMode?.() ?? Promise.resolve(false);\r\n    };\r\n\r\n    /**\r\n     * Listeners\r\n     */\r\n\r\n    onUserActivityUpdate = (listener: (userIsActive: boolean, idleTime: number, isSystemEvent: boolean) => void) => {\r\n        if (window.desktopAPI?.onUserActivityUpdate) {\r\n            return window.desktopAPI.onUserActivityUpdate(listener);\r\n        }\r\n\r\n        const legacyListener = ({userIsActive, manual}: {userIsActive: boolean; manual: boolean}) => listener(userIsActive, 0, manual);\r\n        this.addPostMessageListener('user-activity-update', legacyListener);\r\n\r\n        return () => this.removePostMessageListener('user-activity-update', legacyListener);\r\n    };\r\n\r\n    onNotificationClicked = (listener: (channelId: string, teamId: string, url: string) => void) => {\r\n        if (window.desktopAPI?.onNotificationClicked) {\r\n            return window.desktopAPI.onNotificationClicked(listener);\r\n        }\r\n\r\n        const legacyListener = ({channel, teamId, url}: {channel: {id: string}; teamId: string; url: string}) => listener(channel.id, teamId, url);\r\n        this.addPostMessageListener('notification-clicked', legacyListener);\r\n\r\n        return () => this.removePostMessageListener('notification-clicked', legacyListener);\r\n    };\r\n\r\n    onBrowserHistoryPush = (listener: (pathName: string) => void) => {\r\n        if (window.desktopAPI?.onBrowserHistoryPush) {\r\n            return window.desktopAPI.onBrowserHistoryPush(listener);\r\n        }\r\n\r\n        const legacyListener = ({pathName}: {pathName: string}) => listener(pathName);\r\n        this.addPostMessageListener('browser-history-push-return', legacyListener);\r\n\r\n        return () => this.removePostMessageListener('browser-history-push-return', legacyListener);\r\n    };\r\n\r\n    onBrowserHistoryStatusUpdated = (listener: (enableBack: boolean, enableForward: boolean) => void) => {\r\n        if (window.desktopAPI?.onBrowserHistoryStatusUpdated) {\r\n            return window.desktopAPI.onBrowserHistoryStatusUpdated(listener);\r\n        }\r\n\r\n        const legacyListener = ({enableBack, enableForward}: {enableBack: boolean; enableForward: boolean}) => listener(enableBack, enableForward);\r\n        this.addPostMessageListener('history-button-return', legacyListener);\r\n\r\n        return () => this.removePostMessageListener('history-button-return', legacyListener);\r\n    };\r\n\r\n    onReceiveMetrics = (listener: (metricsMap: Map<string, {cpu?: number; memory?: number}>) => void) => {\r\n        return window.desktopAPI?.onSendMetrics?.(listener);\r\n    };\r\n\r\n    onMessageFromParentWindow = (listener: (channel: string, ...args: unknown[]) => void) => {\r\n        return window.desktopAPI?.onMessageFromParent?.(listener);\r\n    };\r\n\r\n    private onMessageFromPopoutWindow = (listener: (id: string, channel: string, ...args: unknown[]) => void) => {\r\n        return window.desktopAPI?.onMessageFromPopout?.(listener);\r\n    };\r\n\r\n    private onPopoutWindowClosed = (listener: (id: string) => void) => {\r\n        return window.desktopAPI?.onPopoutClosed?.(listener);\r\n    };\r\n\r\n    onDarkModeChanged = (listener: (darkMode: boolean) => void) => {\r\n        return window.desktopAPI?.onDarkModeChanged?.(listener);\r\n    };\r\n\r\n    /**\r\n     * One-ways\r\n     */\r\n\r\n    dispatchNotification = async (\r\n        title: string,\r\n        body: string,\r\n        channelId: string,\r\n        teamId: string,\r\n        silent: boolean,\r\n        soundName: string,\r\n        url: string,\r\n    ) => {\r\n        if (window.desktopAPI?.sendNotification) {\r\n            const result = await window.desktopAPI.sendNotification(title, body, channelId, teamId, url, silent, soundName);\r\n            return result ?? {status: 'unsupported', reason: 'desktop_app_unsupported'};\r\n        }\r\n\r\n        // get the desktop app to trigger the notification\r\n        window.postMessage(\r\n            {\r\n                type: 'dispatch-notification',\r\n                message: {\r\n                    title,\r\n                    body,\r\n                    channel: {id: channelId},\r\n                    teamId,\r\n                    silent,\r\n                    data: {soundName},\r\n                    url,\r\n                },\r\n            },\r\n            window.location.origin,\r\n        );\r\n        return {status: 'unsupported', reason: 'desktop_app_unsupported'};\r\n    };\r\n\r\n    doBrowserHistoryPush = (path: string) => {\r\n        if (window.desktopAPI?.sendBrowserHistoryPush) {\r\n            window.desktopAPI.sendBrowserHistoryPush(path);\r\n            return;\r\n        }\r\n\r\n        window.postMessage(\r\n            {\r\n                type: 'browser-history-push',\r\n                message: {path},\r\n            },\r\n            window.location.origin,\r\n        );\r\n    };\r\n\r\n    updateUnreadsAndMentions = (isUnread: boolean, mentionCount: number) =>\r\n        window.desktopAPI?.setUnreadsAndMentions && window.desktopAPI.setUnreadsAndMentions(isUnread, mentionCount);\r\n    setSessionExpired = (expired: boolean) => window.desktopAPI?.setSessionExpired && window.desktopAPI.setSessionExpired(expired);\r\n    signalLogin = () => window.desktopAPI?.onLogin?.();\r\n    signalLogout = () => window.desktopAPI?.onLogout?.();\r\n    reactAppInitialized = () => window.desktopAPI?.reactAppInitialized?.();\r\n    updateTheme = (theme: Theme) => window.desktopAPI?.updateTheme?.(theme);\r\n\r\n    sendToParentWindow = (channel: string, ...args: unknown[]) => window.desktopAPI?.sendToParent?.(channel, ...args);\r\n    sendToPopoutWindow = (id: string, channel: string, ...args: unknown[]) => window.desktopAPI?.sendToPopout?.(id, channel, ...args);\r\n\r\n    /*********************************************************************\r\n     * Helper functions for legacy code\r\n     * Remove all of this once we have no use for message passing anymore\r\n     *********************************************************************/\r\n\r\n    /**\r\n     * @deprecated\r\n     */\r\n    private postMessageListener = ({origin, data: {type, message}}: {origin: string; data: {type: string; message: unknown}}) => {\r\n        if (origin !== window.location.origin) {\r\n            return;\r\n        }\r\n\r\n        const listeners = this.postMessageListeners?.get(type);\r\n        if (!listeners) {\r\n            return;\r\n        }\r\n\r\n        listeners.forEach((listener) => {\r\n            listener(message);\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @deprecated\r\n     */\r\n    private addPostMessageListener = (channel: string, listener: (message: any) => void) => {\r\n        if (this.postMessageListeners?.has(channel)) {\r\n            this.postMessageListeners.set(channel, this.postMessageListeners.get(channel)!.add(listener));\r\n        } else {\r\n            this.postMessageListeners?.set(channel, new Set([listener]));\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @deprecated\r\n     */\r\n    private removePostMessageListener = (channel: string, listener: (message: any) => void) => {\r\n        const set = this.postMessageListeners?.get(channel);\r\n        set?.delete(listener);\r\n        if (set?.size) {\r\n            this.postMessageListeners?.set(channel, set);\r\n        } else {\r\n            this.postMessageListeners?.delete(channel);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @deprecated\r\n     */\r\n    private invokeWithMessaging = <T, T2>(\r\n        sendChannel: string,\r\n        sendData?: T,\r\n        receiveChannel?: string,\r\n    ) => {\r\n        return new Promise<T2>((resolve) => {\r\n            /* create and register a temporary listener if necessary */\r\n            const response = ({origin, data: {type, message}}: {origin: string; data: {type: string; message: T2}}) => {\r\n                /* ignore messages from other frames */\r\n                if (origin !== window.location.origin) {\r\n                    return;\r\n                }\r\n\r\n                /* ignore messages from other channels */\r\n                if (type !== (receiveChannel ?? sendChannel)) {\r\n                    return;\r\n                }\r\n\r\n                /* clean up listener and resolve */\r\n                window.removeEventListener('message', response);\r\n                resolve(message);\r\n            };\r\n\r\n            window.addEventListener('message', response);\r\n            window.postMessage(\r\n                {type: sendChannel, message: sendData},\r\n                window.location.origin,\r\n            );\r\n        });\r\n    };\r\n}\r\n\r\nconst DesktopApp = new DesktopAppAPI();\r\nexport default DesktopApp;\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\n/**\r\n * Boolean function to check if a server version is greater than another.\r\n *\r\n * currentVersion: The server version being checked\r\n * compareVersion: The version to compare the former version against\r\n *\r\n * eg.  currentVersion = 4.16.0, compareVersion = 4.17.0 returns false\r\n *      currentVersion = 4.16.1, compareVersion = 4.16.1 returns true\r\n */\r\nexport function isServerVersionGreaterThanOrEqualTo(currentVersion: string, compareVersion: string): boolean {\r\n    if (currentVersion === compareVersion) {\r\n        return true;\r\n    }\r\n\r\n    // We only care about the numbers\r\n    const currentVersionNumber = (currentVersion || '').split('.').filter((x) => (/^[0-9]+$/).exec(x) !== null);\r\n    const compareVersionNumber = (compareVersion || '').split('.').filter((x) => (/^[0-9]+$/).exec(x) !== null);\r\n\r\n    for (let i = 0; i < Math.max(currentVersionNumber.length, compareVersionNumber.length); i++) {\r\n        const currentVersion = parseInt(currentVersionNumber[i], 10) || 0;\r\n        const compareVersion = parseInt(compareVersionNumber[i], 10) || 0;\r\n        if (currentVersion > compareVersion) {\r\n            return true;\r\n        }\r\n\r\n        if (currentVersion < compareVersion) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    // If all components are equal, then return true\r\n    return true;\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\n/*\r\nExample User Agents\r\n--------------------\r\n\r\nChrome:\r\n    Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36\r\n\r\nFirefox:\r\n    Mozilla/5.0 (Windows NT 10.0; WOW64; rv:47.0) Gecko/20100101 Firefox/47.0\r\n\r\nIE11:\r\n    Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; rv:11.0) like Gecko\r\n\r\nEdge:\r\n    Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586\r\n\r\nChromeOS Chromebook:\r\n    Mozilla/5.0 (X11; CrOS x86_64 8172.45.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.64 Safari/537.36\r\n\r\nDesktop App:\r\n    Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Mattermost/1.2.1 Chrome/49.0.2623.75 Electron/0.37.8 Safari/537.36\r\n    Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586\r\n    Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Mattermost/3.4.1 Chrome/53.0.2785.113 Electron/1.4.2 Safari/537.36\r\n    Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Mattermost/3.4.1 Chrome/51.0.2704.106 Electron/1.2.8 Safari/537.36\r\n\r\nAndroid Chrome:\r\n    Mozilla/5.0 (Linux; Android 4.0.4; Galaxy Nexus Build/IMM76B) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.133 Mobile Safari/535.19\r\n\r\nAndroid Firefox:\r\n    Mozilla/5.0 (Android; U; Android; pl; rv:1.9.2.8) Gecko/20100202 Firefox/3.5.8\r\n    Mozilla/5.0 (Android 7.0; Mobile; rv:54.0) Gecko/54.0 Firefox/54.0\r\n    Mozilla/5.0 (Android 7.0; Mobile; rv:57.0) Gecko/57.0 Firefox/57.0\r\n\r\nAndroid App:\r\n    Mozilla/5.0 (Linux; U; Android 4.1.1; en-gb; Build/KLP) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Safari/534.30\r\n    Mozilla/5.0 (Linux; Android 4.4; Nexus 5 Build/_BuildID_) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36\r\n    Mozilla/5.0 (Linux; Android 5.1.1; Nexus 5 Build/LMY48B; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/43.0.2357.65 Mobile Safari/537.36\r\n\r\niOS Safari:\r\n    Mozilla/5.0 (iPhone; U; CPU like Mac OS X; en) AppleWebKit/420+ (KHTML, like Gecko) Version/3.0 Mobile/1A543 Safari/419.3\r\n\r\niOS Android:\r\n    Mozilla/5.0 (iPhone; U; CPU iPhone OS 5_1_1 like Mac OS X; en) AppleWebKit/534.46.0 (KHTML, like Gecko) CriOS/19.0.1084.60 Mobile/9B206 Safari/7534.48.3\r\n\r\niOS App:\r\n    Mozilla/5.0 (iPhone; CPU iPhone OS 9_3_2 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Mobile/13F69\r\n*/\r\n\r\nconst userAgent = () => window.navigator.userAgent;\r\n\r\nexport function isChrome(): boolean {\r\n    return userAgent().indexOf('Chrome') > -1 && userAgent().indexOf('Edge') === -1;\r\n}\r\n\r\nexport function isSafari(): boolean {\r\n    return userAgent().indexOf('Safari') !== -1 && userAgent().indexOf('Chrome') === -1;\r\n}\r\n\r\nexport function isIosSafari(): boolean {\r\n    return (userAgent().indexOf('iPhone') !== -1 || userAgent().indexOf('iPad') !== -1) && userAgent().indexOf('Safari') !== -1 && userAgent().indexOf('CriOS') === -1;\r\n}\r\n\r\nexport function isIosChrome(): boolean {\r\n    return userAgent().indexOf('CriOS') !== -1;\r\n}\r\n\r\nexport function isIosFirefox(): boolean {\r\n    return userAgent().indexOf('FxiOS') !== -1;\r\n}\r\n\r\nexport function isIosWeb(): boolean {\r\n    return isIosSafari() || isIosChrome();\r\n}\r\n\r\nexport function isIos(): boolean {\r\n    return userAgent().indexOf('iPhone') !== -1 || userAgent().indexOf('iPad') !== -1;\r\n}\r\n\r\nexport function isAndroid(): boolean {\r\n    return userAgent().indexOf('Android') !== -1;\r\n}\r\n\r\nexport function isAndroidChrome(): boolean {\r\n    return userAgent().indexOf('Android') !== -1 && userAgent().indexOf('Chrome') !== -1 && userAgent().indexOf('Version') === -1;\r\n}\r\n\r\nexport function isAndroidFirefox(): boolean {\r\n    return userAgent().indexOf('Android') !== -1 && userAgent().indexOf('Firefox') !== -1;\r\n}\r\n\r\nexport function isAndroidWeb(): boolean {\r\n    return isAndroidChrome() || isAndroidFirefox();\r\n}\r\n\r\nexport function isIosClassic(): boolean {\r\n    return isMobileApp() && isIos();\r\n}\r\n\r\n// Returns true if and only if the user is using a Mattermost mobile app. This will return false if the user is using the\r\n// web browser on a mobile device.\r\nexport function isMobileApp(): boolean {\r\n    return isMobile() && !isIosWeb() && !isAndroidWeb();\r\n}\r\n\r\n// Returns true if and only if the user is using Mattermost from the web browser on a mobile device.\r\nexport function isMobile(): boolean {\r\n    return isIos() || isAndroid();\r\n}\r\n\r\nexport function isFirefox(): boolean {\r\n    return userAgent().indexOf('Firefox') !== -1;\r\n}\r\n\r\nexport function isChromebook(): boolean {\r\n    return userAgent().indexOf('CrOS') !== -1;\r\n}\r\n\r\nexport function isInternetExplorer(): boolean {\r\n    return userAgent().indexOf('Trident') !== -1;\r\n}\r\n\r\nexport function isEdge(): boolean {\r\n    return userAgent().indexOf('Edge') !== -1;\r\n}\r\n\r\nexport function isChromiumEdge(): boolean {\r\n    return userAgent().indexOf('Edg') !== -1 && userAgent().indexOf('Edge') === -1;\r\n}\r\n\r\nexport function isDesktopApp(): boolean {\r\n    return userAgent().indexOf('Mattermost') !== -1 && userAgent().indexOf('Electron') !== -1;\r\n}\r\n\r\nexport function isWindowsApp(): boolean {\r\n    return isDesktopApp() && isWindows();\r\n}\r\n\r\nexport function isMacApp(): boolean {\r\n    return isDesktopApp() && isMac();\r\n}\r\n\r\nexport function isWindows(): boolean {\r\n    return userAgent().indexOf('Windows') !== -1;\r\n}\r\n\r\nexport function isMac(): boolean {\r\n    return userAgent().indexOf('Macintosh') !== -1;\r\n}\r\n\r\nexport function isLinux(): boolean {\r\n    return navigator.platform.toUpperCase().indexOf('LINUX') >= 0;\r\n}\r\n\r\nexport function isWindows7(): boolean {\r\n    const appVersion = navigator.appVersion;\r\n\r\n    if (!appVersion) {\r\n        return false;\r\n    }\r\n\r\n    return (/\\bWindows NT 6\\.1\\b/).test(appVersion);\r\n}\r\n\r\nexport function getDesktopVersion(): string {\r\n    // use if the value window.desktop.version is not set yet\r\n    const regex = /Mattermost\\/(\\d+\\.\\d+\\.\\d+)/gm;\r\n    const match = regex.exec(window.navigator.appVersion)?.[1] || '';\r\n    return match;\r\n}\r\n"],"names":["LazyRoot","lazy","Root","makeAsyncComponent","App","React","Provider","store","Router","history","getHistory","displayName","LazyComponent","fallback","arguments","length","undefined","Component","props","makeAsyncPluggableComponent","modules","getModule","name","setModule","component","b","createBrowserHistory","basename","window","isDesktop","isDesktopApp","isServerVersionGreaterThanOrEqualTo","getDesktopVersion","browserHistory","_objectSpread","push","path","DesktopApp","doBrowserHistoryPush","pathname","_len","args","Array","_key","_getModule","onBrowserHistoryPush","pathName","constructor","_window$desktopAPI23","_window$desktopAPI23$","_window$desktopAPI24","_window$desktopAPI24$","_this","_defineProperty","async","desktopProps","popoutId","this","openPopout","Error","sendToPopout","channel","sendToPopoutWindow","onMessageFromPopout","listener","onMessageFromPopoutWindow","id","_len2","_key2","onClosePopout","onPopoutWindowClosed","version","prereleaseVersion","dev","isAbleToPopout","_window$desktopAPI","desktopAPI","getAppInfo","invokeWithMessaging","_window$desktopAPI2","requestBrowserHistoryStatus","enableBack","enableForward","canGoBack","canGoForward","_window$desktopAPI3","_window$desktopAPI3$o","call","optionName","_window$desktopAPI4","_window$desktopAPI4$c","Boolean","canUsePopoutOption","_window$desktopAPI$ge","_window$desktopAPI5","_window$desktopAPI5$g","getDarkMode","Promise","resolve","_window$desktopAPI6","onUserActivityUpdate","legacyListener","_ref","userIsActive","manual","addPostMessageListener","removePostMessageListener","_window$desktopAPI7","onNotificationClicked","_ref2","teamId","url","_window$desktopAPI8","_ref3","_window$desktopAPI9","onBrowserHistoryStatusUpdated","_ref4","_window$desktopAPI0","_window$desktopAPI0$o","onSendMetrics","_window$desktopAPI1","_window$desktopAPI1$o","onMessageFromParent","_window$desktopAPI10","_window$desktopAPI10$","_window$desktopAPI11","_window$desktopAPI11$","onPopoutClosed","_window$desktopAPI12","_window$desktopAPI12$","onDarkModeChanged","title","body","channelId","silent","soundName","_window$desktopAPI13","sendNotification","result","status","reason","postMessage","type","message","data","location","origin","_window$desktopAPI14","sendBrowserHistoryPush","isUnread","mentionCount","_window$desktopAPI15","setUnreadsAndMentions","expired","_window$desktopAPI16","setSessionExpired","_window$desktopAPI17","_window$desktopAPI17$","onLogin","_window$desktopAPI18","_window$desktopAPI18$","onLogout","_window$desktopAPI19","_window$desktopAPI19$","reactAppInitialized","theme","_window$desktopAPI20","_window$desktopAPI20$","updateTheme","_window$desktopAPI21","_window$desktopAPI21$","_len3","_key3","sendToParent","_window$desktopAPI22","_window$desktopAPI22$","_len4","_key4","_ref5","_this$postMessageList","listeners","postMessageListeners","get","forEach","_this$postMessageList2","_this$postMessageList3","has","set","add","Set","_this$postMessageList4","_this$postMessageList5","_this$postMessageList6","delete","size","sendChannel","sendData","receiveChannel","response","_ref6","removeEventListener","addEventListener","getDesktopAppInfo","then","_ref7","_version$split","semver","split","desktop","isDev","canPopout","Map","postMessageListener","currentVersion","compareVersion","currentVersionNumber","filter","x","exec","compareVersionNumber","i","Math","max","parseInt","userAgent","navigator","isChrome","indexOf","isSafari","isIosSafari","isIosChrome","isIosFirefox","isIosWeb","isIos","isAndroid","isAndroidWeb","isMobileApp","isMobile","isFirefox","isChromebook","isInternetExplorer","isEdge","isChromiumEdge","isMacApp","isMac","isWindows","isLinux","platform","toUpperCase","_regex$exec","appVersion"],"sourceRoot":""}