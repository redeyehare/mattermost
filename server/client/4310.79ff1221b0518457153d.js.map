{"version":3,"file":"4310.79ff1221b0518457153d.js","mappings":"8NAuBA,MAAMA,EAAaC,IAAyD,IAAxD,IAACC,EAAM,IAAG,UAAEC,EAAS,QAAEC,GAAeH,EACtD,MAAM,cAACI,IAAiBC,EAAAA,EAAAA,WAExB,OACIC,IAAAA,cAAA,OAAKJ,UAAWK,IAAW,gBAAiBL,IACxCI,IAAAA,cAACE,EAAAA,KAAI,CACD,cAAY,cACZL,QAASA,EACTM,GAAIR,GAEJK,IAAAA,cAAA,QACII,GAAG,mBACHR,UAAU,yBACVS,MAAOP,EAAc,CAACM,GAAI,qBAAsBE,eAAgB,gBAEpEN,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,kBACHE,eAAe,UAGrB,EAEZb,EAAAe,UAAA,CAhCEb,IAAGc,IAAAA,OAEHb,UAASa,IAAAA,OAKTZ,QAAOY,IAAAA,MA2BX,S,+EC1BA,QAbA,SAAiCC,GAC7B,OAAQC,IACJ,MAAMC,GAAcC,EAAAA,EAAAA,KAEpB,OACIb,IAAAA,cAACU,EAAgBI,OAAAC,OAAA,CACbH,YAAaA,GACTD,GACN,CAGd,C,iFCHO,MAAMK,EAAkBA,CAACC,EAAgCC,IAA2BA,GAAgBD,QAAAA,EAAkCE,OAAOC,UAErI,SAASP,IACpB,MAAMQ,GAAQC,EAAAA,EAAAA,MACPC,EAAQL,IAAgBM,EAAAA,EAAAA,KAwB/B,OAtBmBC,EAAAA,EAAAA,UAAQ,KAAM,IAAAC,EAAAC,EAAAC,EAC7B,MACI,CACIC,MAAO,CACHC,aAAcT,EAAMQ,MAAMC,aAAed,EAA4B,QAAbU,EAACH,EAAOM,aAAK,IAAAH,OAAA,EAAZA,EAAcK,cAAeb,GACtFc,mBAAoBX,EAAMQ,MAAMG,oBAEpCC,SAAU,CACNC,QAASb,EAAMY,SAASC,QAAUlB,EAA+B,QAAhBW,EAACJ,EAAOU,gBAAQ,IAAAN,OAAA,EAAfA,EAAiBO,QAAShB,GAC5EiB,cAAed,EAAMY,SAASE,eAElCC,MAAO,CACHC,OAAQhB,EAAMe,MAAMC,OAASrB,EAA4B,QAAbY,EAACL,EAAOa,aAAK,IAAAR,OAAA,EAAZA,EAAcS,OAAQnB,GAGnEoB,cAAejB,EAAMe,MAAME,cAC3BC,YAAalB,EAAMe,MAAMG,aAEhC,GAEN,CAAClB,EAAOE,EAAQL,GAGvB,C,0FCnCA,MAAMsB,EAAyB9C,IAA6D,IAA5D,sBAAC+C,EAAqB,SAAEC,EAAW,cAAoBhD,EACnF,MAAMiD,EAAcF,GAChBzC,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,uBACHE,eAAe,4EAIvB,OACIN,IAAAA,cAAAA,IAAAA,SAAA,KACIA,IAAAA,cAAA,MAAII,GAAG,aAAasC,GACpB1C,IAAAA,cAAA,MACII,GAAG,mBACHR,UAAU,gBAET+C,GAEN,EAETH,EAAAhC,UAAA,CAtBEiC,sBAAqBhC,IAAAA,QAwBzB,QAAeT,IAAAA,KAAWwC,E,mtBCKX,MAAMI,UAAkC5C,IAAAA,cACnD6C,WAAAA,CAAYlC,GAAc,IAAAmC,EACtBC,MAAMpC,GAAOqC,EAAA,wBAOC,IACPC,KAAKC,MAAMC,gBAAgBC,QAAUC,EAAAA,GAAUC,qBAAuBL,KAAKC,MAAMC,gBAAgBC,QAAUC,EAAAA,GAAUE,sBAC/HP,EAAA,mBAEaQ,IACV,IAAKP,KAAKQ,kBACN,OAGJD,EAAEE,iBACF,MAAMC,EAAcV,KAAKC,MAAMC,gBAAgBS,OAEzCC,EAAWZ,KAAKtC,MAAMuC,MAC5BW,EAASC,OAAS,WAClBD,EAASE,KAAMC,aAAeL,EAC9BE,EAASE,KAAME,MAAOC,EAAAA,EAAAA,IAAeP,GACrCV,KAAKtC,MAAMwD,aAAaN,EAAS,IACpCb,EAAA,gCAE0BQ,IACvBP,KAAKmB,SAAS,CAACjB,gBAAiBK,EAAEa,OAAOC,OAAO,IAzBhDrB,KAAKC,MAAQ,CACTC,iBAAsC,QAArBL,EAAAG,KAAKtC,MAAMuC,MAAMa,YAAI,IAAAjB,OAAA,EAArBA,EAAuBkB,eAAgB,GAEhE,CAyBAO,MAAAA,GACI,OACIvE,IAAAA,cAAA,WACIA,IAAAA,cAAA,YACIA,IAAAA,cAAA,OACIwE,IAAK,cACL5E,UAAU,mBACV6E,IAAKC,IAET1E,IAAAA,cAAA,SAAO2E,QAAQ,iBACX3E,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,oCACHwE,QAAQ,SACRtE,eAAe,eAGvBN,IAAAA,cAAA,OAAKJ,UAAU,cACXI,IAAAA,cAAA,OAAKJ,UAAU,OACXI,IAAAA,cAAA,OAAKJ,UAAU,YACXI,IAAAA,cAAC6E,EAAAA,EAAK,CACFzE,GAAG,gBACH6D,KAAK,gBACLa,KAAK,OACLR,MAAOrB,KAAKC,MAAMC,gBAClB4B,WAAW,EACXC,SAAU/B,KAAKgC,wBACfC,UAAU,EACVC,UAAW9B,EAAAA,GAAUE,oBACrB6B,UAAW/B,EAAAA,GAAUC,oBACrB+B,WAAW,aAK3BrF,IAAAA,cAAA,WACIA,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,oCACHE,eAAe,iFAGvBN,IAAAA,cAAA,UACII,GAAG,qBACH0E,KAAK,SACLlF,UAAU,uBACVC,QAASoD,KAAKqC,WACdC,UAAWtC,KAAKQ,mBAEhBzD,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,gCACHE,eAAe,SAEnBN,IAAAA,cAAA,KAAGJ,UAAU,8BAKjC,EACHoD,EAzFoBJ,EAAyB,aAZ1CM,MAAKzC,IAAAA,MAAA,CARLqD,OAAMrD,IAAAA,OAAA+E,aAAAA,WAaNrB,aAAY1D,IAAAA,KAAA+E,a,+dC2BD,MAAMC,UAAgBzF,IAAAA,cAGjC6C,WAAAA,CAAYlC,GAAc,IAAA+E,EACtB3C,MAAMpC,GAAOqC,EAAA,mBASIQ,IACjBA,EAAEE,iBACF,MAAMG,EAAWZ,KAAKtC,MAAMuC,MAC5BW,EAASC,OAAS,eAClBb,KAAKtC,MAAMwD,aAAaN,EAAS,IACpCb,EAAA,mBAEmB2C,UAChBnC,EAAEE,iBAEF,MAAMO,EAAOhB,KAAKC,MAAM0C,QAAShC,OAC3BiC,EAAcC,EAAAA,GAAmB7B,IAEhC8B,SAAS,kBAACC,EAAiB,WAAEC,IAAehD,KAAKtC,MAE7C,IAAAuF,EAWmGC,EAe5DC,EA1BlD,IAAKnC,EAQD,OAPAhB,KAAKmB,SAAS,CAACiC,UACXrG,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,gCACHE,eAAe,kCAGE,QAAzB4F,EAAAjD,KAAKqD,aAAaC,eAAO,IAAAL,GAAzBA,EAA2BM,SAI/B,GAAIX,EAAYzC,OAASC,EAAAA,GAAUC,qBAAuBuC,EAAYzC,OAASC,EAAAA,GAAUE,oBAYrF,OAXAN,KAAKmB,SAAS,CAACiC,UACXrG,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,kCACHE,eAAe,iEACfmG,OAAQ,CACJC,IAAKrD,EAAAA,GAAUC,oBACfqD,IAAKtD,EAAAA,GAAUE,8BAIF,QAAzB4C,EAAAlD,KAAKqD,aAAaC,eAAO,IAAAJ,GAAzBA,EAA2BK,SAI/B,GAAIX,IAAgB5B,IA7BH,wCA6BqB2C,KAAK3C,GAQvC,OAPAhB,KAAKmB,SAAS,CAACiC,UACXrG,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,6BACHE,eAAe,8GAGE,QAAzB8F,EAAAnD,KAAKqD,aAAaC,eAAO,IAAAH,GAAzBA,EAA2BI,SAI/B,IAAK,IAAIK,EAAQ,EAAGA,EAAQxD,EAAAA,GAAUyD,oBAAoB1D,OAAQyD,IAC9D,GAAkE,IAA9DhB,EAAYkB,QAAQ1D,EAAAA,GAAUyD,oBAAoBD,IAmBlD,YAlBA5D,KAAKmB,SAAS,CACViC,UACIrG,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,6BACHE,eAAe,2FACfmG,OAAQ,CACJO,KAAOC,GACHjH,IAAAA,cAACkH,EAAAA,EAAY,CACTC,KAAK,gFACLC,SAAS,YAERH,QAWjChE,KAAKmB,SAAS,CAACiD,WAAW,IAC1B,MAAMC,EAAaC,KAAKC,MAAMD,KAAKE,UAAUxE,KAAKtC,MAAMuC,QAOxD,GANAoE,EAAWvD,KAAKe,KAAO,IACvBwC,EAAWvD,KAAKE,KAAOA,SAEa+B,EAAkB/B,IACjByD,KAUjC,OAPAzE,KAAKmB,SAAS,CAACiC,UACXrG,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,mCACHE,eAAe,iEAGvB2C,KAAKmB,SAAS,CAACiD,WAAW,IAI9B,MAAMM,QAAuB1B,EAAWqB,EAAWvD,MAC7C2D,EAAOC,EAAeD,KACtBE,EAAQD,EAAeC,MAEzBF,EACAzE,KAAKtC,MAAMuB,QAAQ2F,KAAK,IAAMH,EAAKzD,KAAO,aAAeZ,EAAAA,GAAUyE,iBAC5DF,IACP3E,KAAKmB,SAAS,CAACiC,UAAWuB,EAAMG,UAChC9E,KAAKmB,SAAS,CAACiD,WAAW,IAC9B,IACHrE,EAAA,oBAEqBQ,IAClBA,EAAEE,iBACFF,EAAEwE,cAAcC,QAAQ,IAC3BjF,EAAA,iCAEkCQ,IAC/BP,KAAKmB,SAAS,CAACwB,QAASpC,EAAEa,OAAOC,OAAO,IAzHxCrB,KAAKqD,aAAetG,IAAAA,YACpBiD,KAAKC,MAAQ,CACTmD,UAAW,GACXgB,WAAW,EACXzB,QAAyB,QAAlBF,EAAE/E,EAAMuC,MAAMa,YAAI,IAAA2B,OAAA,EAAhBA,EAAkBzB,KAEnC,CAsHAM,MAAAA,GACI,IAAI8B,EAAY,KACZ6B,EAAe,aACfjF,KAAKC,MAAMmD,YACXA,EACIrG,IAAAA,cAAA,SACImI,KAAK,QACLvI,UAAU,gBACVQ,GAAG,qBAEF6C,KAAKC,MAAMmD,WAGpB6B,GAAgB,cAGpB,MAAM7H,EAAQ,GAAH+H,OAAMtC,EAAAA,KAAgB,KAEjC,IAAIuC,EACArI,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,8BACHE,eAAe,WAavB,OATI2C,KAAKC,MAAMmE,YACXgB,EACIrI,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,oCACHE,eAAe,sBAMvBN,IAAAA,cAAA,WACIA,IAAAA,cAAA,YACIA,IAAAA,cAAA,OACIwE,IAAK,mBACL5E,UAAU,mBACV6E,IAAKC,IAET1E,IAAAA,cAAA,SAAO2E,QAAQ,gBACX3E,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,+BACHwE,QAAQ,SACRtE,eAAe,cAGvBN,IAAAA,cAAA,OAAKJ,UAAWsI,GACZlI,IAAAA,cAAA,OAAKJ,UAAU,OACXI,IAAAA,cAAA,OAAKJ,UAAU,aACXI,IAAAA,cAAA,OAAKJ,UAAU,kCACXI,IAAAA,cAACsI,EAAAA,EAAW,CACRjI,MAAOA,GAEPL,IAAAA,cAAA,QAAMJ,UAAU,qBACXS,IAGTL,IAAAA,cAAA,SACII,GAAG,eACH0E,KAAK,OACLyD,IAAKtF,KAAKqD,aACV1G,UAAU,eACV4I,YAAY,GACZrD,UAAW,IACXb,MAAOrB,KAAKC,MAAM0C,QAClBb,WAAW,EACX0D,QAASxF,KAAKyF,YACd1D,SAAU/B,KAAK0F,yBACftD,WAAW,QACX,mBAAiB,yBAKhCgB,GAELrG,IAAAA,cAAA,SACIA,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,kCACHE,eAAe,8CAGvBN,IAAAA,cAAA,MAAIJ,UAAU,gBACVI,IAAAA,cAAA,UACIA,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,6BACHE,eAAe,iCAGvBN,IAAAA,cAAA,UACIA,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,6BACHE,eAAe,+CAGvBN,IAAAA,cAAA,UACIA,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,6BACHE,eAAe,uDAI3BN,IAAAA,cAAA,OAAKJ,UAAU,QACXI,IAAAA,cAAC4I,EAAAA,OAAM,CACHxI,GAAG,sBACH0E,KAAK,SACL+D,QAAQ,UACRtD,SAAUtC,KAAKC,MAAMmE,UACrBxH,QAAU2D,GAA4CP,KAAKqC,WAAW9B,IAErE6E,IAGTrI,IAAAA,cAAA,OAAKJ,UAAU,QACXI,IAAAA,cAAA,KACImH,KAAK,IACLtH,QAASoD,KAAK6F,YAEd9I,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,4BACHE,eAAe,6BAO3C,EACH0C,EApQoByC,EAAO,aA3BxBvC,MAAKzC,IAAAA,MAAA,CAAyBqD,OAAMrD,IAAAA,OAAA+E,aAAAA,WAKpCrB,aAAY1D,IAAAA,KAAA+E,WAKZO,QAAOtF,IAAAA,MAAA,CAKHuF,kBAAiBvF,IAAAA,KAAA+E,WAKjBS,WAAUxF,IAAAA,KAAA+E,aAAAA,WAEdtD,QAAOzB,IAAAA,MAAA,IAAA+E,aC/BX,SAAeuD,EAAAA,EAAAA,SAAQ,MATvB,SAA4BC,GACxB,MAAO,CACHjD,SAASkD,EAAAA,EAAAA,IAAmB,CACxBjD,kBAAiB,KACjBC,WAAUA,EAAAA,IACX+C,GAEX,GAEA,CAAiDvD,G,yZCsC1C,MAAMyD,UAAmBlJ,IAAAA,cACrB6C,WAAAA,CAAYlC,GACfoC,MAAMpC,GAAOqC,EAAA,qBAkBME,IACnBD,KAAKmB,SAASlB,GACdD,KAAKtC,MAAMuB,QAAQ2F,KAAK,gBAAkB3E,EAAMY,OAAO,IAlBvDb,KAAKC,MAAQ,CACTa,KAAM,CAAC,EACPD,OAAQ,eAEhB,CAEAqF,iBAAAA,GACI,MAAM,cAACrJ,GAAiBmD,KAAKtC,MAAMyI,KACnCC,SAAShJ,MAAQP,EAAc,CAC3BM,GAAI,wBACJE,eAAgB,8BACjB,CACCoC,SAAUO,KAAKtC,MAAM+B,UAAY,cAEzC,CAOA6B,MAAAA,GACI,MAAM,eACF+E,EAAc,YACdC,EAAW,sBACX9G,EAAqB,MACrB+G,EAAK,SACL9G,EAAQ,QACR+G,EAAO,YACPC,EACA9I,aACIwB,OACIC,OAAQsH,KAGhB1G,KAAKtC,MAGHiJ,EAAuBH,IAAYC,GADfC,GAAmB,EAG7C,IAAIhK,EAAM,eAQV,OAPI4J,IACA5J,EAAM,IAAHyI,OAAOmB,EAAYtF,MAClBqF,IACA3J,GAAO,aAAJyI,OAAiBkB,EAAerF,QAKvCjE,IAAAA,cAAA,WACIA,IAAAA,cAAC6J,EAAAA,QAAe,MAChB7J,IAAAA,cAACP,EAAAA,EAAU,CAACE,IAAKA,IACjBK,IAAAA,cAAA,OAAKJ,UAAU,aACXI,IAAAA,cAAA,OAAKJ,UAAU,0BACXI,IAAAA,cAACwC,EAAAA,EAAsB,CACnBC,sBAAuBA,EACvBC,SAAUA,IAEd1C,IAAAA,cAAA,OAAKJ,UAAU,mBACVgK,EACG5J,IAAAA,cAAAA,IAAAA,SAAA,KACIA,IAAAA,cAAA,UACIA,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,yCACHwE,QAAQ,SACRtE,eAAe,0BAGvBN,IAAAA,cAAA,WACIA,IAAAA,cAACO,EAAAA,iBAAgB,CACbH,GAAG,2CACHE,eAAe,4JAK3BN,IAAAA,cAAC8J,EAAAA,OAAM,KACH9J,IAAAA,cAAC+J,EAAAA,MAAK,CACFC,KAAI,GAAA5B,OAAKnF,KAAKtC,MAAM6I,MAAM7J,IAAG,iBAC7B4E,OAAS5D,GACLX,IAAAA,cAACiK,EAAWnJ,OAAAC,OAAA,CACRmC,MAAOD,KAAKC,MACZiB,aAAclB,KAAKkB,cACfxD,MAIhBX,IAAAA,cAAC+J,EAAAA,MAAK,CACFC,KAAI,GAAA5B,OAAKnF,KAAKtC,MAAM6I,MAAM7J,IAAG,aAC7B4E,OAAS5D,GACLX,IAAAA,cAACyF,EAAO3E,OAAAC,OAAA,CACJmC,MAAOD,KAAKC,MACZiB,aAAclB,KAAKkB,cACfxD,MAIhBX,IAAAA,cAACkK,EAAAA,SAAQ,CAAC/J,GAAE,GAAAiI,OAAKoB,EAAM7J,IAAG,uBAQ1D,EACHqD,EA9GYkG,EAAU,aAzBnBzG,sBAAqBhC,IAAAA,OAKrBiC,SAAQjC,IAAAA,OAKR+I,MAAK/I,IAAAA,MAAA,CACDd,IAAGc,IAAAA,OAAA+E,aAAAA,WAGPiE,QAAOhJ,IAAAA,KAAA+E,WACPkE,YAAWjJ,IAAAA,KAAA+E,aA0Hf,SAAe2E,EAAAA,EAAAA,YAAWjB,GChI1B,GAAekB,EAAAA,EAAAA,IAAqBrB,EAAAA,EAAAA,UAxBpC,SAAyB7F,GACrB,MAAMmH,GAASC,EAAAA,EAAAA,IAAUpH,GACnBoG,GAAiBiB,EAAAA,EAAAA,IAAkBrH,GACnCqG,GAAciB,EAAAA,EAAAA,IAAetH,GAE7BT,EAAwB4H,EAAOI,sBAC/B/H,EAAW2H,EAAOK,SAElBC,GAAeC,EAAAA,EAAAA,IAAwB1H,GACvC2H,GAAUC,EAAAA,EAAAA,IAAW5H,GAK3B,MAAO,CACHoG,iBACAC,cACA9G,wBACAC,WACA+G,SARYsB,EAAAA,EAAAA,IAAeF,GAS3BnB,YARgD,UAAhCiB,aAAY,EAAZA,EAAcK,eAUtC,GAEoCjC,CAAyBG,G","sources":["webpack://mattermost-webapp/./src/components/common/back_button.tsx","webpack://mattermost-webapp/./src/components/common/hocs/cloud/with_use_get_usage_deltas.tsx","webpack://mattermost-webapp/./src/components/common/hooks/useGetUsageDeltas.ts","webpack://mattermost-webapp/./src/components/common/site_name_and_description.tsx","webpack://mattermost-webapp/./src/components/create_team/components/display_name.tsx","webpack://mattermost-webapp/./src/components/create_team/components/team_url/team_url.tsx","webpack://mattermost-webapp/./src/components/create_team/components/team_url/index.ts","webpack://mattermost-webapp/./src/components/create_team/create_team.tsx","webpack://mattermost-webapp/./src/components/create_team/index.ts"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport {FormattedMessage, useIntl} from 'react-intl';\r\nimport {Link} from 'react-router-dom';\r\n\r\ntype Props = {\r\n\r\n    /**\r\n     * URL to return to\r\n     */\r\n    url?: string;\r\n\r\n    className?: string;\r\n\r\n    /**\r\n     * onClick handler when user clicks back button\r\n     */\r\n    onClick?: React.EventHandler<React.MouseEvent>;\r\n}\r\n\r\nconst BackButton = ({url = '/', className, onClick}: Props): JSX.Element => {\r\n    const {formatMessage} = useIntl();\r\n\r\n    return (\r\n        <div className={classNames('signup-header', className)}>\r\n            <Link\r\n                data-testid='back_button'\r\n                onClick={onClick}\r\n                to={url}\r\n            >\r\n                <span\r\n                    id='back_button_icon'\r\n                    className='fa fa-1x fa-angle-left'\r\n                    title={formatMessage({id: 'generic_icons.back', defaultMessage: 'Back Icon'})}\r\n                />\r\n                <FormattedMessage\r\n                    id='web.header.back'\r\n                    defaultMessage='Back'\r\n                />\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BackButton;\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport type {ComponentType} from 'react';\r\n\r\nimport useGetUsageDeltas from 'components/common/hooks/useGetUsageDeltas';\r\n\r\nfunction withUseGetUsageDelta<T>(WrappedComponent: ComponentType<T>) {\r\n    return (props: T) => {\r\n        const usageDeltas = useGetUsageDeltas();\r\n\r\n        return (\r\n            <WrappedComponent\r\n                usageDeltas={usageDeltas}\r\n                {...props}\r\n            />\r\n        );\r\n    };\r\n}\r\n\r\nexport default withUseGetUsageDelta;\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {useMemo} from 'react';\r\n\r\nimport type {CloudUsage} from '@mattermost/types/cloud';\r\n\r\nimport useGetLimits from './useGetLimits';\r\nimport useGetUsage from './useGetUsage';\r\n\r\n// Returns an object of type CloudUsage with the values being the delta between the limit, and the actual usage of this installation.\r\n// A value < 0 means that they are NOT over the limit. A value > 0 means they've exceeded that limit\r\n// 2 teams used, minus 1 team limit = value > 0, limit exceeded\r\n// 10MB files used, minus 1000MB limit = value < 0, limit not exceeded.\r\n// etc.\r\n// withBackupValue will set the limit arbitrarily high in the event that the limit isn't set\r\nexport const withBackupValue = (maybeLimit: number | undefined, limitsLoaded: boolean) => (limitsLoaded ? (maybeLimit ?? Number.MAX_VALUE) : Number.MAX_VALUE);\r\n\r\nexport default function useGetUsageDeltas(): CloudUsage {\r\n    const usage = useGetUsage();\r\n    const [limits, limitsLoaded] = useGetLimits();\r\n\r\n    const usageDelta = useMemo(() => {\r\n        return (\r\n            {\r\n                files: {\r\n                    totalStorage: usage.files.totalStorage - withBackupValue(limits.files?.total_storage, limitsLoaded),\r\n                    totalStorageLoaded: usage.files.totalStorageLoaded,\r\n                },\r\n                messages: {\r\n                    history: usage.messages.history - withBackupValue(limits.messages?.history, limitsLoaded),\r\n                    historyLoaded: usage.messages.historyLoaded,\r\n                },\r\n                teams: {\r\n                    active: usage.teams.active - withBackupValue(limits.teams?.active, limitsLoaded),\r\n\r\n                    // cloudArchived doesn't count against usage, but we pass the value along for convenience\r\n                    cloudArchived: usage.teams.cloudArchived,\r\n                    teamsLoaded: usage.teams.teamsLoaded,\r\n                },\r\n            }\r\n        );\r\n    }, [usage, limits, limitsLoaded]);\r\n\r\n    return usageDelta;\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {FormattedMessage} from 'react-intl';\r\n\r\ntype Props = {\r\n    customDescriptionText?: string;\r\n    siteName: string | undefined;\r\n};\r\nconst SiteNameAndDescription = ({customDescriptionText, siteName = 'Mattermost'}: Props) => {\r\n    const description = customDescriptionText || (\r\n        <FormattedMessage\r\n            id='web.root.signup_info'\r\n            defaultMessage='All team communication in one place, searchable and accessible anywhere'\r\n        />\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <h1 id='site_name'>{siteName}</h1>\r\n            <h3\r\n                id='site_description'\r\n                className='color--light'\r\n            >\r\n                {description}\r\n            </h3>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default React.memo(SiteNameAndDescription);\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {FormattedMessage} from 'react-intl';\r\n\r\nimport type {Team} from '@mattermost/types/teams';\r\n\r\nimport Input from 'components/widgets/inputs/input/input';\r\n\r\nimport logoImage from 'images/logo.png';\r\nimport Constants from 'utils/constants';\r\nimport {cleanUpUrlable} from 'utils/url';\r\n\r\ntype CreateTeamState = {\r\n    team?: Partial<Team>;\r\n    wizard: string;\r\n};\r\n\r\ntype Props = {\r\n\r\n    /*\r\n     * Object containing team's display_name and name\r\n     */\r\n    state: CreateTeamState;\r\n\r\n    /*\r\n     * Function that updates parent component with state props\r\n     */\r\n    updateParent: (state: CreateTeamState) => void;\r\n}\r\n\r\ntype State = {\r\n    teamDisplayName: string;\r\n}\r\n\r\nexport default class TeamSignupDisplayNamePage extends React.PureComponent<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            teamDisplayName: this.props.state.team?.display_name || '',\r\n        };\r\n    }\r\n\r\n    isValidTeamName = (): boolean => {\r\n        return this.state.teamDisplayName.length >= Constants.MIN_TEAMNAME_LENGTH && this.state.teamDisplayName.length <= Constants.MAX_TEAMNAME_LENGTH;\r\n    };\r\n\r\n    submitNext = (e: React.MouseEvent): void => {\r\n        if (!this.isValidTeamName()) {\r\n            return;\r\n        }\r\n\r\n        e.preventDefault();\r\n        const displayName = this.state.teamDisplayName.trim();\r\n\r\n        const newState = this.props.state;\r\n        newState.wizard = 'team_url';\r\n        newState.team!.display_name = displayName;\r\n        newState.team!.name = cleanUpUrlable(displayName);\r\n        this.props.updateParent(newState);\r\n    };\r\n\r\n    handleDisplayNameChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n        this.setState({teamDisplayName: e.target.value});\r\n    };\r\n\r\n    render(): React.ReactNode {\r\n        return (\r\n            <div>\r\n                <form>\r\n                    <img\r\n                        alt={'signup logo'}\r\n                        className='signup-team-logo'\r\n                        src={logoImage}\r\n                    />\r\n                    <label htmlFor='teamNameInput'>\r\n                        <FormattedMessage\r\n                            id='create_team.display_name.teamName'\r\n                            tagName='strong'\r\n                            defaultMessage='Team Name'\r\n                        />\r\n                    </label>\r\n                    <div className='form-group'>\r\n                        <div className='row'>\r\n                            <div className='col-sm-9'>\r\n                                <Input\r\n                                    id='teamNameInput'\r\n                                    name='teamNameInput'\r\n                                    type='text'\r\n                                    value={this.state.teamDisplayName}\r\n                                    autoFocus={true}\r\n                                    onChange={this.handleDisplayNameChange}\r\n                                    required={true}\r\n                                    maxLength={Constants.MAX_TEAMNAME_LENGTH}\r\n                                    minLength={Constants.MIN_TEAMNAME_LENGTH}\r\n                                    spellCheck='false'\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <FormattedMessage\r\n                            id='create_team.display_name.nameHelp'\r\n                            defaultMessage='Name your team in any language. Your team name shows in menus and headings.'\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        id='teamNameNextButton'\r\n                        type='submit'\r\n                        className='btn btn-primary mt-8'\r\n                        onClick={this.submitNext}\r\n                        disabled={!this.isValidTeamName()}\r\n                    >\r\n                        <FormattedMessage\r\n                            id='create_team.display_name.next'\r\n                            defaultMessage='Next'\r\n                        />\r\n                        <i className='icon icon-chevron-right'/>\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {Button} from 'react-bootstrap';\r\nimport {FormattedMessage} from 'react-intl';\r\n\r\nimport type {Team} from '@mattermost/types/teams';\r\n\r\nimport type {ActionResult} from 'mattermost-redux/types/actions';\r\n\r\nimport ExternalLink from 'components/external_link';\r\nimport WithTooltip from 'components/with_tooltip';\r\n\r\nimport logoImage from 'images/logo.png';\r\nimport Constants from 'utils/constants';\r\nimport * as URL from 'utils/url';\r\n\r\ntype State = {\r\n    isLoading: boolean;\r\n    nameError: string | JSX.Element;\r\n    teamURL?: string;\r\n}\r\n\r\ntype Props = {\r\n\r\n    /*\r\n     * Object containing team's display_name and name\r\n     */\r\n    state: {team?: Partial<Team>; wizard: string};\r\n\r\n    /*\r\n     * Function that updates parent component with state props\r\n     */\r\n    updateParent: (state: Props['state']) => void;\r\n\r\n    /*\r\n     * Object with redux action creators\r\n     */\r\n    actions: {\r\n\r\n        /*\r\n         * Action creator to check if a team already exists\r\n         */\r\n        checkIfTeamExists: (teamName: string) => Promise<ActionResult<boolean>>;\r\n\r\n        /*\r\n     * Action creator to create a new team\r\n     */\r\n        createTeam: (team: Team) => Promise<ActionResult<Team>>;\r\n    };\r\n    history: {\r\n        push(path: string): void;\r\n    };\r\n}\r\n\r\nexport default class TeamUrl extends React.PureComponent<Props, State> {\r\n    teamURLInput: React.RefObject<HTMLInputElement>;\r\n\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.teamURLInput = React.createRef();\r\n        this.state = {\r\n            nameError: '',\r\n            isLoading: false,\r\n            teamURL: props.state.team?.name,\r\n        };\r\n    }\r\n\r\n    public submitBack = (e: React.MouseEvent<HTMLElement, MouseEvent>) => {\r\n        e.preventDefault();\r\n        const newState = this.props.state;\r\n        newState.wizard = 'display_name';\r\n        this.props.updateParent(newState);\r\n    };\r\n\r\n    public submitNext = async (e: React.MouseEvent<Button, MouseEvent>) => {\r\n        e.preventDefault();\r\n\r\n        const name = this.state.teamURL!.trim();\r\n        const cleanedName = URL.cleanUpUrlable(name);\r\n        const urlRegex = /^[a-z]+([a-z\\-0-9]+|(__)?)[a-z0-9]+$/g;\r\n        const {actions: {checkIfTeamExists, createTeam}} = this.props;\r\n\r\n        if (!name) {\r\n            this.setState({nameError: (\r\n                <FormattedMessage\r\n                    id='create_team.team_url.required'\r\n                    defaultMessage='This field is required'\r\n                />),\r\n            });\r\n            this.teamURLInput.current?.focus();\r\n            return;\r\n        }\r\n\r\n        if (cleanedName.length < Constants.MIN_TEAMNAME_LENGTH || cleanedName.length > Constants.MAX_TEAMNAME_LENGTH) {\r\n            this.setState({nameError: (\r\n                <FormattedMessage\r\n                    id='create_team.team_url.charLength'\r\n                    defaultMessage='Name must be {min} or more characters up to a maximum of {max}'\r\n                    values={{\r\n                        min: Constants.MIN_TEAMNAME_LENGTH,\r\n                        max: Constants.MAX_TEAMNAME_LENGTH,\r\n                    }}\r\n                />),\r\n            });\r\n            this.teamURLInput.current?.focus();\r\n            return;\r\n        }\r\n\r\n        if (cleanedName !== name || !urlRegex.test(name)) {\r\n            this.setState({nameError: (\r\n                <FormattedMessage\r\n                    id='create_team.team_url.regex'\r\n                    defaultMessage=\"Use only lower case letters, numbers and dashes. Must start with a letter and can't end in a dash.\"\r\n                />),\r\n            });\r\n            this.teamURLInput.current?.focus();\r\n            return;\r\n        }\r\n\r\n        for (let index = 0; index < Constants.RESERVED_TEAM_NAMES.length; index++) {\r\n            if (cleanedName.indexOf(Constants.RESERVED_TEAM_NAMES[index]) === 0) {\r\n                this.setState({\r\n                    nameError: (\r\n                        <FormattedMessage\r\n                            id='create_team.team_url.taken'\r\n                            defaultMessage='This URL <link>starts with a reserved word</link> or is unavailable. Please try another.'\r\n                            values={{\r\n                                link: (msg: React.ReactNode) => (\r\n                                    <ExternalLink\r\n                                        href='https://docs.mattermost.com/help/getting-started/creating-teams.html#team-url'\r\n                                        location='team_url'\r\n                                    >\r\n                                        {msg}\r\n                                    </ExternalLink>\r\n                                ),\r\n                            }}\r\n                        />\r\n                    ),\r\n                });\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.setState({isLoading: true});\r\n        const teamSignup = JSON.parse(JSON.stringify(this.props.state));\r\n        teamSignup.team.type = 'O';\r\n        teamSignup.team.name = name;\r\n\r\n        const checkIfTeamExistsData = await checkIfTeamExists(name);\r\n        const exists = checkIfTeamExistsData.data;\r\n\r\n        if (exists) {\r\n            this.setState({nameError: (\r\n                <FormattedMessage\r\n                    id='create_team.team_url.unavailable'\r\n                    defaultMessage='This URL is taken or unavailable. Please try another.'\r\n                />),\r\n            });\r\n            this.setState({isLoading: false});\r\n            return;\r\n        }\r\n\r\n        const createTeamData = await createTeam(teamSignup.team);\r\n        const data = createTeamData.data;\r\n        const error = createTeamData.error;\r\n\r\n        if (data) {\r\n            this.props.history.push('/' + data.name + '/channels/' + Constants.DEFAULT_CHANNEL);\r\n        } else if (error) {\r\n            this.setState({nameError: error.message});\r\n            this.setState({isLoading: false});\r\n        }\r\n    };\r\n\r\n    public handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\r\n        e.preventDefault();\r\n        e.currentTarget.select();\r\n    };\r\n\r\n    public handleTeamURLInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({teamURL: e.target.value});\r\n    };\r\n\r\n    render() {\r\n        let nameError = null;\r\n        let nameDivClass = 'form-group';\r\n        if (this.state.nameError) {\r\n            nameError = (\r\n                <label\r\n                    role='alert'\r\n                    className='control-label'\r\n                    id='teamURLInputError'\r\n                >\r\n                    {this.state.nameError}\r\n                </label>\r\n            );\r\n            nameDivClass += ' has-error';\r\n        }\r\n\r\n        const title = `${URL.getSiteURL()}/`;\r\n\r\n        let finishMessage = (\r\n            <FormattedMessage\r\n                id='create_team.team_url.finish'\r\n                defaultMessage='Finish'\r\n            />\r\n        );\r\n\r\n        if (this.state.isLoading) {\r\n            finishMessage = (\r\n                <FormattedMessage\r\n                    id='create_team.team_url.creatingTeam'\r\n                    defaultMessage='Creating team...'\r\n                />\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <form>\r\n                    <img\r\n                        alt={'signup team logo'}\r\n                        className='signup-team-logo'\r\n                        src={logoImage}\r\n                    />\r\n                    <label htmlFor='teamURLInput'>\r\n                        <FormattedMessage\r\n                            id='create_team.team_url.teamUrl'\r\n                            tagName='strong'\r\n                            defaultMessage='Team URL'\r\n                        />\r\n                    </label>\r\n                    <div className={nameDivClass}>\r\n                        <div className='row'>\r\n                            <div className='col-sm-11'>\r\n                                <div className='input-group input-group--limit'>\r\n                                    <WithTooltip\r\n                                        title={title}\r\n                                    >\r\n                                        <span className='input-group-addon'>\r\n                                            {title}\r\n                                        </span>\r\n                                    </WithTooltip>\r\n                                    <input\r\n                                        id='teamURLInput'\r\n                                        type='text'\r\n                                        ref={this.teamURLInput}\r\n                                        className='form-control'\r\n                                        placeholder=''\r\n                                        maxLength={128}\r\n                                        value={this.state.teamURL}\r\n                                        autoFocus={true}\r\n                                        onFocus={this.handleFocus}\r\n                                        onChange={this.handleTeamURLInputChange}\r\n                                        spellCheck='false'\r\n                                        aria-describedby='teamURLInputError'\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {nameError}\r\n                    </div>\r\n                    <p>\r\n                        <FormattedMessage\r\n                            id='create_team.team_url.webAddress'\r\n                            defaultMessage='Choose the web address of your new team:'\r\n                        />\r\n                    </p>\r\n                    <ul className='color--light'>\r\n                        <li>\r\n                            <FormattedMessage\r\n                                id='create_team.team_url.hint1'\r\n                                defaultMessage='Short and memorable is best'\r\n                            />\r\n                        </li>\r\n                        <li>\r\n                            <FormattedMessage\r\n                                id='create_team.team_url.hint2'\r\n                                defaultMessage='Use lowercase letters, numbers and dashes'\r\n                            />\r\n                        </li>\r\n                        <li>\r\n                            <FormattedMessage\r\n                                id='create_team.team_url.hint3'\r\n                                defaultMessage=\"Must start with a letter and can't end in a dash\"\r\n                            />\r\n                        </li>\r\n                    </ul>\r\n                    <div className='mt-8'>\r\n                        <Button\r\n                            id='teamURLFinishButton'\r\n                            type='submit'\r\n                            bsStyle='primary'\r\n                            disabled={this.state.isLoading}\r\n                            onClick={(e: React.MouseEvent<Button, MouseEvent>) => this.submitNext(e)}\r\n                        >\r\n                            {finishMessage}\r\n                        </Button>\r\n                    </div>\r\n                    <div className='mt-8'>\r\n                        <a\r\n                            href='#'\r\n                            onClick={this.submitBack}\r\n                        >\r\n                            <FormattedMessage\r\n                                id='create_team.team_url.back'\r\n                                defaultMessage='Back to previous step'\r\n                            />\r\n                        </a>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport type {Dispatch} from 'redux';\r\n\r\nimport {checkIfTeamExists, createTeam} from 'mattermost-redux/actions/teams';\r\n\r\nimport TeamUrl from './team_url';\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch) {\r\n    return {\r\n        actions: bindActionCreators({\r\n            checkIfTeamExists,\r\n            createTeam,\r\n        }, dispatch),\r\n    };\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(TeamUrl);\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {FormattedMessage, injectIntl, type IntlShape} from 'react-intl';\r\nimport {Route, Switch, Redirect} from 'react-router-dom';\r\nimport type {RouteComponentProps} from 'react-router-dom';\r\n\r\nimport type {Channel} from '@mattermost/types/channels';\r\nimport type {CloudUsage} from '@mattermost/types/cloud';\r\nimport type {Team} from '@mattermost/types/teams';\r\n\r\nimport AnnouncementBar from 'components/announcement_bar';\r\nimport BackButton from 'components/common/back_button';\r\nimport SiteNameAndDescription from 'components/common/site_name_and_description';\r\nimport DisplayName from 'components/create_team/components/display_name';\r\nimport TeamUrl from 'components/create_team/components/team_url';\r\n\r\nexport type Props = {\r\n\r\n    /*\r\n   * Object containing information on the current team, used to define BackButton's url\r\n   */\r\n    currentTeam?: Team;\r\n\r\n    /*\r\n   * Object containing information on the current selected channel, used to define BackButton's url\r\n   */\r\n    currentChannel?: Channel;\r\n\r\n    /*\r\n    * String containing the custom branding's text\r\n    */\r\n    customDescriptionText?: string;\r\n\r\n    /*\r\n   * String containing the custom branding's Site Name\r\n   */\r\n    siteName?: string;\r\n\r\n    /*\r\n   * Object from react-router\r\n   */\r\n    match: {\r\n        url: string;\r\n    };\r\n\r\n    isCloud: boolean;\r\n    isFreeTrial: boolean;\r\n    usageDeltas: CloudUsage;\r\n    intl: IntlShape;\r\n};\r\n\r\ntype State = {\r\n    team?: Partial<Team>;\r\n    wizard: string;\r\n};\r\n\r\nexport class CreateTeam extends React.PureComponent<Props & RouteComponentProps, State> {\r\n    public constructor(props: Props & RouteComponentProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            team: {},\r\n            wizard: 'display_name',\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {formatMessage} = this.props.intl;\r\n        document.title = formatMessage({\r\n            id: 'create_team.pageTitle',\r\n            defaultMessage: 'Create a team - {siteName}',\r\n        }, {\r\n            siteName: this.props.siteName || 'Mattermost',\r\n        });\r\n    }\r\n\r\n    public updateParent = (state: State) => {\r\n        this.setState(state);\r\n        this.props.history.push('/create_team/' + state.wizard);\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            currentChannel,\r\n            currentTeam,\r\n            customDescriptionText,\r\n            match,\r\n            siteName,\r\n            isCloud,\r\n            isFreeTrial,\r\n            usageDeltas: {\r\n                teams: {\r\n                    active: usageDeltaTeams,\r\n                },\r\n            },\r\n        } = this.props;\r\n\r\n        const teamsLimitReached = usageDeltaTeams >= 0;\r\n        const createTeamRestricted = isCloud && !isFreeTrial && teamsLimitReached;\r\n\r\n        let url = '/select_team';\r\n        if (currentTeam) {\r\n            url = `/${currentTeam.name}`;\r\n            if (currentChannel) {\r\n                url += `/channels/${currentChannel.name}`;\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <AnnouncementBar/>\r\n                <BackButton url={url}/>\r\n                <div className='col-sm-12'>\r\n                    <div className='signup-team__container'>\r\n                        <SiteNameAndDescription\r\n                            customDescriptionText={customDescriptionText}\r\n                            siteName={siteName}\r\n                        />\r\n                        <div className='signup__content'>\r\n                            {createTeamRestricted ? (\r\n                                <>\r\n                                    <h5>\r\n                                        <FormattedMessage\r\n                                            id='create_team.createTeamRestricted.title'\r\n                                            tagName='strong'\r\n                                            defaultMessage='Professional feature'\r\n                                        />\r\n                                    </h5>\r\n                                    <div>\r\n                                        <FormattedMessage\r\n                                            id='create_team.createTeamRestricted.message'\r\n                                            defaultMessage='Your workspace plan has reached the limit on the number of teams. Create unlimited teams with a free 30-day trial. Contact your System Administrator.'\r\n                                        />\r\n                                    </div>\r\n                                </>\r\n                            ) : (\r\n                                <Switch>\r\n                                    <Route\r\n                                        path={`${this.props.match.url}/display_name`}\r\n                                        render={(props) => (\r\n                                            <DisplayName\r\n                                                state={this.state}\r\n                                                updateParent={this.updateParent}\r\n                                                {...props}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                    <Route\r\n                                        path={`${this.props.match.url}/team_url`}\r\n                                        render={(props) => (\r\n                                            <TeamUrl\r\n                                                state={this.state}\r\n                                                updateParent={this.updateParent}\r\n                                                {...props}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                    <Redirect to={`${match.url}/display_name`}/>\r\n                                </Switch>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default injectIntl(CreateTeam);\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport {getCurrentChannel} from 'mattermost-redux/selectors/entities/channels';\r\nimport {getCloudSubscription as selectCloudSubscription} from 'mattermost-redux/selectors/entities/cloud';\r\nimport {getConfig, getLicense} from 'mattermost-redux/selectors/entities/general';\r\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\r\n\r\nimport withUseGetUsageDelta from 'components/common/hocs/cloud/with_use_get_usage_deltas';\r\n\r\nimport {isCloudLicense} from 'utils/license_utils';\r\n\r\nimport type {GlobalState} from 'types/store';\r\n\r\nimport CreateTeam from './create_team';\r\n\r\nfunction mapStateToProps(state: GlobalState) {\r\n    const config = getConfig(state);\r\n    const currentChannel = getCurrentChannel(state);\r\n    const currentTeam = getCurrentTeam(state);\r\n\r\n    const customDescriptionText = config.CustomDescriptionText;\r\n    const siteName = config.SiteName;\r\n\r\n    const subscription = selectCloudSubscription(state);\r\n    const license = getLicense(state);\r\n\r\n    const isCloud = isCloudLicense(license);\r\n    const isFreeTrial = subscription?.is_free_trial === 'true';\r\n\r\n    return {\r\n        currentChannel,\r\n        currentTeam,\r\n        customDescriptionText,\r\n        siteName,\r\n        isCloud,\r\n        isFreeTrial,\r\n    };\r\n}\r\n\r\nexport default withUseGetUsageDelta(connect(mapStateToProps)(CreateTeam));\r\n"],"names":["BackButton","_ref","url","className","onClick","formatMessage","useIntl","React","classNames","Link","to","id","title","defaultMessage","FormattedMessage","propTypes","_pt","WrappedComponent","props","usageDeltas","useGetUsageDeltas","Object","assign","withBackupValue","maybeLimit","limitsLoaded","Number","MAX_VALUE","usage","useGetUsage","limits","useGetLimits","useMemo","_limits$files","_limits$messages","_limits$teams","files","totalStorage","total_storage","totalStorageLoaded","messages","history","historyLoaded","teams","active","cloudArchived","teamsLoaded","SiteNameAndDescription","customDescriptionText","siteName","description","TeamSignupDisplayNamePage","constructor","_this$props$state$tea","super","_defineProperty","this","state","teamDisplayName","length","Constants","MIN_TEAMNAME_LENGTH","MAX_TEAMNAME_LENGTH","e","isValidTeamName","preventDefault","displayName","trim","newState","wizard","team","display_name","name","cleanUpUrlable","updateParent","setState","target","value","render","alt","src","logoImage","htmlFor","tagName","Input","type","autoFocus","onChange","handleDisplayNameChange","required","maxLength","minLength","spellCheck","submitNext","disabled","isRequired","TeamUrl","_props$state$team","async","teamURL","cleanedName","URL","actions","checkIfTeamExists","createTeam","_this$teamURLInput$cu","_this$teamURLInput$cu2","_this$teamURLInput$cu3","nameError","teamURLInput","current","focus","values","min","max","test","index","RESERVED_TEAM_NAMES","indexOf","link","msg","ExternalLink","href","location","isLoading","teamSignup","JSON","parse","stringify","data","createTeamData","error","push","DEFAULT_CHANNEL","message","currentTarget","select","nameDivClass","role","concat","finishMessage","WithTooltip","ref","placeholder","onFocus","handleFocus","handleTeamURLInputChange","Button","bsStyle","submitBack","connect","dispatch","bindActionCreators","CreateTeam","componentDidMount","intl","document","currentChannel","currentTeam","match","isCloud","isFreeTrial","usageDeltaTeams","createTeamRestricted","AnnouncementBar","Switch","Route","path","DisplayName","Redirect","injectIntl","withUseGetUsageDelta","config","getConfig","getCurrentChannel","getCurrentTeam","CustomDescriptionText","SiteName","subscription","selectCloudSubscription","license","getLicense","isCloudLicense","is_free_trial"],"sourceRoot":""}