{"version":3,"file":"8508.06127b8a423843a887c5.js","mappings":"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","sources":["webpack://mattermost-webapp/./src/components/widgets/inputs/check/index.tsx","webpack://mattermost-webapp/./src/components/signup/signup.tsx","webpack://mattermost-webapp/./src/utils/password.tsx"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport type {ReactNode} from 'react';\r\nimport './check.scss';\r\n\r\ntype Props = {\r\n    id: string;\r\n    ariaLabel: string;\r\n    name: string;\r\n    text: ReactNode;\r\n    onChange: () => void;\r\n    checked: boolean;\r\n}\r\n\r\nfunction CheckInput(props: Props) {\r\n    const {id, ariaLabel, text, ...rest} = props;\r\n\r\n    return (\r\n        <div className='check-input'>\r\n            <input\r\n                {...rest}\r\n                id={id}\r\n                aria-label={ariaLabel}\r\n                data-testid={id}\r\n                type='checkbox'\r\n            />\r\n            <label\r\n                className='text'\r\n                htmlFor={id}\r\n            >\r\n                <span>{text}</span>\r\n            </label>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CheckInput;\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport classNames from 'classnames';\r\nimport throttle from 'lodash/throttle';\r\nimport React, {useState, useEffect, useRef, useCallback} from 'react';\r\nimport {FormattedMessage, useIntl} from 'react-intl';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {useLocation, useHistory, Route} from 'react-router-dom';\r\n\r\nimport type {ServerError} from '@mattermost/types/errors';\r\nimport type {UserProfile} from '@mattermost/types/users';\r\n\r\nimport {getTeamInviteInfo} from 'mattermost-redux/actions/teams';\r\nimport {createUser, loadMe} from 'mattermost-redux/actions/users';\r\nimport {Client4} from 'mattermost-redux/client';\r\nimport {getConfig, getLicense, getPasswordConfig} from 'mattermost-redux/selectors/entities/general';\r\nimport {getIsOnboardingFlowEnabled} from 'mattermost-redux/selectors/entities/preferences';\r\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\r\nimport {isEmail} from 'mattermost-redux/utils/helpers';\r\n\r\nimport {redirectUserToDefaultTeam} from 'actions/global_actions';\r\nimport {removeGlobalItem, setGlobalItem} from 'actions/storage';\r\nimport {addUserToTeamFromInvite} from 'actions/team_actions';\r\nimport {loginById} from 'actions/views/login';\r\nimport {getGlobalItem} from 'selectors/storage';\r\n\r\nimport AlertBanner from 'components/alert_banner';\r\nimport type {ModeType, AlertBannerProps} from 'components/alert_banner';\r\nimport useCWSAvailabilityCheck, {CSWAvailabilityCheckTypes} from 'components/common/hooks/useCWSAvailabilityCheck';\r\nimport DesktopAuthToken from 'components/desktop_auth_token';\r\nimport ExternalLink from 'components/external_link';\r\nimport ExternalLoginButton from 'components/external_login_button/external_login_button';\r\nimport type {ExternalLoginButtonType} from 'components/external_login_button/external_login_button';\r\nimport AlternateLinkLayout from 'components/header_footer_route/content_layouts/alternate_link';\r\nimport ColumnLayout from 'components/header_footer_route/content_layouts/column';\r\nimport type {CustomizeHeaderType} from 'components/header_footer_route/header_footer_route';\r\nimport LoadingScreen from 'components/loading_screen';\r\nimport Markdown from 'components/markdown';\r\nimport SaveButton from 'components/save_button';\r\nimport EntraIdIcon from 'components/widgets/icons/entra_id_icon';\r\nimport LockIcon from 'components/widgets/icons/lock_icon';\r\nimport LoginGitlabIcon from 'components/widgets/icons/login_gitlab_icon';\r\nimport LoginGoogleIcon from 'components/widgets/icons/login_google_icon';\r\nimport LoginOpenIDIcon from 'components/widgets/icons/login_openid_icon';\r\nimport CheckInput from 'components/widgets/inputs/check';\r\nimport Input, {SIZE} from 'components/widgets/inputs/input/input';\r\nimport type {CustomMessageInputType} from 'components/widgets/inputs/input/input';\r\nimport PasswordInput from 'components/widgets/inputs/password_input/password_input';\r\n\r\nimport {Constants, HostedCustomerLinks, ItemStatus, ValidationErrors} from 'utils/constants';\r\nimport {isValidPassword} from 'utils/password';\r\nimport {isDesktopApp} from 'utils/user_agent';\r\nimport {isValidUsername} from 'utils/utils';\r\n\r\nimport type {GlobalState} from 'types/store';\r\n\r\nimport './signup.scss';\r\n\r\nconst MOBILE_SCREEN_WIDTH = 1200;\r\n\r\ntype SignupProps = {\r\n    onCustomizeHeader?: CustomizeHeaderType;\r\n}\r\n\r\nconst Signup = ({onCustomizeHeader}: SignupProps) => {\r\n    const intl = useIntl();\r\n    const {formatMessage} = intl;\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const {search} = useLocation();\r\n\r\n    const params = new URLSearchParams(search);\r\n    const token = params.get('t') ?? '';\r\n    const inviteId = params.get('id') ?? '';\r\n    const data = params.get('d');\r\n    const parsedData: Record<string, string> = data ? JSON.parse(data) : {};\r\n    const {email: parsedEmail, name: parsedTeamName} = parsedData;\r\n\r\n    const config = useSelector(getConfig);\r\n    const {\r\n        EnableOpenServer,\r\n        EnableUserCreation,\r\n        NoAccounts,\r\n        EnableSignUpWithEmail,\r\n        EnableSignUpWithGitLab,\r\n        EnableSignUpWithGoogle,\r\n        EnableSignUpWithOffice365,\r\n        EnableSignUpWithOpenId,\r\n        EnableLdap,\r\n        EnableSaml,\r\n        SamlLoginButtonText,\r\n        LdapLoginFieldName,\r\n        SiteName,\r\n        CustomDescriptionText,\r\n        GitLabButtonText,\r\n        GitLabButtonColor,\r\n        OpenIdButtonText,\r\n        OpenIdButtonColor,\r\n        EnableCustomBrand,\r\n        CustomBrandText,\r\n        TermsOfServiceLink,\r\n        PrivacyPolicyLink,\r\n    } = config;\r\n    const {IsLicensed} = useSelector(getLicense);\r\n    const loggedIn = Boolean(useSelector(getCurrentUserId));\r\n    const onboardingFlowEnabled = useSelector(getIsOnboardingFlowEnabled);\r\n    const usedBefore = useSelector((state: GlobalState) => (!inviteId && !loggedIn && token ? getGlobalItem(state, token, null) : undefined));\r\n\r\n    const emailInput = useRef<HTMLInputElement>(null);\r\n    const nameInput = useRef<HTMLInputElement>(null);\r\n    const passwordInput = useRef<HTMLInputElement>(null);\r\n\r\n    const isLicensed = IsLicensed === 'true';\r\n    const enableOpenServer = EnableOpenServer === 'true';\r\n    const enableUserCreation = EnableUserCreation === 'true';\r\n    const noAccounts = NoAccounts === 'true';\r\n    const enableSignUpWithEmail = enableUserCreation && EnableSignUpWithEmail === 'true';\r\n    const enableSignUpWithGitLab = enableUserCreation && EnableSignUpWithGitLab === 'true';\r\n    const enableSignUpWithGoogle = enableUserCreation && EnableSignUpWithGoogle === 'true';\r\n    const enableSignUpWithOffice365 = enableUserCreation && EnableSignUpWithOffice365 === 'true';\r\n    const enableSignUpWithOpenId = enableUserCreation && EnableSignUpWithOpenId === 'true';\r\n    const enableLDAP = EnableLdap === 'true';\r\n    const enableSAML = EnableSaml === 'true';\r\n    const enableCustomBrand = EnableCustomBrand === 'true';\r\n\r\n    const noOpenServer = !inviteId && !token && !enableOpenServer && !noAccounts && !enableUserCreation;\r\n\r\n    const [email, setEmail] = useState(parsedEmail ?? '');\r\n    const [name, setName] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [loading, setLoading] = useState(Boolean(inviteId));\r\n    const [isWaiting, setIsWaiting] = useState(false);\r\n    const [emailError, setEmailError] = useState('');\r\n    const [nameError, setNameError] = useState('');\r\n    const [passwordError, setPasswordError] = useState('');\r\n    const [brandImageError, setBrandImageError] = useState(false);\r\n    const [serverError, setServerError] = useState('');\r\n    const [teamName, setTeamName] = useState(parsedTeamName ?? '');\r\n    const [alertBanner, setAlertBanner] = useState<AlertBannerProps | null>(null);\r\n    const [isMobileView, setIsMobileView] = useState(false);\r\n    const [subscribeToSecurityNewsletter, setSubscribeToSecurityNewsletter] = useState(false);\r\n    const [submitClicked, setSubmitClicked] = useState(false);\r\n\r\n    const cwsAvailability = useCWSAvailabilityCheck();\r\n\r\n    const enableExternalSignup = enableSignUpWithGitLab || enableSignUpWithOffice365 || enableSignUpWithGoogle || enableSignUpWithOpenId || enableLDAP || enableSAML;\r\n    const hasError = Boolean(emailError || nameError || passwordError || serverError || alertBanner);\r\n    const canSubmit = Boolean(email && name && password) && !hasError && !loading;\r\n    const passwordConfig = useSelector(getPasswordConfig);\r\n    const {error: passwordInfo} = isValidPassword('', passwordConfig, intl);\r\n\r\n    const [desktopLoginLink, setDesktopLoginLink] = useState('');\r\n\r\n    const subscribeToSecurityNewsletterFunc = () => {\r\n        try {\r\n            Client4.subscribeToNewsletter({email, subscribed_content: 'security_newsletter'});\r\n        } catch (error) {\r\n            // eslint-disable-next-line no-console\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    const getExternalSignupOptions = () => {\r\n        const externalLoginOptions: ExternalLoginButtonType[] = [];\r\n\r\n        if (!enableExternalSignup) {\r\n            return externalLoginOptions;\r\n        }\r\n\r\n        if (enableSignUpWithGitLab) {\r\n            const url = `${Client4.getOAuthRoute()}/gitlab/signup${search}`;\r\n            externalLoginOptions.push({\r\n                id: 'gitlab',\r\n                url,\r\n                icon: <LoginGitlabIcon/>,\r\n                label: GitLabButtonText || formatMessage({id: 'login.gitlab', defaultMessage: 'GitLab'}),\r\n                style: {color: GitLabButtonColor, borderColor: GitLabButtonColor},\r\n                onClick: desktopExternalAuth(url),\r\n            });\r\n        }\r\n\r\n        if (isLicensed && enableSignUpWithGoogle) {\r\n            const url = `${Client4.getOAuthRoute()}/google/signup${search}`;\r\n            externalLoginOptions.push({\r\n                id: 'google',\r\n                url,\r\n                icon: <LoginGoogleIcon/>,\r\n                label: formatMessage({id: 'login.google', defaultMessage: 'Google'}),\r\n                onClick: desktopExternalAuth(url),\r\n            });\r\n        }\r\n\r\n        if (isLicensed && enableSignUpWithOffice365) {\r\n            const url = `${Client4.getOAuthRoute()}/office365/signup${search}`;\r\n            externalLoginOptions.push({\r\n                id: 'office365',\r\n                url,\r\n                icon: <EntraIdIcon/>,\r\n                label: formatMessage({id: 'login.office365', defaultMessage: 'Entra ID'}),\r\n                onClick: desktopExternalAuth(url),\r\n            });\r\n        }\r\n\r\n        if (isLicensed && enableSignUpWithOpenId) {\r\n            const url = `${Client4.getOAuthRoute()}/openid/signup${search}`;\r\n            externalLoginOptions.push({\r\n                id: 'openid',\r\n                url,\r\n                icon: <LoginOpenIDIcon/>,\r\n                label: OpenIdButtonText || formatMessage({id: 'login.openid', defaultMessage: 'Open ID'}),\r\n                style: {color: OpenIdButtonColor, borderColor: OpenIdButtonColor},\r\n                onClick: desktopExternalAuth(url),\r\n            });\r\n        }\r\n\r\n        if (isLicensed && enableLDAP) {\r\n            const newSearchParam = new URLSearchParams(search);\r\n            newSearchParam.set('extra', Constants.CREATE_LDAP);\r\n\r\n            externalLoginOptions.push({\r\n                id: 'ldap',\r\n                url: `${Client4.getUrl()}/login?${newSearchParam.toString()}`,\r\n                icon: <LockIcon/>,\r\n                label: LdapLoginFieldName || formatMessage({id: 'signup.ldap', defaultMessage: 'AD/LDAP Credentials'}),\r\n                onClick: () => {},\r\n            });\r\n        }\r\n\r\n        if (isLicensed && enableSAML) {\r\n            const newSearchParam = new URLSearchParams(search);\r\n            newSearchParam.set('action', 'signup');\r\n\r\n            const url = `${Client4.getUrl()}/login/sso/saml?${newSearchParam.toString()}`;\r\n            externalLoginOptions.push({\r\n                id: 'saml',\r\n                url,\r\n                icon: <LockIcon/>,\r\n                label: SamlLoginButtonText || formatMessage({id: 'login.saml', defaultMessage: 'SAML'}),\r\n                onClick: desktopExternalAuth(url),\r\n            });\r\n        }\r\n\r\n        return externalLoginOptions;\r\n    };\r\n\r\n    const handleHeaderBackButtonOnClick = useCallback(() => {\r\n        history.goBack();\r\n    }, [history]);\r\n\r\n    const handleInvalidInvite = ({\r\n        // eslint-disable-next-line @typescript-eslint/naming-convention\r\n        server_error_id,\r\n        message,\r\n    }: {server_error_id: string; message: string}) => {\r\n        let errorMessage;\r\n\r\n        if (server_error_id === 'store.sql_user.save.max_accounts.app_error' ||\r\n            server_error_id === 'api.team.add_user_to_team_from_invite.guest.app_error') {\r\n            errorMessage = message;\r\n        }\r\n\r\n        setServerError(errorMessage || formatMessage({id: 'signup_user_completed.invalid_invite.title', defaultMessage: 'This invite link is invalid'}));\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleAddUserToTeamFromInvite = async (token: string, inviteId: string) => {\r\n        const {data: team, error} = await dispatch(addUserToTeamFromInvite(token, inviteId));\r\n\r\n        if (team) {\r\n            history.push('/' + team.name + `/channels/${Constants.DEFAULT_CHANNEL}`);\r\n        } else if (error) {\r\n            handleInvalidInvite(error);\r\n        }\r\n    };\r\n\r\n    const getInviteInfo = async (inviteId: string) => {\r\n        const {data, error} = await dispatch(getTeamInviteInfo(inviteId));\r\n\r\n        if (data) {\r\n            setServerError('');\r\n            setTeamName(data.name);\r\n        } else if (error) {\r\n            handleInvalidInvite(error);\r\n        }\r\n\r\n        setLoading(false);\r\n    };\r\n\r\n    const getAlternateLink = useCallback(() => (\r\n        <AlternateLinkLayout\r\n            className='signup-body-alternate-link'\r\n            alternateMessage={formatMessage({\r\n                id: 'signup_user_completed.haveAccount',\r\n                defaultMessage: 'Already have an account?',\r\n            })}\r\n            alternateLinkPath='/login'\r\n            alternateLinkLabel={formatMessage({\r\n                id: 'signup_user_completed.signIn',\r\n                defaultMessage: 'Log in',\r\n            })}\r\n        />\r\n    ), []);\r\n\r\n    const onWindowResize = throttle(() => {\r\n        setIsMobileView(window.innerWidth < MOBILE_SCREEN_WIDTH);\r\n    }, 100);\r\n\r\n    const desktopExternalAuth = (href: string) => {\r\n        return (event: React.MouseEvent) => {\r\n            if (isDesktopApp()) {\r\n                event.preventDefault();\r\n\r\n                setDesktopLoginLink(href);\r\n                history.push(`/signup_user_complete/desktop${search}`);\r\n            }\r\n        };\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(removeGlobalItem('team'));\r\n\r\n        onWindowResize();\r\n\r\n        window.addEventListener('resize', onWindowResize);\r\n\r\n        if (search) {\r\n            if ((inviteId || token) && loggedIn) {\r\n                handleAddUserToTeamFromInvite(token, inviteId);\r\n            } else if (inviteId) {\r\n                getInviteInfo(inviteId);\r\n            } else if (loggedIn) {\r\n                if (onboardingFlowEnabled) {\r\n                    // need info about whether admin or not,\r\n                    // and whether admin has already completed\r\n                    // first tiem onboarding. Instead of fetching and orchestrating that here,\r\n                    // let the default root component handle it.\r\n                    history.push('/');\r\n                } else {\r\n                    redirectUserToDefaultTeam();\r\n                }\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', onWindowResize);\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        document.title = formatMessage(\r\n            {\r\n                id: 'signup.title',\r\n                defaultMessage: 'Create Account | {siteName}',\r\n            },\r\n            {siteName: SiteName || 'Mattermost'},\r\n        );\r\n    }, [formatMessage, SiteName]);\r\n\r\n    useEffect(() => {\r\n        if (onCustomizeHeader) {\r\n            onCustomizeHeader({\r\n                onBackButtonClick: handleHeaderBackButtonOnClick,\r\n                alternateLink: isMobileView ? getAlternateLink() : undefined,\r\n            });\r\n        }\r\n    }, [onCustomizeHeader, handleHeaderBackButtonOnClick, isMobileView, getAlternateLink, search]);\r\n\r\n    useEffect(() => {\r\n        if (submitClicked) {\r\n            if (emailError && emailInput.current) {\r\n                emailInput.current.focus();\r\n            } else if (nameError && nameInput.current) {\r\n                nameInput.current.focus();\r\n            } else if (passwordError && passwordInput.current) {\r\n                passwordInput.current.focus();\r\n            }\r\n            setSubmitClicked(false);\r\n        }\r\n    }, [emailError, nameError, passwordError, submitClicked]);\r\n\r\n    if (loading) {\r\n        return (<LoadingScreen/>);\r\n    }\r\n\r\n    const handleBrandImageError = () => {\r\n        setBrandImageError(true);\r\n    };\r\n\r\n    const getCardTitle = () => {\r\n        if (CustomDescriptionText) {\r\n            return CustomDescriptionText;\r\n        }\r\n\r\n        if (!enableSignUpWithEmail && enableExternalSignup) {\r\n            return formatMessage({id: 'signup_user_completed.cardtitle.external', defaultMessage: 'Create your account with one of the following:'});\r\n        }\r\n\r\n        return formatMessage({id: 'signup_user_completed.cardtitle', defaultMessage: 'Create your account'});\r\n    };\r\n\r\n    const getMessageSubtitle = () => {\r\n        if (enableCustomBrand) {\r\n            return CustomBrandText ? (\r\n                <div className='signup-body-custom-branding-markdown'>\r\n                    <Markdown\r\n                        message={CustomBrandText}\r\n                        options={{mentionHighlight: false}}\r\n                    />\r\n                </div>\r\n            ) : null;\r\n        }\r\n\r\n        return (\r\n            <p className='signup-body-message-subtitle'>\r\n                {formatMessage({\r\n                    id: 'signup_user_completed.subtitle',\r\n                    defaultMessage: 'Create your Mattermost account to start collaborating with your team',\r\n                })}\r\n            </p>\r\n        );\r\n    };\r\n\r\n    const handleEmailOnChange = ({target: {value: email}}: React.ChangeEvent<HTMLInputElement>) => {\r\n        setEmail(email);\r\n        dismissAlert();\r\n\r\n        if (emailError) {\r\n            setEmailError('');\r\n        }\r\n    };\r\n\r\n    const handleNameOnChange = ({target: {value: name}}: React.ChangeEvent<HTMLInputElement>) => {\r\n        setName(name);\r\n        dismissAlert();\r\n\r\n        if (nameError) {\r\n            setNameError('');\r\n        }\r\n    };\r\n\r\n    const handlePasswordInputOnChange = ({target: {value: password}}: React.ChangeEvent<HTMLInputElement>) => {\r\n        setPassword(password);\r\n        dismissAlert();\r\n\r\n        if (passwordError) {\r\n            setPasswordError('');\r\n        }\r\n    };\r\n\r\n    const handleSignupSuccess = async (user: UserProfile, data: UserProfile) => {\r\n        const redirectTo = (new URLSearchParams(search)).get('redirect_to');\r\n\r\n        const {error} = await dispatch(loginById(data.id, user.password));\r\n\r\n        if (error) {\r\n            if (error.server_error_id === 'api.user.login.not_verified.app_error') {\r\n                let verifyUrl = '/should_verify_email?email=' + encodeURIComponent(user.email);\r\n\r\n                if (teamName) {\r\n                    verifyUrl += '&teamname=' + encodeURIComponent(teamName);\r\n                }\r\n\r\n                if (redirectTo) {\r\n                    verifyUrl += '&redirect_to=' + redirectTo;\r\n                }\r\n\r\n                history.push(verifyUrl);\r\n            } else {\r\n                setServerError(error.message);\r\n                setIsWaiting(false);\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        await postSignupSuccess();\r\n    };\r\n\r\n    const postSignupSuccess = async () => {\r\n        const redirectTo = (new URLSearchParams(search)).get('redirect_to');\r\n\r\n        await dispatch(loadMe());\r\n\r\n        if (token) {\r\n            setGlobalItem(token, JSON.stringify({usedBefore: true}));\r\n        }\r\n\r\n        if (redirectTo) {\r\n            history.push(redirectTo);\r\n        } else if (onboardingFlowEnabled) {\r\n            // need info about whether admin or not,\r\n            // and whether admin has already completed\r\n            // first tiem onboarding. Instead of fetching and orchestrating that here,\r\n            // let the default root component handle it.\r\n            history.push('/');\r\n        } else {\r\n            redirectUserToDefaultTeam();\r\n        }\r\n    };\r\n\r\n    const isUserValid = () => {\r\n        let isValid = true;\r\n\r\n        const providedEmail = emailInput.current?.value.trim();\r\n\r\n        if (!providedEmail) {\r\n            setEmailError(formatMessage({id: 'signup_user_completed.required', defaultMessage: 'This field is required'}));\r\n            isValid = false;\r\n        } else if (!isEmail(providedEmail)) {\r\n            setEmailError(formatMessage({id: 'signup_user_completed.validEmail', defaultMessage: 'Please enter a valid email address'}));\r\n            isValid = false;\r\n        }\r\n\r\n        const providedUsername = nameInput.current?.value.trim().toLowerCase();\r\n\r\n        if (providedUsername) {\r\n            const usernameError = isValidUsername(providedUsername);\r\n\r\n            if (usernameError) {\r\n                let nameError = '';\r\n                if (usernameError.id === ValidationErrors.RESERVED_NAME) {\r\n                    nameError = formatMessage({id: 'signup_user_completed.reserved', defaultMessage: 'This username is reserved, please choose a new one.'});\r\n                } else {\r\n                    nameError = formatMessage(\r\n                        {\r\n                            id: 'signup_user_completed.usernameLength',\r\n                            defaultMessage: 'Usernames have to begin with a lowercase letter and be {min}-{max} characters long. You can use lowercase letters, numbers, periods, dashes, and underscores.',\r\n                        },\r\n                        {\r\n                            min: Constants.MIN_USERNAME_LENGTH,\r\n                            max: Constants.MAX_USERNAME_LENGTH,\r\n                        },\r\n                    );\r\n                }\r\n                setNameError(nameError);\r\n                isValid = false;\r\n            }\r\n        } else {\r\n            setNameError(formatMessage({id: 'signup_user_completed.required', defaultMessage: 'This field is required'}));\r\n            isValid = false;\r\n        }\r\n\r\n        const providedPassword = passwordInput.current?.value ?? '';\r\n        const {error} = isValidPassword(providedPassword, passwordConfig, intl);\r\n\r\n        if (error) {\r\n            setPasswordError(error as string);\r\n            isValid = false;\r\n        }\r\n\r\n        return isValid;\r\n    };\r\n\r\n    const dismissAlert = () => {\r\n        setAlertBanner(null);\r\n    };\r\n\r\n    const handleSubmit = async (e: React.MouseEvent | React.KeyboardEvent) => {\r\n        e.preventDefault();\r\n        setIsWaiting(true);\r\n        setSubmitClicked(true);\r\n\r\n        if (isUserValid()) {\r\n            setNameError('');\r\n            setEmailError('');\r\n            setPasswordError('');\r\n            setServerError('');\r\n            setIsWaiting(true);\r\n\r\n            const user = {\r\n                email: emailInput.current?.value.trim(),\r\n                username: nameInput.current?.value.trim().toLowerCase(),\r\n                password: passwordInput.current?.value,\r\n            } as UserProfile;\r\n\r\n            const redirectTo = (new URLSearchParams(search)).get('redirect_to') as string;\r\n\r\n            const {data, error} = await dispatch(createUser(user, token, inviteId, redirectTo));\r\n\r\n            if (error) {\r\n                setAlertBanner({\r\n                    mode: 'danger' as ModeType,\r\n                    title: (error as ServerError).message,\r\n                    onDismiss: dismissAlert,\r\n                });\r\n                setIsWaiting(false);\r\n\r\n                // Special case for accessibility to show the error message when the username is already taken\r\n                if (error.server_error_id === 'app.user.save.username_exists.app_error') {\r\n                    setNameError(error.message);\r\n                    setSubmitClicked(true);\r\n                }\r\n                return;\r\n            }\r\n\r\n            await handleSignupSuccess(user, data!);\r\n            if (subscribeToSecurityNewsletter) {\r\n                subscribeToSecurityNewsletterFunc();\r\n            }\r\n        } else {\r\n            setIsWaiting(false);\r\n        }\r\n    };\r\n\r\n    const handleReturnButtonOnClick = () => history.replace('/');\r\n\r\n    const getNewsletterCheck = () => {\r\n        if (cwsAvailability === CSWAvailabilityCheckTypes.Available) {\r\n            return (\r\n                <CheckInput\r\n                    id='signup-body-card-form-check-newsletter'\r\n                    ariaLabel={formatMessage({id: 'newsletter_optin.checkmark.box', defaultMessage: 'newsletter checkbox'})}\r\n                    name='newsletter'\r\n                    onChange={() => setSubscribeToSecurityNewsletter(!subscribeToSecurityNewsletter)}\r\n                    text={\r\n                        formatMessage(\r\n                            {id: 'newsletter_optin.checkmark.text', defaultMessage: '<span>I would like to receive Mattermost security updates via newsletter.</span> By subscribing, I consent to receive emails from Mattermost with product updates, promotions, and company news. I have read the <a>Privacy Policy</a> and understand that I can <aa>unsubscribe</aa> at any time'},\r\n                            {\r\n                                a: (chunks: React.ReactNode | React.ReactNodeArray) => (\r\n                                    <ExternalLink\r\n                                        location='signup-newsletter-checkmark'\r\n                                        href={HostedCustomerLinks.PRIVACY}\r\n                                    >\r\n                                        {chunks}\r\n                                    </ExternalLink>\r\n                                ),\r\n                                aa: (chunks: React.ReactNode | React.ReactNodeArray) => (\r\n                                    <ExternalLink\r\n                                        location='signup-newsletter-checkmark'\r\n                                        href={HostedCustomerLinks.NEWSLETTER_UNSUBSCRIBE_LINK}\r\n                                    >\r\n                                        {chunks}\r\n                                    </ExternalLink>\r\n                                ),\r\n                                span: (chunks: React.ReactNode | React.ReactNodeArray) => (\r\n                                    <span className='header'>{chunks}</span>\r\n                                ),\r\n                            },\r\n                        )}\r\n                    checked={subscribeToSecurityNewsletter}\r\n                />\r\n            );\r\n        }\r\n        return (\r\n            <div className='newsletter'>\r\n                <span className='interested'>\r\n                    {formatMessage({id: 'newsletter_optin.title', defaultMessage: 'Interested in receiving Mattermost security, product, promotions, and company updates updates via newsletter?'})}\r\n                </span>\r\n                <span className='link'>\r\n                    {formatMessage(\r\n                        {id: 'newsletter_optin.desc', defaultMessage: 'Sign up at <a>{link}</a>.'},\r\n                        {\r\n                            link: HostedCustomerLinks.SECURITY_UPDATES,\r\n                            a: (chunks: React.ReactNode | React.ReactNodeArray) => (\r\n                                <ExternalLink\r\n                                    location='signup'\r\n                                    href={HostedCustomerLinks.SECURITY_UPDATES}\r\n                                >\r\n                                    {chunks}\r\n                                </ExternalLink>\r\n                            ),\r\n                        },\r\n                    )}\r\n                </span>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const getContent = () => {\r\n        if (!enableSignUpWithEmail && !enableExternalSignup) {\r\n            return (\r\n                <ColumnLayout\r\n                    title={formatMessage({id: 'login.noMethods.title', defaultMessage: 'This server doesn’t have any sign-in methods enabled'})}\r\n                    message={formatMessage({id: 'login.noMethods.subtitle', defaultMessage: 'Please contact your System Administrator to resolve this.'})}\r\n                />\r\n            );\r\n        }\r\n\r\n        if (!isWaiting && (noOpenServer || serverError || usedBefore)) {\r\n            const titleColumn = noOpenServer ? (\r\n                formatMessage({id: 'signup_user_completed.no_open_server.title', defaultMessage: 'This server doesn’t allow open signups'})\r\n            ) : (\r\n                serverError ||\r\n                formatMessage({id: 'signup_user_completed.invalid_invite.title', defaultMessage: 'This invite link is invalid'})\r\n            );\r\n\r\n            return (\r\n                <ColumnLayout\r\n                    title={titleColumn}\r\n                    message={formatMessage({id: 'signup_user_completed.invalid_invite.message', defaultMessage: 'Please speak with your Administrator to receive an invitation.'})}\r\n                    extraContent={(\r\n                        <div className='signup-body-content-button-container'>\r\n                            <button\r\n                                className='signup-body-content-button-return'\r\n                                onClick={handleReturnButtonOnClick}\r\n                            >\r\n                                {formatMessage({id: 'signup_user_completed.return', defaultMessage: 'Return to log in'})}\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                />\r\n            );\r\n        }\r\n\r\n        if (desktopLoginLink) {\r\n            return (\r\n                <Route\r\n                    path={'/signup_user_complete/desktop'}\r\n                    render={() => (\r\n                        <DesktopAuthToken\r\n                            href={desktopLoginLink}\r\n                            onLogin={postSignupSuccess}\r\n                        />\r\n                    )}\r\n                />\r\n            );\r\n        }\r\n\r\n        let emailCustomLabelForInput: CustomMessageInputType = parsedEmail ? {\r\n            type: ItemStatus.INFO,\r\n            value: formatMessage(\r\n                {\r\n                    id: 'signup_user_completed.emailIs',\r\n                    defaultMessage: \"You'll use this address to sign in to {siteName}.\",\r\n                },\r\n                {siteName: SiteName},\r\n            ),\r\n        } : null;\r\n\r\n        // error will have preference over info message\r\n        if (emailError) {\r\n            emailCustomLabelForInput = {type: ItemStatus.ERROR, value: emailError};\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div\r\n                    className={classNames(\r\n                        'signup-body-message',\r\n                        {\r\n                            'custom-branding': enableCustomBrand,\r\n                            'with-brand-image': enableCustomBrand && !brandImageError,\r\n                            'with-alternate-link': !isMobileView,\r\n                        },\r\n                    )}\r\n                >\r\n                    {enableCustomBrand && !brandImageError ? (\r\n                        <img\r\n                            className={classNames('signup-body-custom-branding-image')}\r\n                            alt='brand image'\r\n                            src={Client4.getBrandImageUrl('0')}\r\n                            onError={handleBrandImageError}\r\n                        />\r\n                    ) : (\r\n                        <h1 className='signup-body-message-title'>\r\n                            {formatMessage({id: 'signup_user_completed.title', defaultMessage: 'Let’s get started'})}\r\n                        </h1>\r\n                    )}\r\n                    {getMessageSubtitle()}\r\n                </div>\r\n                <div className='signup-body-action'>\r\n                    {!isMobileView && getAlternateLink()}\r\n                    <div className={classNames('signup-body-card', {'custom-branding': enableCustomBrand, 'with-error': hasError})}>\r\n                        <div\r\n                            className='signup-body-card-content'\r\n                        >\r\n                            <h2 className='signup-body-card-title'>\r\n                                {getCardTitle()}\r\n                            </h2>\r\n                            {enableCustomBrand && getMessageSubtitle()}\r\n                            {alertBanner && (\r\n                                <AlertBanner\r\n                                    className='login-body-card-banner'\r\n                                    mode={alertBanner.mode}\r\n                                    title={alertBanner.title}\r\n                                    onDismiss={alertBanner.onDismiss}\r\n                                />\r\n                            )}\r\n                            {enableSignUpWithEmail && (\r\n                                <form className='signup-body-card-form'>\r\n                                    <Input\r\n                                        data-testid='signup-body-card-form-email-input'\r\n                                        ref={emailInput}\r\n                                        name='email'\r\n                                        className='signup-body-card-form-email-input'\r\n                                        type='text'\r\n                                        inputSize={SIZE.LARGE}\r\n                                        value={email}\r\n                                        onChange={handleEmailOnChange}\r\n                                        placeholder={formatMessage({\r\n                                            id: 'signup_user_completed.emailLabel',\r\n                                            defaultMessage: 'Email address',\r\n                                        })}\r\n                                        disabled={isWaiting || Boolean(parsedEmail)}\r\n                                        autoFocus={true}\r\n                                        customMessage={emailCustomLabelForInput}\r\n                                    />\r\n                                    <Input\r\n                                        data-testid='signup-body-card-form-name-input'\r\n                                        ref={nameInput}\r\n                                        name='name'\r\n                                        className='signup-body-card-form-name-input'\r\n                                        type='text'\r\n                                        inputSize={SIZE.LARGE}\r\n                                        value={name}\r\n                                        onChange={handleNameOnChange}\r\n                                        placeholder={formatMessage({\r\n                                            id: 'signup_user_completed.chooseUser',\r\n                                            defaultMessage: 'Choose a Username',\r\n                                        })}\r\n                                        disabled={isWaiting}\r\n                                        autoFocus={Boolean(parsedEmail)}\r\n                                        customMessage={\r\n                                            nameError ? {type: ItemStatus.ERROR, value: nameError} : {\r\n                                                type: ItemStatus.INFO,\r\n                                                value: formatMessage({id: 'signup_user_completed.userHelp', defaultMessage: 'You can use lowercase letters, numbers, periods, dashes, and underscores.'}),\r\n                                            }\r\n                                        }\r\n                                    />\r\n                                    <PasswordInput\r\n                                        data-testid='signup-body-card-form-password-input'\r\n                                        ref={passwordInput}\r\n                                        className='signup-body-card-form-password-input'\r\n                                        value={password}\r\n                                        inputSize={SIZE.LARGE}\r\n                                        onChange={handlePasswordInputOnChange}\r\n                                        disabled={isWaiting}\r\n                                        createMode={true}\r\n                                        info={passwordInfo as string}\r\n                                        error={passwordError}\r\n                                    />\r\n                                    {getNewsletterCheck()}\r\n                                    <SaveButton\r\n                                        extraClasses='signup-body-card-form-button-submit large'\r\n                                        saving={isWaiting}\r\n                                        disabled={!canSubmit}\r\n                                        onClick={handleSubmit}\r\n                                        defaultMessage={formatMessage({id: 'signup_user_completed.create', defaultMessage: 'Create account'})}\r\n                                        savingMessage={formatMessage({id: 'signup_user_completed.saving', defaultMessage: 'Creating account…'})}\r\n                                    />\r\n                                </form>\r\n                            )}\r\n                            {enableSignUpWithEmail && enableExternalSignup && (\r\n                                <div className='signup-body-card-form-divider'>\r\n                                    <span className='signup-body-card-form-divider-label'>\r\n                                        {formatMessage({id: 'signup_user_completed.or', defaultMessage: 'or create an account with'})}\r\n                                    </span>\r\n                                </div>\r\n                            )}\r\n                            {enableExternalSignup && (\r\n                                <div className={classNames('signup-body-card-form-login-options', {column: !enableSignUpWithEmail})}>\r\n                                    {getExternalSignupOptions().map((option) => (\r\n                                        <ExternalLoginButton\r\n                                            key={option.id}\r\n                                            direction={enableSignUpWithEmail ? undefined : 'column'}\r\n                                            {...option}\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                            {enableSignUpWithEmail && !serverError && (\r\n                                <p className='signup-body-card-agreement'>\r\n                                    <FormattedMessage\r\n                                        id='signup.agreement'\r\n                                        defaultMessage='By proceeding to create your account and use {siteName}, you agree to our <termsOfUseLink>Terms of Use</termsOfUseLink> and <privacyPolicyLink>Privacy Policy</privacyPolicyLink>.  If you do not agree, you cannot use {siteName}.'\r\n                                        values={{\r\n                                            siteName: SiteName,\r\n                                            termsOfUseLink: (chunks) => (\r\n                                                <ExternalLink\r\n                                                    href={TermsOfServiceLink as string}\r\n                                                    location='signup-terms-of-use'\r\n                                                >\r\n                                                    {chunks}\r\n                                                </ExternalLink>\r\n                                            ),\r\n                                            privacyPolicyLink: (chunks) => (\r\n                                                <ExternalLink\r\n                                                    href={PrivacyPolicyLink as string}\r\n                                                    location='signup-privacy-policy'\r\n                                                >\r\n                                                    {chunks}\r\n                                                </ExternalLink>\r\n                                            ),\r\n                                        }}\r\n                                    />\r\n                                </p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className='signup-body'>\r\n            <div className='signup-body-content'>\r\n                {getContent()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Signup;\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport type {IntlShape} from 'react-intl';\r\nimport {FormattedMessage, defineMessages} from 'react-intl';\r\n\r\nimport type {PasswordConfig} from 'mattermost-redux/selectors/entities/general';\r\n\r\nimport Constants from 'utils/constants';\r\n\r\nexport function isValidPassword(password: string, passwordConfig: PasswordConfig, intl?: IntlShape) {\r\n    let errorId = passwordErrors.passwordError.id;\r\n    let valid = true;\r\n    const minimumLength = passwordConfig.minimumLength || Constants.MIN_PASSWORD_LENGTH;\r\n\r\n    if (password.length < minimumLength || password.length > Constants.MAX_PASSWORD_LENGTH) {\r\n        valid = false;\r\n    }\r\n\r\n    if (passwordConfig.requireLowercase) {\r\n        if (!password.match(/[a-z]/)) {\r\n            valid = false;\r\n        }\r\n\r\n        errorId += 'Lowercase';\r\n    }\r\n\r\n    if (passwordConfig.requireUppercase) {\r\n        if (!password.match(/[A-Z]/)) {\r\n            valid = false;\r\n        }\r\n\r\n        errorId += 'Uppercase';\r\n    }\r\n\r\n    if (passwordConfig.requireNumber) {\r\n        if (!password.match(/[0-9]/)) {\r\n            valid = false;\r\n        }\r\n\r\n        errorId += 'Number';\r\n    }\r\n\r\n    if (passwordConfig.requireSymbol) {\r\n        if (!password.match(/[ !\"\\\\#$%&'()*+,-./:;<=>?@[\\]^_`|~]/)) {\r\n            valid = false;\r\n        }\r\n\r\n        errorId += 'Symbol';\r\n    }\r\n\r\n    let error;\r\n    if (!valid) {\r\n        error = intl ? (\r\n            intl.formatMessage(\r\n                {\r\n                    id: errorId,\r\n                    defaultMessage: 'Must be {min}-{max} characters long.',\r\n                },\r\n                {\r\n                    min: minimumLength,\r\n                    max: Constants.MAX_PASSWORD_LENGTH,\r\n                },\r\n            )\r\n        ) : (\r\n            <FormattedMessage\r\n                id={errorId}\r\n                defaultMessage='Must be {min}-{max} characters long.'\r\n                values={{\r\n                    min: minimumLength,\r\n                    max: Constants.MAX_PASSWORD_LENGTH,\r\n                }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return {valid, error};\r\n}\r\n\r\nexport const passwordErrors = defineMessages({\r\n    passwordError: {id: 'user.settings.security.passwordError', defaultMessage: 'Your password must be {min}-{max} characters long.'},\r\n    passwordErrorLowercase: {id: 'user.settings.security.passwordErrorLowercase', defaultMessage: 'Your password must be {min}-{max} characters long and include lowercase letters.'},\r\n    passwordErrorLowercaseNumber: {id: 'user.settings.security.passwordErrorLowercaseNumber', defaultMessage: 'Your password must be {min}-{max} characters long and include lowercase letters and numbers.'},\r\n    passwordErrorLowercaseNumberSymbol: {id: 'user.settings.security.passwordErrorLowercaseNumberSymbol', defaultMessage: 'Your password must be {min}-{max} characters long and include lowercase letters, numbers, and special characters.'},\r\n    passwordErrorLowercaseSymbol: {id: 'user.settings.security.passwordErrorLowercaseSymbol', defaultMessage: 'Your password must be {min}-{max} characters long and include lowercase letters and special characters.'},\r\n    passwordErrorLowercaseUppercase: {id: 'user.settings.security.passwordErrorLowercaseUppercase', defaultMessage: 'Your password must be {min}-{max} characters long and include both lowercase and uppercase letters.'},\r\n    passwordErrorLowercaseUppercaseNumber: {id: 'user.settings.security.passwordErrorLowercaseUppercaseNumber', defaultMessage: 'Your password must be {min}-{max} characters long and include both lowercase and uppercase letters, and numbers.'},\r\n    passwordErrorLowercaseUppercaseNumberSymbol: {id: 'user.settings.security.passwordErrorLowercaseUppercaseNumberSymbol', defaultMessage: 'Your password must be {min}-{max} characters long and include both lowercase and uppercase letters, numbers, and special characters.'},\r\n    passwordErrorLowercaseUppercaseSymbol: {id: 'user.settings.security.passwordErrorLowercaseUppercaseSymbol', defaultMessage: 'Your password must be {min}-{max} characters long and include both lowercase and uppercase letters, and special characters.'},\r\n    passwordErrorNumber: {id: 'user.settings.security.passwordErrorNumber', defaultMessage: 'Your password must be {min}-{max} characters long and include numbers.'},\r\n    passwordErrorNumberSymbol: {id: 'user.settings.security.passwordErrorNumberSymbol', defaultMessage: 'Your password must be {min}-{max} characters long and include numbers and special characters.'},\r\n    passwordErrorSymbol: {id: 'user.settings.security.passwordErrorSymbol', defaultMessage: 'Your password must be {min}-{max} characters long and include special characters.'},\r\n    passwordErrorUppercase: {id: 'user.settings.security.passwordErrorUppercase', defaultMessage: 'Your password must be {min}-{max} characters long and include uppercase letters.'},\r\n    passwordErrorUppercaseNumber: {id: 'user.settings.security.passwordErrorUppercaseNumber', defaultMessage: 'Your password must be {min}-{max} characters long and include uppercase letters, and numbers.'},\r\n    passwordErrorUppercaseNumberSymbol: {id: 'user.settings.security.passwordErrorUppercaseNumberSymbol', defaultMessage: 'Your password must be {min}-{max} characters long and include uppercase letters, numbers, and special characters.'},\r\n    passwordErrorUppercaseSymbol: {id: 'user.settings.security.passwordErrorUppercaseSymbol', defaultMessage: 'Your password must be {min}-{max} characters long and include uppercase letters, and special characters.'},\r\n});\r\n"],"names":["props","id","ariaLabel","text","rest","_objectWithoutProperties","_excluded","React","className","Object","assign","type","htmlFor","_ref","_params$get","_params$get2","onCustomizeHeader","intl","useIntl","formatMessage","dispatch","useDispatch","history","useHistory","search","useLocation","params","URLSearchParams","token","get","inviteId","data","parsedData","JSON","parse","email","parsedEmail","name","parsedTeamName","config","useSelector","getConfig","EnableOpenServer","EnableUserCreation","NoAccounts","EnableSignUpWithEmail","EnableSignUpWithGitLab","EnableSignUpWithGoogle","EnableSignUpWithOffice365","EnableSignUpWithOpenId","EnableLdap","EnableSaml","SamlLoginButtonText","LdapLoginFieldName","SiteName","CustomDescriptionText","GitLabButtonText","GitLabButtonColor","OpenIdButtonText","OpenIdButtonColor","EnableCustomBrand","CustomBrandText","TermsOfServiceLink","PrivacyPolicyLink","IsLicensed","getLicense","loggedIn","Boolean","getCurrentUserId","onboardingFlowEnabled","getIsOnboardingFlowEnabled","usedBefore","state","undefined","getGlobalItem","emailInput","useRef","nameInput","passwordInput","isLicensed","enableUserCreation","enableSignUpWithEmail","enableSignUpWithGitLab","enableSignUpWithGoogle","enableSignUpWithOffice365","enableSignUpWithOpenId","enableLDAP","enableSAML","enableCustomBrand","noOpenServer","setEmail","useState","setName","password","setPassword","loading","setLoading","isWaiting","setIsWaiting","emailError","setEmailError","nameError","setNameError","passwordError","setPasswordError","brandImageError","setBrandImageError","serverError","setServerError","teamName","setTeamName","alertBanner","setAlertBanner","isMobileView","setIsMobileView","subscribeToSecurityNewsletter","setSubscribeToSecurityNewsletter","submitClicked","setSubmitClicked","cwsAvailability","useCWSAvailabilityCheck","enableExternalSignup","hasError","canSubmit","passwordConfig","getPasswordConfig","error","passwordInfo","isValidPassword","desktopLoginLink","setDesktopLoginLink","handleHeaderBackButtonOnClick","useCallback","goBack","handleInvalidInvite","_ref2","errorMessage","server_error_id","message","defaultMessage","getAlternateLink","AlternateLinkLayout","alternateMessage","alternateLinkPath","alternateLinkLabel","onWindowResize","throttle","window","innerWidth","desktopExternalAuth","href","event","isDesktopApp","preventDefault","push","concat","useEffect","removeGlobalItem","addEventListener","async","team","addUserToTeamFromInvite","Constants","DEFAULT_CHANNEL","handleAddUserToTeamFromInvite","getTeamInviteInfo","getInviteInfo","redirectUserToDefaultTeam","removeEventListener","document","title","siteName","onBackButtonClick","alternateLink","current","focus","LoadingScreen","handleBrandImageError","getMessageSubtitle","Markdown","options","mentionHighlight","handleEmailOnChange","_ref3","target","value","dismissAlert","handleNameOnChange","_ref4","handlePasswordInputOnChange","_ref5","postSignupSuccess","redirectTo","loadMe","setGlobalItem","stringify","handleSubmit","e","isUserValid","_emailInput$current","_nameInput$current","_passwordInput$curren","_passwordInput$curren2","isValid","providedEmail","trim","isEmail","providedUsername","toLowerCase","usernameError","isValidUsername","ValidationErrors","RESERVED_NAME","min","MIN_USERNAME_LENGTH","max","MAX_USERNAME_LENGTH","providedPassword","_emailInput$current2","_nameInput$current2","_passwordInput$curren3","user","username","createUser","mode","onDismiss","loginById","verifyUrl","encodeURIComponent","handleSignupSuccess","subscribeToSecurityNewsletterFunc","Client4","subscribeToNewsletter","subscribed_content","console","handleReturnButtonOnClick","replace","getContent","ColumnLayout","titleColumn","extraContent","onClick","Route","path","render","DesktopAuthToken","onLogin","emailCustomLabelForInput","ItemStatus","INFO","ERROR","classNames","alt","src","getBrandImageUrl","onError","AlertBanner","Input","ref","inputSize","SIZE","LARGE","onChange","placeholder","disabled","autoFocus","customMessage","PasswordInput","createMode","info","CSWAvailabilityCheckTypes","Available","CheckInput","a","chunks","ExternalLink","location","HostedCustomerLinks","PRIVACY","aa","NEWSLETTER_UNSUBSCRIBE_LINK","span","checked","link","SECURITY_UPDATES","SaveButton","extraClasses","saving","savingMessage","column","getExternalSignupOptions","externalLoginOptions","url","getOAuthRoute","icon","LoginGitlabIcon","label","style","color","borderColor","LoginGoogleIcon","EntraIdIcon","LoginOpenIDIcon","newSearchParam","set","CREATE_LDAP","getUrl","toString","LockIcon","map","option","ExternalLoginButton","key","direction","FormattedMessage","values","termsOfUseLink","privacyPolicyLink","errorId","passwordErrors","valid","minimumLength","MIN_PASSWORD_LENGTH","length","MAX_PASSWORD_LENGTH","requireLowercase","match","requireUppercase","requireNumber","requireSymbol","defineMessages","passwordErrorLowercase","passwordErrorLowercaseNumber","passwordErrorLowercaseNumberSymbol","passwordErrorLowercaseSymbol","passwordErrorLowercaseUppercase","passwordErrorLowercaseUppercaseNumber","passwordErrorLowercaseUppercaseNumberSymbol","passwordErrorLowercaseUppercaseSymbol","passwordErrorNumber","passwordErrorNumberSymbol","passwordErrorSymbol","passwordErrorUppercase","passwordErrorUppercaseNumber","passwordErrorUppercaseNumberSymbol","passwordErrorUppercaseSymbol"],"sourceRoot":""}