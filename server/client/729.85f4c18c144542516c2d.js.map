{"version":3,"file":"729.85f4c18c144542516c2d.js","mappings":"4OAkCA,MAAMA,EAAkBC,IAGX,IAHY,OACrBC,EAAM,QACNC,GACIF,EACJ,IAAKC,EACD,OAAO,KAGX,MAAM,WAACE,GAAcF,EACfG,EAAc,GAEpB,IAAK,MAAMC,KAAWF,EAClB,GAAIG,OAAOC,OAAOJ,EAAYE,GAAU,CACpC,MAAMG,EAAQL,EAAWE,GACzB,GAAIG,EAAMC,KAAM,CACZ,MAAMC,EAAiBC,IAAAA,cAAoBH,EAAMI,WAAYN,OAAOO,OAAO,CAAC,EAAGL,EAAMM,YAAa,CAC9FC,SAAUA,KAAM,IAAAC,EAAAC,EACZf,EAAQgB,WAAWb,GAGF,QAAjBW,EAAAR,EAAMM,mBAAW,IAAAE,GAAU,QAAVC,EAAjBD,EAAmBD,gBAAQ,IAAAE,GAA3BA,EAAAE,KAAAH,EAA+B,EAEnCI,OAAQlB,EAAQgB,WAAWG,UAAK,EAAMhB,GACtCiB,IAAK,GAAFC,OAAKlB,EAAO,aAGnBD,EAAYoB,KAAKd,EACrB,CACJ,CAGJ,OAAOC,IAAAA,cAAAA,IAAAA,SAAA,KAAGP,EAAe,EAC3BL,EAAA0B,UAAA,CAlDExB,OAAMyB,IAAAA,MAAA,CACFvB,WAAUuB,IAAAA,SAAAA,IAAAA,MAAA,CAXdjB,KAAIiB,IAAAA,KAAAC,WACJf,WAAUc,IAAAA,YAAAC,WACVb,YAAWY,IAAAA,SAAAA,IAAAA,QAAAC,aAAAA,WAiBXzB,QAAOwB,IAAAA,MAAA,CAKHR,WAAUQ,IAAAA,KAAAC,aAAAA,YAsClB,UCzCA,GAAeC,EAAAA,EAAAA,UAdf,SAAyBC,GACrB,MAAO,CACH5B,OAAQ4B,EAAMC,MAAM7B,OAE5B,IAEA,SAA4B8B,GACxB,MAAO,CACH7B,SAAS8B,EAAAA,EAAAA,IAAmB,CACxBd,WAAUA,EAAAA,GACXa,GAEX,GAEA,CAA4DhC,E","sources":["webpack://mattermost-webapp/./src/components/modal_controller/modal_controller.tsx","webpack://mattermost-webapp/./src/components/modal_controller/index.ts"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\n\r\ntype Modal = {\r\n    open: boolean;\r\n    dialogType: React.ComponentType;\r\n    dialogProps?: Record<string, any>;\r\n}\r\n\r\ntype Props = {\r\n\r\n    /*\r\n     * Object that has map of modal's id and element\r\n     */\r\n    modals: {\r\n        modalState: {\r\n            [modalId: string]: Modal;\r\n        };\r\n    };\r\n\r\n    /*\r\n     * Object with action creators\r\n     */\r\n    actions: {\r\n\r\n        /*\r\n         * Action creator to close modal\r\n         */\r\n        closeModal: (modalId: string) => void;\r\n    };\r\n}\r\n\r\nconst ModalController = ({\r\n    modals,\r\n    actions,\r\n}: Props) => {\r\n    if (!modals) {\r\n        return null;\r\n    }\r\n\r\n    const {modalState} = modals;\r\n    const modalOutput = [];\r\n\r\n    for (const modalId in modalState) {\r\n        if (Object.hasOwn(modalState, modalId)) {\r\n            const modal = modalState[modalId];\r\n            if (modal.open) {\r\n                const modalComponent = React.createElement(modal.dialogType, Object.assign({}, modal.dialogProps, {\r\n                    onExited: () => {\r\n                        actions.closeModal(modalId);\r\n\r\n                        // Call any onExited prop provided by whoever opened the modal, if one was provided\r\n                        modal.dialogProps?.onExited?.();\r\n                    },\r\n                    onHide: actions.closeModal.bind(this, modalId),\r\n                    key: `${modalId}_modal`,\r\n                }));\r\n\r\n                modalOutput.push(modalComponent);\r\n            }\r\n        }\r\n    }\r\n\r\n    return <>{modalOutput}</>;\r\n};\r\n\r\nexport default ModalController;\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport type {Dispatch} from 'redux';\r\n\r\nimport {closeModal} from 'actions/views/modals';\r\n\r\nimport type {GlobalState} from 'types/store/index.js';\r\n\r\nimport ModalController from './modal_controller';\r\n\r\nfunction mapStateToProps(state: GlobalState) {\r\n    return {\r\n        modals: state.views.modals,\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch) {\r\n    return {\r\n        actions: bindActionCreators({\r\n            closeModal,\r\n        }, dispatch),\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalController);\r\n"],"names":["ModalController","_ref","modals","actions","modalState","modalOutput","modalId","Object","hasOwn","modal","open","modalComponent","React","dialogType","assign","dialogProps","onExited","_modal$dialogProps","_modal$dialogProps$on","closeModal","call","onHide","bind","key","concat","push","propTypes","_pt","isRequired","connect","state","views","dispatch","bindActionCreators"],"sourceRoot":""}