{"version":3,"file":"7743.572df3699374c07e1566.js","mappings":"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","sources":["webpack://mattermost-webapp/./src/components/common/hooks/useCopyText.ts","webpack://mattermost-webapp/./src/components/widgets/icons/mail_icon.tsx","webpack://mattermost-webapp/../node_modules/react-select/async-creatable/dist/react-select-async-creatable.esm.js","webpack://mattermost-webapp/./src/components/widgets/icons/mail_plus_icon.tsx","webpack://mattermost-webapp/./src/components/widgets/inputs/users_emails_input.tsx","webpack://mattermost-webapp/../node_modules/react-select/dist/useCreatable-84008237.esm.js"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {useRef, useCallback, useState} from 'react';\r\nimport {defineMessages} from 'react-intl';\r\n\r\ntype CopyOptions = {\r\n    successCopyTimeout?: number;\r\n    text: string;\r\n};\r\n\r\ntype CopyResponse = {\r\n    copiedRecently: boolean;\r\n    copyError: boolean;\r\n    onClick: () => void;\r\n};\r\n\r\nconst DEFAULT_COPY_TIMEOUT = 4000;\r\n\r\nexport default function useCopyText({\r\n    text,\r\n    successCopyTimeout: successCopyTimeoutReceived,\r\n}: CopyOptions): CopyResponse {\r\n    const [copiedRecently, setCopiedRecently] = useState(false);\r\n    const [copyError, setCopyError] = useState(false);\r\n    const timerRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    let successCopyTimeout = DEFAULT_COPY_TIMEOUT;\r\n    if (successCopyTimeoutReceived || successCopyTimeoutReceived === 0) {\r\n        successCopyTimeout = successCopyTimeoutReceived;\r\n    }\r\n\r\n    const onClick = useCallback(() => {\r\n        if (timerRef.current) {\r\n            clearTimeout(timerRef.current);\r\n            timerRef.current = null;\r\n        }\r\n        const clipboard = navigator.clipboard;\r\n        if (clipboard) {\r\n            clipboard.writeText(text).\r\n                then(() => {\r\n                    setCopiedRecently(true);\r\n                    setCopyError(false);\r\n                }).\r\n                catch(() => {\r\n                    setCopiedRecently(false);\r\n                    setCopyError(true);\r\n                });\r\n        } else {\r\n            const textField = document.createElement('textarea');\r\n            textField.innerText = text;\r\n            textField.style.position = 'fixed';\r\n            textField.style.opacity = '0';\r\n\r\n            document.body.appendChild(textField);\r\n            textField.select();\r\n\r\n            try {\r\n                const success = document.execCommand('copy');\r\n                setCopiedRecently(success);\r\n                setCopyError(!success);\r\n            } catch (err) {\r\n                setCopiedRecently(false);\r\n                setCopyError(true);\r\n            }\r\n            textField.remove();\r\n        }\r\n\r\n        timerRef.current = setTimeout(() => {\r\n            setCopiedRecently(false);\r\n            setCopyError(false);\r\n        }, successCopyTimeout);\r\n    }, [successCopyTimeout, text]);\r\n\r\n    return {\r\n        copiedRecently,\r\n        copyError,\r\n        onClick,\r\n    };\r\n}\r\n\r\nexport const messages = defineMessages({\r\n    copy: {id: 'copy_text.copy', defaultMessage: 'Copy'},\r\n    copied: {id: 'copy_text.copied', defaultMessage: 'Copied'},\r\n});\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {useIntl} from 'react-intl';\r\n\r\nexport default function MailIcon(props: React.HTMLAttributes<HTMLSpanElement>) {\r\n    const {formatMessage} = useIntl();\r\n    return (\r\n        <span {...props}>\r\n            <svg\r\n                width='24px'\r\n                height='24px'\r\n                viewBox='0 0 24 24'\r\n                role='img'\r\n                aria-label={formatMessage({id: 'generic_icons.mail', defaultMessage: 'Mail Icon'})}\r\n            >\r\n                <path d='M4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4M12,11L20,6H4L12,11M4,18H20V8.37L12,13.36L4,8.37V18Z'/>\r\n            </svg>\r\n        </span>\r\n    );\r\n}\r\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { forwardRef } from 'react';\nimport { S as Select } from '../../dist/Select-aab027f3.esm.js';\nimport { u as useAsync } from '../../dist/useAsync-c64f5536.esm.js';\nimport { u as useStateManager } from '../../dist/useStateManager-7e1e8489.esm.js';\nimport { u as useCreatable } from '../../dist/useCreatable-84008237.esm.js';\nimport '@babel/runtime/helpers/objectSpread2';\nimport '@babel/runtime/helpers/classCallCheck';\nimport '@babel/runtime/helpers/createClass';\nimport '@babel/runtime/helpers/inherits';\nimport '@babel/runtime/helpers/createSuper';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport '../../dist/index-641ee5b8.esm.js';\nimport '@emotion/react';\nimport '@babel/runtime/helpers/slicedToArray';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@babel/runtime/helpers/typeof';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/defineProperty';\nimport 'react-dom';\nimport '@floating-ui/dom';\nimport 'use-isomorphic-layout-effect';\nimport 'memoize-one';\n\nvar AsyncCreatableSelect = /*#__PURE__*/forwardRef(function (props, ref) {\n  var stateManagerProps = useAsync(props);\n  var creatableProps = useStateManager(stateManagerProps);\n  var selectProps = useCreatable(creatableProps);\n  return /*#__PURE__*/React.createElement(Select, _extends({\n    ref: ref\n  }, selectProps));\n});\nvar AsyncCreatableSelect$1 = AsyncCreatableSelect;\n\nexport { AsyncCreatableSelect$1 as default };\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {useIntl} from 'react-intl';\r\n\r\nexport default function MailPlusIcon(props: React.HTMLAttributes<HTMLSpanElement>) {\r\n    const {formatMessage} = useIntl();\r\n    return (\r\n        <span {...props}>\r\n            <svg\r\n                width='24px'\r\n                height='24px'\r\n                viewBox='0 0 24 24'\r\n                role='img'\r\n                aria-label={formatMessage({id: 'generic_icons.add-mail', defaultMessage: 'Add Mail Icon'})}\r\n            >\r\n                <path d='M3,4C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H14V18H3V8.37L11,13.36L19,8.37V13H21V6A2,2 0 0,0 19,4H3M3,6H19L11,11L3,6M19,15V18H16V20H19V23H21V20H24V18H21V15H19Z'/>\r\n            </svg>\r\n        </span>\r\n    );\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport type {RefObject} from 'react';\r\nimport type {MessageDescriptor, IntlShape} from 'react-intl';\r\nimport {FormattedMessage, defineMessages, injectIntl} from 'react-intl';\r\nimport {components} from 'react-select';\r\nimport type {FormatOptionLabelMeta, InputActionMeta, InputProps, Options, StylesConfig, SelectInstance, MultiValue, SingleValue, OptionsOrGroups, GroupBase, MultiValueRemoveProps} from 'react-select';\r\nimport AsyncCreatable from 'react-select/async-creatable';\r\n\r\nimport type {UserProfile} from '@mattermost/types/users';\r\n\r\nimport {Client4} from 'mattermost-redux/client';\r\nimport {isEmail} from 'mattermost-redux/utils/helpers';\r\nimport {isGuest} from 'mattermost-redux/utils/user_utils';\r\n\r\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\r\nimport CloseCircleSolidIcon from 'components/widgets/icons/close_circle_solid_icon';\r\nimport MailIcon from 'components/widgets/icons/mail_icon';\r\nimport MailPlusIcon from 'components/widgets/icons/mail_plus_icon';\r\nimport LoadingSpinner from 'components/widgets/loading/loading_spinner';\r\nimport BotTag from 'components/widgets/tag/bot_tag';\r\nimport GuestTag from 'components/widgets/tag/guest_tag';\r\nimport Avatar from 'components/widgets/users/avatar';\r\n\r\nimport {getDisplayName, getLongDisplayNameParts, imageURLForUser} from 'utils/utils';\r\n\r\nimport './users_emails_input.scss';\r\n\r\ntype Props = {\r\n    placeholder: string;\r\n    ariaLabel: string;\r\n    usersLoader: (search: string, callback: (users: UserProfile[]) => void) => Promise<UserProfile[]> | undefined;\r\n    onUsersLoad?: (users: UserProfile[]) => void;\r\n    onBlur?: () => void;\r\n    onChange: (change: Array<UserProfile | string>) => void;\r\n    showError?: boolean;\r\n    errorMessage?: MessageDescriptor;\r\n    errorMessageValues?: Record<string, React.ReactNode>;\r\n    value: Array<UserProfile | string>;\r\n    onInputChange: (change: string) => void;\r\n    inputValue: string;\r\n    noMatchMessage?: MessageDescriptor;\r\n    validAddressMessage?: MessageDescriptor;\r\n    loadingMessage?: MessageDescriptor;\r\n    emailInvitationsEnabled: boolean;\r\n    extraErrorText?: React.ReactNode;\r\n    autoFocus?: boolean;\r\n    suppressNoOptionsMessage?: boolean;\r\n    onPaste?: (e: ClipboardEvent) => void;\r\n    intl: IntlShape;\r\n}\r\n\r\nexport type EmailInvite = {\r\n    value: string;\r\n    label: string;\r\n}\r\n\r\ntype State = {\r\n    options: UserProfile[];\r\n    prevValue: string;\r\n}\r\n\r\nconst multipleValuesDelimiter = /[\\s,;]+/;\r\n\r\nconst messages = defineMessages({\r\n    loadingDefault: {\r\n        id: 'widgets.users_emails_input.loading',\r\n        defaultMessage: 'Loading',\r\n    },\r\n    noMatchDefault: {\r\n        id: 'widgets.users_emails_input.no_user_found_matching',\r\n        defaultMessage: 'No one found matching **{text}**. Enter their email to invite them.',\r\n    },\r\n    validAddressDefault: {\r\n        id: 'widgets.users_emails_input.valid_email',\r\n        defaultMessage: 'Add **{email}**',\r\n    },\r\n});\r\n\r\nexport class UsersEmailsInput extends React.PureComponent<Props, State> {\r\n    static defaultProps = {\r\n        noMatchMessage: messages.noMatchDefault,\r\n        validAddress: messages.validAddressDefault,\r\n        loadingMessage: messages.loadingDefault,\r\n        showError: false,\r\n    };\r\n    private selectRef: RefObject<SelectInstance<UserProfile | EmailInvite, true>>;\r\n\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.selectRef = React.createRef();\r\n        this.state = {\r\n            options: [],\r\n            prevValue: this.props.inputValue,\r\n        };\r\n    }\r\n\r\n    renderUserName = (user: UserProfile) => {\r\n        const parts = getLongDisplayNameParts(user);\r\n        let fullName = null;\r\n        if (parts.fullName) {\r\n            fullName = (<span className='fullname'>{parts.fullName}</span>);\r\n        }\r\n        let nickname = null;\r\n        if (parts.nickname) {\r\n            nickname = (<span className='nickname'>{parts.nickname}</span>);\r\n        }\r\n\r\n        return (\r\n            <>\r\n                {parts.displayName}\r\n                {fullName}\r\n                {nickname}\r\n            </>\r\n        );\r\n    };\r\n\r\n    loadingMessage = (): string => {\r\n        const text = (\r\n            <FormattedMessage\r\n                {...this.props.loadingMessage}\r\n            />\r\n        );\r\n\r\n        // faking types to satisfy the interface for the version of react-select we are on.\r\n        return (<LoadingSpinner text={text}/>) as unknown as string;\r\n    };\r\n\r\n    getOptionValue = (obj: UserProfile | EmailInvite): string => {\r\n        if (this.isUserProfile(obj)) {\r\n            return obj.id;\r\n        }\r\n        return obj.value;\r\n    };\r\n\r\n    formatOptionLabel = (user: UserProfile | EmailInvite, options: FormatOptionLabelMeta<UserProfile | EmailInvite>) => {\r\n        const profileImg = imageURLForUser((user as UserProfile).id, (user as UserProfile).last_picture_update);\r\n        let guestBadge = null;\r\n        let botBadge = null;\r\n\r\n        if ((user as UserProfile).is_bot) {\r\n            botBadge = <BotTag/>;\r\n        }\r\n\r\n        if (!isEmail((user as EmailInvite).value) && isGuest((user as UserProfile).roles)) {\r\n            guestBadge = <GuestTag/>;\r\n        }\r\n\r\n        if (options.context === 'menu') {\r\n            if ((user as EmailInvite).value && isEmail((user as EmailInvite).value)) {\r\n                return this.getCreateLabel((user as EmailInvite).value);\r\n            }\r\n            return (\r\n                <>\r\n                    <Avatar\r\n                        size='lg'\r\n                        username={(user as UserProfile).username}\r\n                        url={profileImg}\r\n                    />\r\n                    {this.renderUserName(user as UserProfile)}\r\n                    {botBadge}\r\n                    {guestBadge}\r\n                </>\r\n            );\r\n        }\r\n\r\n        if ((user as EmailInvite).value && isEmail((user as EmailInvite).value)) {\r\n            return (\r\n                <>\r\n                    <MailIcon className='mail-icon'/>\r\n                    <span>{(user as EmailInvite).value}</span>\r\n                </>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <Avatar\r\n                    size='sm'\r\n                    username={(user as UserProfile).username}\r\n                    url={profileImg}\r\n                />\r\n                {getDisplayName(user as UserProfile)}\r\n                {botBadge}\r\n                {guestBadge}\r\n            </>\r\n        );\r\n    };\r\n\r\n    onChange = (value: MultiValue<EmailInvite | UserProfile> | SingleValue<EmailInvite | UserProfile>) => {\r\n        if (this.props.onChange) {\r\n            if (value) {\r\n                this.props.onChange((value as Array<UserProfile | EmailInvite>).map((v) => {\r\n                    if (this.isUserProfile(v)) {\r\n                        return v;\r\n                    }\r\n                    return v.value;\r\n                }));\r\n            } else {\r\n                this.props.onChange([]);\r\n            }\r\n        }\r\n    };\r\n\r\n    getCreateLabel = (value: string) => (\r\n        <>\r\n            <MailPlusIcon className='mail-plus-icon'/>\r\n            <FormattedMarkdownMessage\r\n                key='widgets.users_emails_input.valid_email'\r\n                {...this.props.validAddressMessage}\r\n                values={{email: value}}\r\n                disableLinks={true}\r\n            />\r\n        </>\r\n    );\r\n\r\n    Input = (props: InputProps<EmailInvite | UserProfile, true>) => {\r\n        const handlePaste = (e: ClipboardEvent) => {\r\n            e.preventDefault();\r\n            const clipboardText = e.clipboardData?.getData('Text') || '';\r\n            this.appendDelimitedValues(clipboardText);\r\n\r\n            if (this.props.onPaste) {\r\n                this.props.onPaste(e);\r\n            }\r\n        };\r\n\r\n        return (\r\n            <components.Input\r\n                {...props}\r\n\r\n                // The onPaste is not part of the InputProps type definition. It's fixed in v5 of react-select.\r\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n                // @ts-ignore - The type definition for the Input component is incorrect.\r\n                onPaste={handlePaste}\r\n            />\r\n        );\r\n    };\r\n\r\n    NoOptionsMessage = (props: Record<string, any>) => {\r\n        const inputValue = props.selectProps.inputValue;\r\n        if (!inputValue) {\r\n            return null;\r\n        }\r\n\r\n        const Msg: any = components.NoOptionsMessage;\r\n        return (\r\n            <div className='users-emails-input__option users-emails-input__option--no-matches'>\r\n                <Msg {...props}>\r\n                    <FormattedMarkdownMessage\r\n                        {...this.props.noMatchMessage}\r\n                        values={{text: inputValue}}\r\n                        disableLinks={true}\r\n                    />\r\n                </Msg>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    private renderAriaLabel = (option: UserProfile | EmailInvite): string => {\r\n        if (!option) {\r\n            return '';\r\n        }\r\n\r\n        if (this.isUserProfile(option)) {\r\n            return (option as UserProfile).username;\r\n        }\r\n\r\n        return (option as EmailInvite).value;\r\n    };\r\n\r\n    MultiValueRemove = (props: MultiValueRemoveProps<EmailInvite | UserProfile, true>) => {\r\n        const {children, innerProps} = props;\r\n\r\n        return (\r\n            <div\r\n                {...innerProps}\r\n                role='button'\r\n                tabIndex={0}\r\n                aria-label={this.props.intl.formatMessage({\r\n                    id: 'multiselect.remove',\r\n                    defaultMessage: 'Remove {label}',\r\n                }, {\r\n                    label: this.renderAriaLabel(props.data),\r\n                })}\r\n                onKeyDown={(e) => {\r\n                    if (e.key === 'Enter' || e.key === ' ') {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        innerProps.onClick?.(e as unknown as React.MouseEvent<HTMLDivElement, MouseEvent>);\r\n                    }\r\n                }}\r\n            >\r\n                {children || <CloseCircleSolidIcon/>}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    components = {\r\n        NoOptionsMessage: this.props.suppressNoOptionsMessage ? () => null : this.NoOptionsMessage,\r\n        MultiValueRemove: this.MultiValueRemove,\r\n        IndicatorsContainer: () => null,\r\n        Input: this.Input,\r\n    };\r\n\r\n    handleInputChange = async (inputValue: string, action: InputActionMeta) => {\r\n        if (action.action === 'input-blur' && action.prevInputValue !== '') {\r\n            const values = this.formatValuesForCreatable();\r\n\r\n            // Check if the input is an existing user by username or email.\r\n            const option = this.state.options.find((o) =>\r\n                action.prevInputValue === o.username || action.prevInputValue === ('@' + o.username) ||\r\n                action.prevInputValue === o.email,\r\n            );\r\n\r\n            if (option) {\r\n                this.onChange([...values, option]);\r\n                this.props.onInputChange('');\r\n                this.setState((state) => ({\r\n                    ...state,\r\n                    prevValue: action.prevInputValue,\r\n                }));\r\n                return;\r\n            }\r\n\r\n            // Check if the input is a valid new email, if the email invitations are enabled.\r\n            if (this.props.emailInvitationsEnabled && isEmail(action.prevInputValue)) {\r\n                const email = action.prevInputValue;\r\n                this.onChange([...values, {value: email, label: email}]);\r\n                this.props.onInputChange('');\r\n                this.setState((state) => ({\r\n                    ...state,\r\n                    prevValue: action.prevInputValue,\r\n                }));\r\n            }\r\n        } else if (action.action === 'input-change' && action.prevInputValue !== '' && action.prevInputValue?.[action.prevInputValue.length - 1].match(multipleValuesDelimiter)) {\r\n            const newValuesCount = await this.appendDelimitedValues(action.prevInputValue);\r\n            if (newValuesCount === 0) {\r\n                return;\r\n            }\r\n        }\r\n        if (action.action !== 'input-blur' && action.action !== 'menu-close') {\r\n            this.props.onInputChange(inputValue);\r\n            this.setState((state) => ({\r\n                ...state,\r\n                prevValue: action.prevInputValue,\r\n            }));\r\n        }\r\n    };\r\n\r\n    formatValuesForCreatable = () => {\r\n        return this.props.value.map((v) => {\r\n            if ((v as UserProfile).id) {\r\n                return v as UserProfile;\r\n            }\r\n            return {label: v, value: v} as EmailInvite;\r\n        });\r\n    };\r\n\r\n    optionsLoader = (_input: string, callback: (options: UserProfile[]) => void) => {\r\n        const customCallback = (options: UserProfile[]) => {\r\n            this.setState({options});\r\n            const accessibleProfiles = options.map((user: UserProfile) => ({...user, label: user.username}));\r\n            callback(accessibleProfiles);\r\n            if (this.props.onUsersLoad) {\r\n                this.props.onUsersLoad(options);\r\n            }\r\n        };\r\n        const result = this.props.usersLoader(this.props.inputValue, customCallback);\r\n        if (result && result.then) {\r\n            result.then(customCallback);\r\n        }\r\n    };\r\n\r\n    showAddEmail = (inputValue: string, value: Options<UserProfile | EmailInvite>, options: OptionsOrGroups<EmailInvite | UserProfile, GroupBase<EmailInvite | UserProfile>>): boolean => {\r\n        return this.props.emailInvitationsEnabled && options.length === 0 && isEmail(inputValue);\r\n    };\r\n\r\n    onFocus = () => {\r\n        this.selectRef.current?.onInputChange(this.props.inputValue, {action: 'set-value', prevInputValue: this.props.inputValue});\r\n    };\r\n\r\n    onBlur = () => {\r\n        this.selectRef.current?.onInputChange(this.props.inputValue, {action: 'input-blur', prevInputValue: this.state.prevValue});\r\n        if (this.props.onBlur) {\r\n            this.props.onBlur();\r\n        }\r\n    };\r\n\r\n    appendDelimitedValues = async (values: string): Promise<number> => {\r\n        const existingValues = this.formatValuesForCreatable();\r\n        const entries = [...new Set(values.split(multipleValuesDelimiter))];\r\n\r\n        if (entries.length === 0) {\r\n            return 0;\r\n        }\r\n\r\n        const isUniqueEmail = (values: Array<UserProfile | EmailInvite>, email: string): boolean => {\r\n            return values.findIndex((v) => (\r\n                this.isEmailInvite(v) && v.value === email) || (this.isUserProfile(v) && v.email === email),\r\n            ) === -1;\r\n        };\r\n\r\n        const handleEmail = async (email: string): Promise<UserProfile | string | null> => {\r\n            if (!isUniqueEmail(existingValues, email)) {\r\n                return null;\r\n            }\r\n            const resp = await this.searchByEmail(email);\r\n            return resp || email;\r\n        };\r\n\r\n        const isUniqueUsername = (values: Array<UserProfile | EmailInvite>, username: string): boolean => {\r\n            return values.findIndex((v) => this.isUserProfile(v) && v.username === username) === -1;\r\n        };\r\n\r\n        const handleUsername = async (username: string): Promise<UserProfile | null> => {\r\n            if (!isUniqueUsername(existingValues, username)) {\r\n                return null;\r\n            }\r\n            return this.searchByUsername(username);\r\n        };\r\n\r\n        const promises = entries.map(async (entry) => {\r\n            if (entry === '') {\r\n                return Promise.resolve(null);\r\n            }\r\n\r\n            let res;\r\n            if (this.props.emailInvitationsEnabled && isEmail(entry)) {\r\n                res = await handleEmail(entry);\r\n            } else {\r\n                res = await handleUsername(entry);\r\n            }\r\n\r\n            if (typeof res === 'string') {\r\n                return Promise.resolve({value: res, label: res});\r\n            } else if (this.isUserProfile(res as UserProfile)) {\r\n                return Promise.resolve(res);\r\n            }\r\n            return Promise.resolve(null);\r\n        });\r\n\r\n        const newValues: Array<UserProfile | EmailInvite> = [];\r\n\r\n        (await Promise.allSettled(promises)).reduce((acc, v) => {\r\n            if (v.status === 'fulfilled') {\r\n                acc.push(v.value);\r\n            }\r\n            return acc;\r\n        }, [] as Array<UserProfile | EmailInvite | null>).forEach((v) => {\r\n            if (!v) {\r\n                return;\r\n            }\r\n\r\n            if (this.isEmailInvite(v) && (!isUniqueEmail(existingValues, v.value) || !isUniqueEmail(newValues, v.value))) {\r\n                return;\r\n            }\r\n\r\n            if (this.isUserProfile(v) && (\r\n                !isUniqueUsername(existingValues, v.username) || !isUniqueEmail(existingValues, v.email) ||\r\n                !isUniqueUsername(newValues, v.username) || !isUniqueEmail(newValues, v.email)\r\n            )) {\r\n                return;\r\n            }\r\n\r\n            newValues.push(v);\r\n        });\r\n\r\n        this.onChange([...existingValues, ...newValues]);\r\n        this.props.onInputChange('');\r\n\r\n        return newValues.length;\r\n    };\r\n\r\n    isUserProfile = (obj: UserProfile | EmailInvite): obj is UserProfile => {\r\n        return (obj as UserProfile).id !== undefined;\r\n    };\r\n\r\n    isEmailInvite = (obj: UserProfile | EmailInvite): obj is EmailInvite => {\r\n        return (obj as EmailInvite).value !== undefined;\r\n    };\r\n\r\n    searchByEmail = async (value: string): Promise<UserProfile | null> => {\r\n        let data;\r\n        try {\r\n            data = await Client4.getUserByEmail(value);\r\n        } catch (error) {\r\n            return null;\r\n        }\r\n        return data?.delete_at === 0 ? data : null;\r\n    };\r\n\r\n    searchByUsername = async (value: string): Promise<UserProfile | null> => {\r\n        let data;\r\n        try {\r\n            data = await Client4.getUserByUsername(value);\r\n        } catch (error) {\r\n            return null;\r\n        }\r\n        return data?.delete_at === 0 ? data : null;\r\n    };\r\n\r\n    render() {\r\n        const values = this.formatValuesForCreatable();\r\n\r\n        const Msg: any = components.NoOptionsMessage;\r\n\r\n        const styles = {\r\n            placeholder: (css) => ({\r\n                ...css,\r\n\r\n                pointerEvents: 'none',\r\n                userSelect: 'none',\r\n            }),\r\n            input: (css) => ({\r\n                ...css,\r\n\r\n                display: 'flex',\r\n                flex: '1 1 auto',\r\n\r\n                '> div': {\r\n                    width: '100%',\r\n                },\r\n\r\n                input: {\r\n                    width: '100% !important',\r\n                    textAlign: 'left',\r\n                },\r\n            }),\r\n        } satisfies StylesConfig<UserProfile | EmailInvite, true >;\r\n\r\n        return (\r\n            <>\r\n                <AsyncCreatable\r\n                    ref={this.selectRef}\r\n                    onChange={this.onChange}\r\n                    loadOptions={this.optionsLoader}\r\n                    isValidNewOption={this.showAddEmail}\r\n                    isMulti={true}\r\n                    isClearable={false}\r\n                    className={classNames(\r\n                        'UsersEmailsInput',\r\n                        this.props.showError ? 'error' : '',\r\n                        {empty: this.props.inputValue === ''},\r\n                        {'no-selections': values.length === 0},\r\n                    )}\r\n                    classNamePrefix='users-emails-input'\r\n                    placeholder={this.props.placeholder}\r\n                    components={this.components}\r\n                    getOptionValue={this.getOptionValue}\r\n                    formatOptionLabel={this.formatOptionLabel}\r\n                    defaultOptions={false}\r\n                    defaultMenuIsOpen={false}\r\n                    openMenuOnClick={false}\r\n                    loadingMessage={this.loadingMessage}\r\n                    onInputChange={this.handleInputChange}\r\n                    inputValue={this.props.inputValue}\r\n                    openMenuOnFocus={true}\r\n                    onFocus={() => this.onFocus}\r\n                    onBlur={() => this.onBlur}\r\n                    tabSelectsValue={true}\r\n                    value={values}\r\n                    aria-label={this.props.ariaLabel}\r\n                    autoFocus={this.props.autoFocus}\r\n                    styles={styles}\r\n                />\r\n                {this.props.showError && (\r\n                    <div className='InputErrorBox'>\r\n                        <Msg>\r\n                            <FormattedMarkdownMessage\r\n                                {...this.props.errorMessage}\r\n                                values={this.props.errorMessageValues}\r\n                                disableLinks={true}\r\n                            />\r\n                        </Msg>\r\n                        {this.props.extraErrorText || null}\r\n                    </div>\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default injectIntl(UsersEmailsInput);\r\n","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport { useMemo, useCallback } from 'react';\nimport { H as cleanValue, D as valueTernary } from './index-641ee5b8.esm.js';\nimport { g as getOptionValue, b as getOptionLabel } from './Select-aab027f3.esm.js';\n\nvar _excluded = [\"allowCreateWhileLoading\", \"createOptionPosition\", \"formatCreateLabel\", \"isValidNewOption\", \"getNewOptionData\", \"onCreateOption\", \"options\", \"onChange\"];\nvar compareOption = function compareOption() {\n  var inputValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var option = arguments.length > 1 ? arguments[1] : undefined;\n  var accessors = arguments.length > 2 ? arguments[2] : undefined;\n  var candidate = String(inputValue).toLowerCase();\n  var optionValue = String(accessors.getOptionValue(option)).toLowerCase();\n  var optionLabel = String(accessors.getOptionLabel(option)).toLowerCase();\n  return optionValue === candidate || optionLabel === candidate;\n};\nvar builtins = {\n  formatCreateLabel: function formatCreateLabel(inputValue) {\n    return \"Create \\\"\".concat(inputValue, \"\\\"\");\n  },\n  isValidNewOption: function isValidNewOption(inputValue, selectValue, selectOptions, accessors) {\n    return !(!inputValue || selectValue.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }) || selectOptions.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }));\n  },\n  getNewOptionData: function getNewOptionData(inputValue, optionLabel) {\n    return {\n      label: optionLabel,\n      value: inputValue,\n      __isNew__: true\n    };\n  }\n};\nfunction useCreatable(_ref) {\n  var _ref$allowCreateWhile = _ref.allowCreateWhileLoading,\n    allowCreateWhileLoading = _ref$allowCreateWhile === void 0 ? false : _ref$allowCreateWhile,\n    _ref$createOptionPosi = _ref.createOptionPosition,\n    createOptionPosition = _ref$createOptionPosi === void 0 ? 'last' : _ref$createOptionPosi,\n    _ref$formatCreateLabe = _ref.formatCreateLabel,\n    formatCreateLabel = _ref$formatCreateLabe === void 0 ? builtins.formatCreateLabel : _ref$formatCreateLabe,\n    _ref$isValidNewOption = _ref.isValidNewOption,\n    isValidNewOption = _ref$isValidNewOption === void 0 ? builtins.isValidNewOption : _ref$isValidNewOption,\n    _ref$getNewOptionData = _ref.getNewOptionData,\n    getNewOptionData = _ref$getNewOptionData === void 0 ? builtins.getNewOptionData : _ref$getNewOptionData,\n    onCreateOption = _ref.onCreateOption,\n    _ref$options = _ref.options,\n    propsOptions = _ref$options === void 0 ? [] : _ref$options,\n    propsOnChange = _ref.onChange,\n    restSelectProps = _objectWithoutProperties(_ref, _excluded);\n  var _restSelectProps$getO = restSelectProps.getOptionValue,\n    getOptionValue$1 = _restSelectProps$getO === void 0 ? getOptionValue : _restSelectProps$getO,\n    _restSelectProps$getO2 = restSelectProps.getOptionLabel,\n    getOptionLabel$1 = _restSelectProps$getO2 === void 0 ? getOptionLabel : _restSelectProps$getO2,\n    inputValue = restSelectProps.inputValue,\n    isLoading = restSelectProps.isLoading,\n    isMulti = restSelectProps.isMulti,\n    value = restSelectProps.value,\n    name = restSelectProps.name;\n  var newOption = useMemo(function () {\n    return isValidNewOption(inputValue, cleanValue(value), propsOptions, {\n      getOptionValue: getOptionValue$1,\n      getOptionLabel: getOptionLabel$1\n    }) ? getNewOptionData(inputValue, formatCreateLabel(inputValue)) : undefined;\n  }, [formatCreateLabel, getNewOptionData, getOptionLabel$1, getOptionValue$1, inputValue, isValidNewOption, propsOptions, value]);\n  var options = useMemo(function () {\n    return (allowCreateWhileLoading || !isLoading) && newOption ? createOptionPosition === 'first' ? [newOption].concat(_toConsumableArray(propsOptions)) : [].concat(_toConsumableArray(propsOptions), [newOption]) : propsOptions;\n  }, [allowCreateWhileLoading, createOptionPosition, isLoading, newOption, propsOptions]);\n  var onChange = useCallback(function (newValue, actionMeta) {\n    if (actionMeta.action !== 'select-option') {\n      return propsOnChange(newValue, actionMeta);\n    }\n    var valueArray = Array.isArray(newValue) ? newValue : [newValue];\n    if (valueArray[valueArray.length - 1] === newOption) {\n      if (onCreateOption) onCreateOption(inputValue);else {\n        var newOptionData = getNewOptionData(inputValue, inputValue);\n        var newActionMeta = {\n          action: 'create-option',\n          name: name,\n          option: newOptionData\n        };\n        propsOnChange(valueTernary(isMulti, [].concat(_toConsumableArray(cleanValue(value)), [newOptionData]), newOptionData), newActionMeta);\n      }\n      return;\n    }\n    propsOnChange(newValue, actionMeta);\n  }, [getNewOptionData, inputValue, isMulti, name, newOption, onCreateOption, propsOnChange, value]);\n  return _objectSpread(_objectSpread({}, restSelectProps), {}, {\n    options: options,\n    onChange: onChange\n  });\n}\n\nexport { useCreatable as u };\n"],"names":["DEFAULT_COPY_TIMEOUT","useCopyText","_ref","text","successCopyTimeout","successCopyTimeoutReceived","copiedRecently","setCopiedRecently","useState","copyError","setCopyError","timerRef","useRef","onClick","useCallback","current","clearTimeout","clipboard","navigator","writeText","then","catch","textField","document","createElement","innerText","style","position","opacity","body","appendChild","select","success","execCommand","err","remove","setTimeout","messages","defineMessages","copy","id","defaultMessage","copied","MailIcon","props","formatMessage","useIntl","React","width","height","viewBox","role","d","AsyncCreatableSelect$1","forwardRef","ref","stateManagerProps","u","creatableProps","selectProps","S","MailPlusIcon","multipleValuesDelimiter","loadingDefault","noMatchDefault","validAddressDefault","UsersEmailsInput","constructor","super","_defineProperty","user","parts","getLongDisplayNameParts","fullName","className","nickname","displayName","FormattedMessage","this","loadingMessage","LoadingSpinner","obj","isUserProfile","value","options","profileImg","imageURLForUser","last_picture_update","guestBadge","botBadge","is_bot","BotTag","isEmail","isGuest","roles","GuestTag","context","getCreateLabel","Avatar","size","username","url","renderUserName","getDisplayName","onChange","map","v","FormattedMarkdownMessage","Object","assign","key","validAddressMessage","values","email","disableLinks","components","Input","onPaste","e","_e$clipboardData","preventDefault","clipboardText","clipboardData","getData","appendDelimitedValues","inputValue","Msg","NoOptionsMessage","noMatchMessage","option","children","innerProps","tabIndex","intl","label","renderAriaLabel","data","onKeyDown","_innerProps$onClick","stopPropagation","call","CloseCircleSolidIcon","suppressNoOptionsMessage","MultiValueRemove","IndicatorsContainer","async","action","_action$prevInputValu","prevInputValue","formatValuesForCreatable","state","find","o","onInputChange","setState","_objectSpread","prevValue","emailInvitationsEnabled","length","match","_input","callback","customCallback","accessibleProfiles","onUsersLoad","result","usersLoader","_this$selectRef$curre","selectRef","_this$selectRef$curre2","onBlur","existingValues","entries","Set","split","isUniqueEmail","findIndex","isEmailInvite","handleEmail","searchByEmail","isUniqueUsername","handleUsername","searchByUsername","promises","entry","Promise","resolve","res","newValues","allSettled","reduce","acc","status","push","forEach","undefined","_data","Client4","getUserByEmail","error","delete_at","_data2","getUserByUsername","render","styles","placeholder","css","pointerEvents","userSelect","input","display","flex","textAlign","AsyncCreatable","loadOptions","optionsLoader","isValidNewOption","showAddEmail","isMulti","isClearable","classNames","showError","empty","classNamePrefix","getOptionValue","formatOptionLabel","defaultOptions","defaultMenuIsOpen","openMenuOnClick","handleInputChange","openMenuOnFocus","onFocus","tabSelectsValue","ariaLabel","autoFocus","errorMessage","errorMessageValues","extraErrorText","validAddress","injectIntl","_excluded","compareOption","arguments","accessors","candidate","String","toLowerCase","optionValue","optionLabel","getOptionLabel","builtins","formatCreateLabel","concat","selectValue","selectOptions","some","getNewOptionData","__isNew__","useCreatable","_ref$allowCreateWhile","allowCreateWhileLoading","_ref$createOptionPosi","createOptionPosition","_ref$formatCreateLabe","_ref$isValidNewOption","_ref$getNewOptionData","onCreateOption","_ref$options","propsOptions","propsOnChange","restSelectProps","_restSelectProps$getO","getOptionValue$1","g","_restSelectProps$getO2","getOptionLabel$1","isLoading","name","newOption","useMemo","newValue","actionMeta","valueArray","Array","isArray","newOptionData","newActionMeta"],"sourceRoot":""}